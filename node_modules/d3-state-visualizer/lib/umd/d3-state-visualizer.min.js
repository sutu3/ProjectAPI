!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self)["d3-state-visualizer"]={})}(this,(function(t){"use strict";var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r={exports:{}},o={exports:{}},i={exports:{}};!function(t){t.exports=function(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r},t.exports.__esModule=!0,t.exports.default=t.exports}(i),function(t){var n=i.exports;t.exports=function(t){if(Array.isArray(t))return n(t)},t.exports.__esModule=!0,t.exports.default=t.exports}(o);var u={exports:{}};!function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports}(u);var a={exports:{}};!function(t){var n=i.exports;t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports}(a);var c={exports:{}};!function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports}(c),function(t){var n=o.exports,e=u.exports,r=a.exports,i=c.exports;t.exports=function(t){return n(t)||e(t)||r(t)||i()},t.exports.__esModule=!0,t.exports.default=t.exports}(r);var l=e(r.exports),f={exports:{}};!function(t){t.exports=function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t},t.exports.__esModule=!0,t.exports.default=t.exports}(f);var s=e(f.exports),h={exports:{}};!function(t){!function(){var n={version:"3.5.17"},e=[].slice,r=function(t){return e.call(t)},o=this.document;function i(t){return t&&(t.ownerDocument||t.document||t).documentElement}function u(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(o)try{r(o.documentElement.childNodes)[0].nodeType}catch(t){r=function(t){for(var n=t.length,e=new Array(n);n--;)e[n]=t[n];return e}}if(Date.now||(Date.now=function(){return+new Date}),o)try{o.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var a=this.Element.prototype,c=a.setAttribute,l=a.setAttributeNS,f=this.CSSStyleDeclaration.prototype,s=f.setProperty;a.setAttribute=function(t,n){c.call(this,t,n+"")},a.setAttributeNS=function(t,n,e){l.call(this,t,n,e+"")},f.setProperty=function(t,n,e){s.call(this,t,n+"",e)}}function h(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function p(t){return null===t?NaN:+t}function g(t){return!isNaN(t)}function v(t){return{left:function(n,e,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=n.length);r<o;){var i=r+o>>>1;t(n[i],e)<0?r=i+1:o=i}return r},right:function(n,e,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=n.length);r<o;){var i=r+o>>>1;t(n[i],e)>0?o=i:r=i+1}return r}}}n.ascending=h,n.descending=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},n.min=function(t,n){var e,r,o=-1,i=t.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=t[o])&&r>=r){e=r;break}for(;++o<i;)null!=(r=t[o])&&e>r&&(e=r)}else{for(;++o<i;)if(null!=(r=n.call(t,t[o],o))&&r>=r){e=r;break}for(;++o<i;)null!=(r=n.call(t,t[o],o))&&e>r&&(e=r)}return e},n.max=function(t,n){var e,r,o=-1,i=t.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=t[o])&&r>=r){e=r;break}for(;++o<i;)null!=(r=t[o])&&r>e&&(e=r)}else{for(;++o<i;)if(null!=(r=n.call(t,t[o],o))&&r>=r){e=r;break}for(;++o<i;)null!=(r=n.call(t,t[o],o))&&r>e&&(e=r)}return e},n.extent=function(t,n){var e,r,o,i=-1,u=t.length;if(1===arguments.length){for(;++i<u;)if(null!=(r=t[i])&&r>=r){e=o=r;break}for(;++i<u;)null!=(r=t[i])&&(e>r&&(e=r),o<r&&(o=r))}else{for(;++i<u;)if(null!=(r=n.call(t,t[i],i))&&r>=r){e=o=r;break}for(;++i<u;)null!=(r=n.call(t,t[i],i))&&(e>r&&(e=r),o<r&&(o=r))}return[e,o]},n.sum=function(t,n){var e,r=0,o=t.length,i=-1;if(1===arguments.length)for(;++i<o;)g(e=+t[i])&&(r+=e);else for(;++i<o;)g(e=+n.call(t,t[i],i))&&(r+=e);return r},n.mean=function(t,n){var e,r=0,o=t.length,i=-1,u=o;if(1===arguments.length)for(;++i<o;)g(e=p(t[i]))?r+=e:--u;else for(;++i<o;)g(e=p(n.call(t,t[i],i)))?r+=e:--u;if(u)return r/u},n.quantile=function(t,n){var e=(t.length-1)*n+1,r=Math.floor(e),o=+t[r-1],i=e-r;return i?o+i*(t[r]-o):o},n.median=function(t,e){var r,o=[],i=t.length,u=-1;if(1===arguments.length)for(;++u<i;)g(r=p(t[u]))&&o.push(r);else for(;++u<i;)g(r=p(e.call(t,t[u],u)))&&o.push(r);if(o.length)return n.quantile(o.sort(h),.5)},n.variance=function(t,n){var e,r,o=t.length,i=0,u=0,a=-1,c=0;if(1===arguments.length)for(;++a<o;)g(e=p(t[a]))&&(u+=(r=e-i)*(e-(i+=r/++c)));else for(;++a<o;)g(e=p(n.call(t,t[a],a)))&&(u+=(r=e-i)*(e-(i+=r/++c)));if(c>1)return u/(c-1)},n.deviation=function(){var t=n.variance.apply(this,arguments);return t?Math.sqrt(t):t};var d=v(h);function y(t){return t.length}n.bisectLeft=d.left,n.bisect=n.bisectRight=d.right,n.bisector=function(t){return v(1===t.length?function(n,e){return h(t(n),e)}:t)},n.shuffle=function(t,n,e){(i=arguments.length)<3&&(e=t.length,i<2&&(n=0));for(var r,o,i=e-n;i;)o=Math.random()*i--|0,r=t[i+n],t[i+n]=t[o+n],t[o+n]=r;return t},n.permute=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},n.pairs=function(t){for(var n=0,e=t.length-1,r=t[0],o=new Array(e<0?0:e);n<e;)o[n]=[r,r=t[++n]];return o},n.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,r=n.min(t,y),o=new Array(r);++e<r;)for(var i,u=-1,a=o[e]=new Array(i);++u<i;)a[u]=t[u][e];return o},n.zip=function(){return n.transpose(arguments)},n.keys=function(t){var n=[];for(var e in t)n.push(e);return n},n.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},n.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},n.merge=function(t){for(var n,e,r,o=t.length,i=-1,u=0;++i<o;)u+=t[i].length;for(e=new Array(u);--o>=0;)for(n=(r=t[o]).length;--n>=0;)e[--u]=r[n];return e};var m=Math.abs;function b(t){for(var n=1;t*n%1;)n*=10;return n}function x(t,n){for(var e in n)Object.defineProperty(t.prototype,e,{value:n[e],enumerable:!1})}function M(){this._=Object.create(null)}n.range=function(t,n,e){if(arguments.length<3&&(e=1,arguments.length<2&&(n=t,t=0)),(n-t)/e==1/0)throw new Error("infinite range");var r,o=[],i=b(m(e)),u=-1;if(t*=i,n*=i,(e*=i)<0)for(;(r=t+e*++u)>n;)o.push(r/i);else for(;(r=t+e*++u)<n;)o.push(r/i);return o},n.map=function(t,n){var e=new M;if(t instanceof M)t.forEach((function(t,n){e.set(t,n)}));else if(Array.isArray(t)){var r,o=-1,i=t.length;if(1===arguments.length)for(;++o<i;)e.set(o,t[o]);else for(;++o<i;)e.set(n.call(t,r=t[o],o),r)}else for(var u in t)e.set(u,t[u]);return e};function _(t){return"__proto__"==(t+="")||"\0"===t[0]?"\0"+t:t}function w(t){return"\0"===(t+="")[0]?t.slice(1):t}function S(t){return _(t)in this._}function j(t){return(t=_(t))in this._&&delete this._[t]}function k(){var t=[];for(var n in this._)t.push(w(n));return t}function A(){var t=0;for(var n in this._)++t;return t}function E(){for(var t in this._)return!1;return!0}function N(){this._=Object.create(null)}function O(t){return t}function C(t,n,e){return function(){var r=e.apply(n,arguments);return r===n?t:r}}function z(t,n){if(n in t)return n;n=n.charAt(0).toUpperCase()+n.slice(1);for(var e=0,r=T.length;e<r;++e){var o=T[e]+n;if(o in t)return o}}x(M,{has:S,get:function(t){return this._[_(t)]},set:function(t,n){return this._[_(t)]=n},remove:j,keys:k,values:function(){var t=[];for(var n in this._)t.push(this._[n]);return t},entries:function(){var t=[];for(var n in this._)t.push({key:w(n),value:this._[n]});return t},size:A,empty:E,forEach:function(t){for(var n in this._)t.call(this,w(n),this._[n])}}),n.nest=function(){var t,e,r={},o=[],i=[];function u(n,i,a){if(a>=o.length)return e?e.call(r,i):t?i.sort(t):i;for(var c,l,f,s,h=-1,p=i.length,g=o[a++],v=new M;++h<p;)(s=v.get(c=g(l=i[h])))?s.push(l):v.set(c,[l]);return n?(l=n(),f=function(t,e){l.set(t,u(n,e,a))}):(l={},f=function(t,e){l[t]=u(n,e,a)}),v.forEach(f),l}function a(t,n){if(n>=o.length)return t;var e=[],r=i[n++];return t.forEach((function(t,r){e.push({key:t,values:a(r,n)})})),r?e.sort((function(t,n){return r(t.key,n.key)})):e}return r.map=function(t,n){return u(n,t,0)},r.entries=function(t){return a(u(n.map,t,0),0)},r.key=function(t){return o.push(t),r},r.sortKeys=function(t){return i[o.length-1]=t,r},r.sortValues=function(n){return t=n,r},r.rollup=function(t){return e=t,r},r},n.set=function(t){var n=new N;if(t)for(var e=0,r=t.length;e<r;++e)n.add(t[e]);return n},x(N,{has:S,add:function(t){return this._[_(t+="")]=!0,t},remove:j,values:k,size:A,empty:E,forEach:function(t){for(var n in this._)t.call(this,w(n))}}),n.behavior={},n.rebind=function(t,n){for(var e,r=1,o=arguments.length;++r<o;)t[e=arguments[r]]=C(t,n,n[e]);return t};var T=["webkit","ms","moz","Moz","o","O"];function q(){}function L(){}function P(t){var n=[],e=new M;function r(){for(var e,r=n,o=-1,i=r.length;++o<i;)(e=r[o].on)&&e.apply(this,arguments);return t}return r.on=function(r,o){var i,u=e.get(r);return arguments.length<2?u&&u.on:(u&&(u.on=null,n=n.slice(0,i=n.indexOf(u)).concat(n.slice(i+1)),e.remove(r)),o&&n.push(e.set(r,{on:o})),t)},r}function D(){n.event.preventDefault()}function R(){for(var t,e=n.event;t=e.sourceEvent;)e=t;return e}function U(t){for(var e=new L,r=0,o=arguments.length;++r<o;)e[arguments[r]]=P(e);return e.of=function(r,o){return function(i){try{var u=i.sourceEvent=n.event;i.target=t,n.event=i,e[i.type].apply(r,o)}finally{n.event=u}}},e}n.dispatch=function(){for(var t=new L,n=-1,e=arguments.length;++n<e;)t[arguments[n]]=P(t);return t},L.prototype.on=function(t,n){var e=t.indexOf("."),r="";if(e>=0&&(r=t.slice(e+1),t=t.slice(0,e)),t)return arguments.length<2?this[t].on(r):this[t].on(r,n);if(2===arguments.length){if(null==n)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},n.event=null,n.requote=function(t){return t.replace(I,"\\$&")};var I=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,F=function(t,n){for(var e in n)t[e]=n[e]};function H(t){return F(t,Z),t}var Y=function(t,n){return n.querySelector(t)},B=function(t,n){return n.querySelectorAll(t)},$=function(t,n){var e=t.matches||t[z(t,"matchesSelector")];return $=function(t,n){return e.call(t,n)},$(t,n)};"function"==typeof Sizzle&&(Y=function(t,n){return Sizzle(t,n)[0]||null},B=Sizzle,$=Sizzle.matchesSelector),n.selection=function(){return n.select(o.documentElement)};var Z=n.selection.prototype=[];function V(t){return"function"==typeof t?t:function(){return Y(t,this)}}function X(t){return"function"==typeof t?t:function(){return B(t,this)}}Z.select=function(t){var n,e,r,o,i=[];t=V(t);for(var u=-1,a=this.length;++u<a;){i.push(n=[]),n.parentNode=(r=this[u]).parentNode;for(var c=-1,l=r.length;++c<l;)(o=r[c])?(n.push(e=t.call(o,o.__data__,c,u)),e&&"__data__"in o&&(e.__data__=o.__data__)):n.push(null)}return H(i)},Z.selectAll=function(t){var n,e,o=[];t=X(t);for(var i=-1,u=this.length;++i<u;)for(var a=this[i],c=-1,l=a.length;++c<l;)(e=a[c])&&(o.push(n=r(t.call(e,e.__data__,c,i))),n.parentNode=e);return H(o)};var J="http://www.w3.org/1999/xhtml",W={svg:"http://www.w3.org/2000/svg",xhtml:J,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function G(t,e){return t=n.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function K(t){return t.trim().replace(/\s+/g," ")}function Q(t){return new RegExp("(?:^|\\s+)"+n.requote(t)+"(?:\\s+|$)","g")}function tt(t){return(t+"").trim().split(/^|\s+/)}function nt(t,n){var e=(t=tt(t).map(et)).length;return"function"==typeof n?function(){for(var r=-1,o=n.apply(this,arguments);++r<e;)t[r](this,o)}:function(){for(var r=-1;++r<e;)t[r](this,n)}}function et(t){var n=Q(t);return function(e,r){if(o=e.classList)return r?o.add(t):o.remove(t);var o=e.getAttribute("class")||"";r?(n.lastIndex=0,n.test(o)||e.setAttribute("class",K(o+" "+t))):e.setAttribute("class",K(o.replace(n," ")))}}function rt(t,n,e){return null==n?function(){this.style.removeProperty(t)}:"function"==typeof n?function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}:function(){this.style.setProperty(t,n,e)}}function ot(t,n){return null==n?function(){delete this[t]}:"function"==typeof n?function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}:function(){this[t]=n}}function it(t){return"function"==typeof t?t:(t=n.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var n=this.ownerDocument,e=this.namespaceURI;return e===J&&n.documentElement.namespaceURI===J?n.createElement(t):n.createElementNS(e,t)}}function ut(){var t=this.parentNode;t&&t.removeChild(this)}function at(t){return{__data__:t}}function ct(t){return function(){return $(this,t)}}function lt(t){return arguments.length||(t=h),function(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}}function ft(t,n){for(var e=0,r=t.length;e<r;e++)for(var o,i=t[e],u=0,a=i.length;u<a;u++)(o=i[u])&&n(o,u,e);return t}function st(t){return F(t,ht),t}n.ns={prefix:W,qualify:function(t){var n=t.indexOf(":"),e=t;return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),W.hasOwnProperty(e)?{space:W[e],local:t}:t}},Z.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var r=this.node();return(t=n.ns.qualify(t)).local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(e in t)this.each(G(e,t[e]));return this}return this.each(G(t,e))},Z.classed=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node(),r=(t=tt(t)).length,o=-1;if(n=e.classList){for(;++o<r;)if(!n.contains(t[o]))return!1}else for(n=e.getAttribute("class");++o<r;)if(!Q(t[o]).test(n))return!1;return!0}for(n in t)this.each(nt(n,t[n]));return this}return this.each(nt(t,n))},Z.style=function(t,n,e){var r=arguments.length;if(r<3){if("string"!=typeof t){for(e in r<2&&(n=""),t)this.each(rt(e,t[e],n));return this}if(r<2){var o=this.node();return u(o).getComputedStyle(o,null).getPropertyValue(t)}e=""}return this.each(rt(t,n,e))},Z.property=function(t,n){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(n in t)this.each(ot(n,t[n]));return this}return this.each(ot(t,n))},Z.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Z.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Z.append=function(t){return t=it(t),this.select((function(){return this.appendChild(t.apply(this,arguments))}))},Z.insert=function(t,n){return t=it(t),n=V(n),this.select((function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)}))},Z.remove=function(){return this.each(ut)},Z.data=function(t,n){var e,r,o=-1,i=this.length;if(!arguments.length){for(t=new Array(i=(e=this[0]).length);++o<i;)(r=e[o])&&(t[o]=r.__data__);return t}function u(t,e){var r,o,i,u=t.length,f=e.length,s=Math.min(u,f),h=new Array(f),p=new Array(f),g=new Array(u);if(n){var v,d=new M,y=new Array(u);for(r=-1;++r<u;)(o=t[r])&&(d.has(v=n.call(o,o.__data__,r))?g[r]=o:d.set(v,o),y[r]=v);for(r=-1;++r<f;)(o=d.get(v=n.call(e,i=e[r],r)))?!0!==o&&(h[r]=o,o.__data__=i):p[r]=at(i),d.set(v,!0);for(r=-1;++r<u;)r in y&&!0!==d.get(y[r])&&(g[r]=t[r])}else{for(r=-1;++r<s;)o=t[r],i=e[r],o?(o.__data__=i,h[r]=o):p[r]=at(i);for(;r<f;++r)p[r]=at(e[r]);for(;r<u;++r)g[r]=t[r]}p.update=h,p.parentNode=h.parentNode=g.parentNode=t.parentNode,a.push(p),c.push(h),l.push(g)}var a=st([]),c=H([]),l=H([]);if("function"==typeof t)for(;++o<i;)u(e=this[o],t.call(e,e.parentNode.__data__,o));else for(;++o<i;)u(e=this[o],t);return c.enter=function(){return a},c.exit=function(){return l},c},Z.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Z.filter=function(t){var n,e,r,o=[];"function"!=typeof t&&(t=ct(t));for(var i=0,u=this.length;i<u;i++){o.push(n=[]),n.parentNode=(e=this[i]).parentNode;for(var a=0,c=e.length;a<c;a++)(r=e[a])&&t.call(r,r.__data__,a,i)&&n.push(r)}return H(o)},Z.order=function(){for(var t=-1,n=this.length;++t<n;)for(var e,r=this[t],o=r.length-1,i=r[o];--o>=0;)(e=r[o])&&(i&&i!==e.nextSibling&&i.parentNode.insertBefore(e,i),i=e);return this},Z.sort=function(t){t=lt.apply(this,arguments);for(var n=-1,e=this.length;++n<e;)this[n].sort(t);return this.order()},Z.each=function(t){return ft(this,(function(n,e,r){t.call(n,n.__data__,e,r)}))},Z.call=function(t){var n=r(arguments);return t.apply(n[0]=this,n),this},Z.empty=function(){return!this.node()},Z.node=function(){for(var t=0,n=this.length;t<n;t++)for(var e=this[t],r=0,o=e.length;r<o;r++){var i=e[r];if(i)return i}return null},Z.size=function(){var t=0;return ft(this,(function(){++t})),t};var ht=[];function pt(t){var n,e;return function(r,o,i){var u,a=t[i].update,c=a.length;for(i!=e&&(e=i,n=0),o>=n&&(n=o+1);!(u=a[n])&&++n<c;);return u}}function gt(t,e,o){var i="__on"+t,u=t.indexOf("."),a=dt;u>0&&(t=t.slice(0,u));var c=vt.get(t);function l(){var n=this[i];n&&(this.removeEventListener(t,n,n.$),delete this[i])}return c&&(t=c,a=yt),u?e?function(){var n=a(e,r(arguments));l.call(this),this.addEventListener(t,this[i]=n,n.$=o),n._=e}:l:e?q:function(){var e,r=new RegExp("^__on([^.]+)"+n.requote(t)+"$");for(var o in this)if(e=o.match(r)){var i=this[o];this.removeEventListener(e[1],i,i.$),delete this[o]}}}n.selection.enter=st,n.selection.enter.prototype=ht,ht.append=Z.append,ht.empty=Z.empty,ht.node=Z.node,ht.call=Z.call,ht.size=Z.size,ht.select=function(t){for(var n,e,r,o,i,u=[],a=-1,c=this.length;++a<c;){r=(o=this[a]).update,u.push(n=[]),n.parentNode=o.parentNode;for(var l=-1,f=o.length;++l<f;)(i=o[l])?(n.push(r[l]=e=t.call(o.parentNode,i.__data__,l,a)),e.__data__=i.__data__):n.push(null)}return H(u)},ht.insert=function(t,n){return arguments.length<2&&(n=pt(this)),Z.insert.call(this,t,n)},n.select=function(t){var n;return"string"==typeof t?(n=[Y(t,o)]).parentNode=o.documentElement:(n=[t]).parentNode=i(t),H([n])},n.selectAll=function(t){var n;return"string"==typeof t?(n=r(B(t,o))).parentNode=o.documentElement:(n=r(t)).parentNode=null,H([n])},Z.on=function(t,n,e){var r=arguments.length;if(r<3){if("string"!=typeof t){for(e in r<2&&(n=!1),t)this.each(gt(e,t[e],n));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;e=!1}return this.each(gt(t,n,e))};var vt=n.map({mouseenter:"mouseover",mouseleave:"mouseout"});function dt(t,e){return function(r){var o=n.event;n.event=r,e[0]=this.__data__;try{t.apply(this,e)}finally{n.event=o}}}function yt(t,n){var e=dt(t,n);return function(t){var n=this,r=t.relatedTarget;r&&(r===n||8&r.compareDocumentPosition(n))||e.call(n,t)}}o&&vt.forEach((function(t){"on"+t in o&&vt.remove(t)}));var mt,bt=0;function xt(t){var e=".dragsuppress-"+ ++bt,r="click"+e,o=n.select(u(t)).on("touchmove"+e,D).on("dragstart"+e,D).on("selectstart"+e,D);if(null==mt&&(mt=!("onselectstart"in t)&&z(t.style,"userSelect")),mt){var a=i(t).style,c=a[mt];a[mt]="none"}return function(t){if(o.on(e,null),mt&&(a[mt]=c),t){var n=function(){o.on(r,null)};o.on(r,(function(){D(),n()}),!0),setTimeout(n,0)}}}n.mouse=function(t){return _t(t,R())};var Mt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function _t(t,e){e.changedTouches&&(e=e.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var o=r.createSVGPoint();if(Mt<0){var i=u(t);if(i.scrollX||i.scrollY){var a=(r=n.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Mt=!(a.f||a.e),r.remove()}}return Mt?(o.x=e.pageX,o.y=e.pageY):(o.x=e.clientX,o.y=e.clientY),[(o=o.matrixTransform(t.getScreenCTM().inverse())).x,o.y]}var c=t.getBoundingClientRect();return[e.clientX-c.left-t.clientLeft,e.clientY-c.top-t.clientTop]}function wt(){return n.event.changedTouches[0].identifier}n.touch=function(t,n,e){if(arguments.length<3&&(e=n,n=R().changedTouches),n)for(var r,o=0,i=n.length;o<i;++o)if((r=n[o]).identifier===e)return _t(t,r)},n.behavior.drag=function(){var t=U(i,"drag","dragstart","dragend"),e=null,r=a(q,n.mouse,u,"mousemove","mouseup"),o=a(wt,n.touch,O,"touchmove","touchend");function i(){this.on("mousedown.drag",r).on("touchstart.drag",o)}function a(r,o,i,u,a){return function(){var c,l=this,f=n.event.target.correspondingElement||n.event.target,s=l.parentNode,h=t.of(l,arguments),p=0,g=r(),v=".drag"+(null==g?"":"-"+g),d=n.select(i(f)).on(u+v,b).on(a+v,x),y=xt(f),m=o(s,g);function b(){var t,n,e=o(s,g);e&&(t=e[0]-m[0],n=e[1]-m[1],p|=t|n,m=e,h({type:"drag",x:e[0]+c[0],y:e[1]+c[1],dx:t,dy:n}))}function x(){o(s,g)&&(d.on(u+v,null).on(a+v,null),y(p),h({type:"dragend"}))}c=e?[(c=e.apply(l,arguments)).x-m[0],c.y-m[1]]:[0,0],h({type:"dragstart"})}}return i.origin=function(t){return arguments.length?(e=t,i):e},n.rebind(i,t,"on")},n.touches=function(t,n){return arguments.length<2&&(n=R().touches),n?r(n).map((function(n){var e=_t(t,n);return e.identifier=n.identifier,e})):[]};var St=1e-6,jt=St*St,kt=Math.PI,At=2*kt,Et=At-St,Nt=kt/2,Ot=kt/180,Ct=180/kt;function zt(t){return t>0?1:t<0?-1:0}function Tt(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function qt(t){return t>1?0:t<-1?kt:Math.acos(t)}function Lt(t){return t>1?Nt:t<-1?-Nt:Math.asin(t)}function Pt(t){return((t=Math.exp(t))+1/t)/2}function Dt(t){return(t=Math.sin(t/2))*t}var Rt=Math.SQRT2;n.interpolateZoom=function(t,n){var e,r,o=t[0],i=t[1],u=t[2],a=n[0],c=n[1],l=n[2],f=a-o,s=c-i,h=f*f+s*s;if(h<jt)r=Math.log(l/u)/Rt,e=function(t){return[o+t*f,i+t*s,u*Math.exp(Rt*t*r)]};else{var p=Math.sqrt(h),g=(l*l-u*u+4*h)/(2*u*2*p),v=(l*l-u*u-4*h)/(2*l*2*p),d=Math.log(Math.sqrt(g*g+1)-g),y=Math.log(Math.sqrt(v*v+1)-v);r=(y-d)/Rt,e=function(t){var n,e=t*r,a=Pt(d),c=u/(2*p)*(a*(n=Rt*e+d,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(d));return[o+c*f,i+c*s,u*a/Pt(Rt*e+d)]}}return e.duration=1e3*r,e},n.behavior.zoom=function(){var t,e,r,i,a,c,l,f,s,h={x:0,y:0,k:1},p=[960,500],g=Ft,v=250,d=0,y="mousedown.zoom",m="mousemove.zoom",b="mouseup.zoom",x="touchstart.zoom",M=U(_,"zoomstart","zoom","zoomend");function _(t){t.on(y,C).on(It+".zoom",T).on("dblclick.zoom",q).on(x,z)}function w(t){return[(t[0]-h.x)/h.k,(t[1]-h.y)/h.k]}function S(t){h.k=Math.max(g[0],Math.min(g[1],t))}function j(t,n){n=function(t){return[t[0]*h.k+h.x,t[1]*h.k+h.y]}(n),h.x+=t[0]-n[0],h.y+=t[1]-n[1]}function k(t,r,o,i){t.__chart__={x:h.x,y:h.y,k:h.k},S(Math.pow(2,i)),j(e=r,o),t=n.select(t),v>0&&(t=t.transition().duration(v)),t.call(_.event)}function A(){l&&l.domain(c.range().map((function(t){return(t-h.x)/h.k})).map(c.invert)),s&&s.domain(f.range().map((function(t){return(t-h.y)/h.k})).map(f.invert))}function E(t){d++||t({type:"zoomstart"})}function N(t){A(),t({type:"zoom",scale:h.k,translate:[h.x,h.y]})}function O(t){--d||(t({type:"zoomend"}),e=null)}function C(){var t=this,e=M.of(t,arguments),r=0,o=n.select(u(t)).on(m,c).on(b,l),i=w(n.mouse(t)),a=xt(t);function c(){r=1,j(n.mouse(t),i),N(e)}function l(){o.on(m,null).on(b,null),a(r),O(e)}za.call(t),E(e)}function z(){var t,e=this,r=M.of(e,arguments),o={},i=0,u=".zoom-"+n.event.changedTouches[0].identifier,c="touchmove"+u,l="touchend"+u,f=[],s=n.select(e),p=xt(e);function g(){var r=n.touches(e);return t=h.k,r.forEach((function(t){t.identifier in o&&(o[t.identifier]=w(t))})),r}function v(){var t=n.event.target;n.select(t).on(c,d).on(l,m),f.push(t);for(var r=n.event.changedTouches,u=0,s=r.length;u<s;++u)o[r[u].identifier]=null;var p=g(),v=Date.now();if(1===p.length){if(v-a<500){var y=p[0];k(e,y,o[y.identifier],Math.floor(Math.log(h.k)/Math.LN2)+1),D()}a=v}else if(p.length>1){y=p[0];var b=p[1],x=y[0]-b[0],M=y[1]-b[1];i=x*x+M*M}}function d(){var u,c,l,f,s=n.touches(e);za.call(e);for(var h=0,p=s.length;h<p;++h,f=null)if(l=s[h],f=o[l.identifier]){if(c)break;u=l,c=f}if(f){var g=(g=l[0]-u[0])*g+(g=l[1]-u[1])*g,v=i&&Math.sqrt(g/i);u=[(u[0]+l[0])/2,(u[1]+l[1])/2],c=[(c[0]+f[0])/2,(c[1]+f[1])/2],S(v*t)}a=null,j(u,c),N(r)}function m(){if(n.event.touches.length){for(var t=n.event.changedTouches,e=0,i=t.length;e<i;++e)delete o[t[e].identifier];for(var a in o)return void g()}n.selectAll(f).on(u,null),s.on(y,C).on(x,z),p(),O(r)}v(),E(r),s.on(y,null).on(x,v)}function T(){var o=M.of(this,arguments);i?clearTimeout(i):(za.call(this),t=w(e=r||n.mouse(this)),E(o)),i=setTimeout((function(){i=null,O(o)}),50),D(),S(Math.pow(2,.002*Ut())*h.k),j(e,t),N(o)}function q(){var t=n.mouse(this),e=Math.log(h.k)/Math.LN2;k(this,t,w(t),n.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return It||(It="onwheel"in o?(Ut=function(){return-n.event.deltaY*(n.event.deltaMode?120:1)},"wheel"):"onmousewheel"in o?(Ut=function(){return n.event.wheelDelta},"mousewheel"):(Ut=function(){return-n.event.detail},"MozMousePixelScroll")),_.event=function(t){t.each((function(){var t=M.of(this,arguments),r=h;La?n.select(this).transition().each("start.zoom",(function(){h=this.__chart__||{x:0,y:0,k:1},E(t)})).tween("zoom:zoom",(function(){var o=p[0],i=p[1],u=e?e[0]:o/2,a=e?e[1]:i/2,c=n.interpolateZoom([(u-h.x)/h.k,(a-h.y)/h.k,o/h.k],[(u-r.x)/r.k,(a-r.y)/r.k,o/r.k]);return function(n){var e=c(n),r=o/e[2];this.__chart__=h={x:u-e[0]*r,y:a-e[1]*r,k:r},N(t)}})).each("interrupt.zoom",(function(){O(t)})).each("end.zoom",(function(){O(t)})):(this.__chart__=h,E(t),N(t),O(t))}))},_.translate=function(t){return arguments.length?(h={x:+t[0],y:+t[1],k:h.k},A(),_):[h.x,h.y]},_.scale=function(t){return arguments.length?(h={x:h.x,y:h.y,k:null},S(+t),A(),_):h.k},_.scaleExtent=function(t){return arguments.length?(g=null==t?Ft:[+t[0],+t[1]],_):g},_.center=function(t){return arguments.length?(r=t&&[+t[0],+t[1]],_):r},_.size=function(t){return arguments.length?(p=t&&[+t[0],+t[1]],_):p},_.duration=function(t){return arguments.length?(v=+t,_):v},_.x=function(t){return arguments.length?(l=t,c=t.copy(),h={x:0,y:0,k:1},_):l},_.y=function(t){return arguments.length?(s=t,f=t.copy(),h={x:0,y:0,k:1},_):s},n.rebind(_,M,"on")};var Ut,It,Ft=[0,1/0];function Ht(){}function Yt(t,n,e){return this instanceof Yt?(this.h=+t,this.s=+n,void(this.l=+e)):arguments.length<2?t instanceof Yt?new Yt(t.h,t.s,t.l):sn(""+t,hn,Yt):new Yt(t,n,e)}n.color=Ht,Ht.prototype.toString=function(){return this.rgb()+""},n.hsl=Yt;var Bt=Yt.prototype=new Ht;function $t(t,n,e){var r,o;function i(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(o-r)*t/60:t<180?o:t<240?r+(o-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,n=isNaN(n)||n<0?0:n>1?1:n,r=2*(e=e<0?0:e>1?1:e)-(o=e<=.5?e*(1+n):e+n-e*n),new un(i(t+120),i(t),i(t-120))}function Zt(t,e,r){return this instanceof Zt?(this.h=+t,this.c=+e,void(this.l=+r)):arguments.length<2?t instanceof Zt?new Zt(t.h,t.c,t.l):nn(t instanceof Jt?t.l:(t=pn((t=n.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Zt(t,e,r)}Bt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Yt(this.h,this.s,this.l/t)},Bt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Yt(this.h,this.s,t*this.l)},Bt.rgb=function(){return $t(this.h,this.s,this.l)},n.hcl=Zt;var Vt=Zt.prototype=new Ht;function Xt(t,n,e){return isNaN(t)&&(t=0),isNaN(n)&&(n=0),new Jt(e,Math.cos(t*=Ot)*n,Math.sin(t)*n)}function Jt(t,n,e){return this instanceof Jt?(this.l=+t,this.a=+n,void(this.b=+e)):arguments.length<2?t instanceof Jt?new Jt(t.l,t.a,t.b):t instanceof Zt?Xt(t.h,t.c,t.l):pn((t=un(t)).r,t.g,t.b):new Jt(t,n,e)}Vt.brighter=function(t){return new Zt(this.h,this.c,Math.min(100,this.l+Wt*(arguments.length?t:1)))},Vt.darker=function(t){return new Zt(this.h,this.c,Math.max(0,this.l-Wt*(arguments.length?t:1)))},Vt.rgb=function(){return Xt(this.h,this.c,this.l).rgb()},n.lab=Jt;var Wt=18,Gt=.95047,Kt=1.08883,Qt=Jt.prototype=new Ht;function tn(t,n,e){var r=(t+16)/116,o=r+n/500,i=r-e/200;return new un(on(3.2404542*(o=en(o)*Gt)-1.5371385*(r=1*en(r))-.4985314*(i=en(i)*Kt)),on(-.969266*o+1.8760108*r+.041556*i),on(.0556434*o-.2040259*r+1.0572252*i))}function nn(t,n,e){return t>0?new Zt(Math.atan2(e,n)*Ct,Math.sqrt(n*n+e*e),t):new Zt(NaN,NaN,t)}function en(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function rn(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function on(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function un(t,n,e){return this instanceof un?(this.r=~~t,this.g=~~n,void(this.b=~~e)):arguments.length<2?t instanceof un?new un(t.r,t.g,t.b):sn(""+t,un,$t):new un(t,n,e)}function an(t){return new un(t>>16,t>>8&255,255&t)}function cn(t){return an(t)+""}Qt.brighter=function(t){return new Jt(Math.min(100,this.l+Wt*(arguments.length?t:1)),this.a,this.b)},Qt.darker=function(t){return new Jt(Math.max(0,this.l-Wt*(arguments.length?t:1)),this.a,this.b)},Qt.rgb=function(){return tn(this.l,this.a,this.b)},n.rgb=un;var ln=un.prototype=new Ht;function fn(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function sn(t,n,e){var r,o,i,u=0,a=0,c=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(o=r[2].split(","),r[1]){case"hsl":return e(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return n(vn(o[0]),vn(o[1]),vn(o[2]))}return(i=dn.get(t))?n(i.r,i.g,i.b):(null==t||"#"!==t.charAt(0)||isNaN(i=parseInt(t.slice(1),16))||(4===t.length?(u=(3840&i)>>4,u|=u>>4,a=240&i,a|=a>>4,c=15&i,c|=c<<4):7===t.length&&(u=(16711680&i)>>16,a=(65280&i)>>8,c=255&i)),n(u,a,c))}function hn(t,n,e){var r,o,i=Math.min(t/=255,n/=255,e/=255),u=Math.max(t,n,e),a=u-i,c=(u+i)/2;return a?(o=c<.5?a/(u+i):a/(2-u-i),r=t==u?(n-e)/a+(n<e?6:0):n==u?(e-t)/a+2:(t-n)/a+4,r*=60):(r=NaN,o=c>0&&c<1?0:r),new Yt(r,o,c)}function pn(t,n,e){var r=rn((.4124564*(t=gn(t))+.3575761*(n=gn(n))+.1804375*(e=gn(e)))/Gt),o=rn((.2126729*t+.7151522*n+.072175*e)/1);return Jt(116*o-16,500*(r-o),200*(o-rn((.0193339*t+.119192*n+.9503041*e)/Kt)))}function gn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function vn(t){var n=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*n):n}ln.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var n=this.r,e=this.g,r=this.b,o=30;return n||e||r?(n&&n<o&&(n=o),e&&e<o&&(e=o),r&&r<o&&(r=o),new un(Math.min(255,n/t),Math.min(255,e/t),Math.min(255,r/t))):new un(o,o,o)},ln.darker=function(t){return new un((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},ln.hsl=function(){return hn(this.r,this.g,this.b)},ln.toString=function(){return"#"+fn(this.r)+fn(this.g)+fn(this.b)};var dn=n.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function yn(t){return"function"==typeof t?t:function(){return t}}function mn(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),bn(n,e,t,r)}}function bn(t,e,o,i){var u={},a=n.dispatch("beforesend","progress","load","error"),c={},l=new XMLHttpRequest,f=null;function s(){var t,n=l.status;if(!n&&function(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}(l)||n>=200&&n<300||304===n){try{t=o.call(u,l)}catch(t){return void a.error.call(u,t)}a.load.call(u,t)}else a.error.call(u,l)}return this.XDomainRequest&&!("withCredentials"in l)&&/^(http(s)?:)?\/\//.test(t)&&(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=s:l.onreadystatechange=function(){l.readyState>3&&s()},l.onprogress=function(t){var e=n.event;n.event=t;try{a.progress.call(u,l)}finally{n.event=e}},u.header=function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?c[t]:(null==n?delete c[t]:c[t]=n+"",u)},u.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",u):e},u.responseType=function(t){return arguments.length?(f=t,u):f},u.response=function(t){return o=t,u},["get","post"].forEach((function(t){u[t]=function(){return u.send.apply(u,[t].concat(r(arguments)))}})),u.send=function(n,r,o){if(2===arguments.length&&"function"==typeof r&&(o=r,r=null),l.open(n,t,!0),null==e||"accept"in c||(c.accept=e+",*/*"),l.setRequestHeader)for(var i in c)l.setRequestHeader(i,c[i]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=f&&(l.responseType=f),null!=o&&u.on("error",o).on("load",(function(t){o(null,t)})),a.beforesend.call(u,l),l.send(null==r?null:r),u},u.abort=function(){return l.abort(),u},n.rebind(u,a,"on"),null==i?u:u.get(function(t){return 1===t.length?function(n,e){t(null==n?e:null)}:t}(i))}dn.forEach((function(t,n){dn.set(t,an(n))})),n.functor=yn,n.xhr=mn(O),n.dsv=function(t,n){var e=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function o(t,e,r){arguments.length<3&&(r=e,e=null);var o=bn(t,n,null==e?i:u(e),r);return o.row=function(t){return arguments.length?o.response(null==(e=t)?i:u(t)):e},o}function i(t){return o.parse(t.responseText)}function u(t){return function(n){return o.parse(n.responseText,t)}}function a(n){return n.map(c).join(t)}function c(t){return e.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return o.parse=function(t,n){var e;return o.parseRows(t,(function(t,r){if(e)return e(t,r-1);var o=new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+"]"})).join(",")+"}");e=n?function(t,e){return n(o(t),e)}:o}))},o.parseRows=function(t,n){var e,o,i={},u={},a=[],c=t.length,l=0,f=0;function s(){if(l>=c)return u;if(o)return o=!1,i;var n=l;if(34===t.charCodeAt(n)){for(var e=n;e++<c;)if(34===t.charCodeAt(e)){if(34!==t.charCodeAt(e+1))break;++e}return l=e+2,13===(a=t.charCodeAt(e+1))?(o=!0,10===t.charCodeAt(e+2)&&++l):10===a&&(o=!0),t.slice(n+1,e).replace(/""/g,'"')}for(;l<c;){var a,f=1;if(10===(a=t.charCodeAt(l++)))o=!0;else if(13===a)o=!0,10===t.charCodeAt(l)&&(++l,++f);else if(a!==r)continue;return t.slice(n,l-f)}return t.slice(n)}for(;(e=s())!==u;){for(var h=[];e!==i&&e!==u;)h.push(e),e=s();n&&null==(h=n(h,f++))||a.push(h)}return a},o.format=function(n){if(Array.isArray(n[0]))return o.formatRows(n);var e=new N,r=[];return n.forEach((function(t){for(var n in t)e.has(n)||r.push(e.add(n))})),[r.map(c).join(t)].concat(n.map((function(n){return r.map((function(t){return c(n[t])})).join(t)}))).join("\n")},o.formatRows=function(t){return t.map(a).join("\n")},o},n.csv=n.dsv(",","text/csv"),n.tsv=n.dsv("\t","text/tab-separated-values");var xn,Mn,_n,wn,Sn=this[z(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function jn(t,n,e){var r=arguments.length;r<2&&(n=0),r<3&&(e=Date.now());var o=e+n,i={c:t,t:o,n:null};return Mn?Mn.n=i:xn=i,Mn=i,_n||(wn=clearTimeout(wn),_n=1,Sn(kn)),i}function kn(){var t=An(),n=En()-t;n>24?(isFinite(n)&&(clearTimeout(wn),wn=setTimeout(kn,n)),_n=0):(_n=1,Sn(kn))}function An(){for(var t=Date.now(),n=xn;n;)t>=n.t&&n.c(t-n.t)&&(n.c=null),n=n.n;return t}function En(){for(var t,n=xn,e=1/0;n;)n.c?(n.t<e&&(e=n.t),n=(t=n).n):n=t?t.n=n.n:xn=n.n;return Mn=t,e}function Nn(t,n){return n-(t?Math.ceil(Math.log(t)/Math.LN10):1)}n.timer=function(){jn.apply(this,arguments)},n.timer.flush=function(){An(),En()},n.round=function(t,n){return n?Math.round(t*(n=Math.pow(10,n)))/n:Math.round(t)};var On=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map((function(t,n){var e=Math.pow(10,3*m(8-n));return{scale:n>8?function(t){return t/e}:function(t){return t*e},symbol:t}}));function Cn(t){var e=t.decimal,r=t.thousands,o=t.grouping,i=t.currency,u=o&&r?function(t,n){for(var e=t.length,i=[],u=0,a=o[0],c=0;e>0&&a>0&&(c+a+1>n&&(a=Math.max(1,n-c)),i.push(t.substring(e-=a,e+a)),!((c+=a+1)>n));)a=o[u=(u+1)%o.length];return i.reverse().join(r)}:O;return function(t){var r=zn.exec(t),o=r[1]||" ",a=r[2]||">",c=r[3]||"-",l=r[4]||"",f=r[5],s=+r[6],h=r[7],p=r[8],g=r[9],v=1,d="",y="",m=!1,b=!0;switch(p&&(p=+p.substring(1)),(f||"0"===o&&"="===a)&&(f=o="0",a="="),g){case"n":h=!0,g="g";break;case"%":v=100,y="%",g="f";break;case"p":v=100,y="%",g="r";break;case"b":case"o":case"x":case"X":"#"===l&&(d="0"+g.toLowerCase());case"c":b=!1;case"d":m=!0,p=0;break;case"s":v=-1,g="r"}"$"===l&&(d=i[0],y=i[1]),"r"!=g||p||(g="g"),null!=p&&("g"==g?p=Math.max(1,Math.min(21,p)):"e"!=g&&"f"!=g||(p=Math.max(0,Math.min(20,p)))),g=Tn.get(g)||qn;var x=f&&h;return function(t){var r=y;if(m&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===c?"":c;if(v<0){var l=n.formatPrefix(t,p);t=l.scale(t),r=l.symbol+y}else t*=v;var M,_,w=(t=g(t,p)).lastIndexOf(".");if(w<0){var S=b?t.lastIndexOf("e"):-1;S<0?(M=t,_=""):(M=t.substring(0,S),_=t.substring(S))}else M=t.substring(0,w),_=e+t.substring(w+1);!f&&h&&(M=u(M,1/0));var j=d.length+M.length+_.length+(x?0:i.length),k=j<s?new Array(j=s-j+1).join(o):"";return x&&(M=u(k+M,k.length?s-_.length:1/0)),i+=d,t=M+_,("<"===a?i+t+k:">"===a?k+i+t:"^"===a?k.substring(0,j>>=1)+i+t+k.substring(j):i+(x?t:k+t))+r}}}n.formatPrefix=function(t,e){var r=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=n.round(t,Nn(t,e))),r=1+Math.floor(1e-12+Math.log(t)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),On[8+r/3]};var zn=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Tn=n.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,n){return t.toPrecision(n)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},r:function(t,e){return(t=n.round(t,Nn(t,e))).toFixed(Math.max(0,Math.min(20,Nn(t*(1+1e-15),e))))}});function qn(t){return t+""}var Ln=n.time={},Pn=Date;function Dn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Dn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Rn.setUTCDate.apply(this._,arguments)},setDay:function(){Rn.setUTCDay.apply(this._,arguments)},setFullYear:function(){Rn.setUTCFullYear.apply(this._,arguments)},setHours:function(){Rn.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Rn.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Rn.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Rn.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Rn.setUTCSeconds.apply(this._,arguments)},setTime:function(){Rn.setTime.apply(this._,arguments)}};var Rn=Date.prototype;function Un(t,n,e){function r(n){var e=t(n),r=i(e,1);return n-e<r-n?e:r}function o(e){return n(e=t(new Pn(e-1)),1),e}function i(t,e){return n(t=new Pn(+t),e),t}function u(t,r,i){var u=o(t),a=[];if(i>1)for(;u<r;)e(u)%i||a.push(new Date(+u)),n(u,1);else for(;u<r;)a.push(new Date(+u)),n(u,1);return a}t.floor=t,t.round=r,t.ceil=o,t.offset=i,t.range=u;var a=t.utc=In(t);return a.floor=a,a.round=In(r),a.ceil=In(o),a.offset=In(i),a.range=function(t,n,e){try{Pn=Dn;var r=new Dn;return r._=t,u(r,n,e)}finally{Pn=Date}},t}function In(t){return function(n,e){try{Pn=Dn;var r=new Dn;return r._=n,t(r,e)._}finally{Pn=Date}}}function Fn(t){var e=t.dateTime,r=t.date,o=t.time,i=t.periods,u=t.days,a=t.shortDays,c=t.months,l=t.shortMonths;function f(t){var n=t.length;function e(e){for(var r,o,i,u=[],a=-1,c=0;++a<n;)37===t.charCodeAt(a)&&(u.push(t.slice(c,a)),null!=(o=Hn[r=t.charAt(++a)])&&(r=t.charAt(++a)),(i=M[r])&&(r=i(e,null==o?"e"===r?" ":"0":o)),u.push(r),c=a+1);return u.push(t.slice(c,a)),u.join("")}return e.parse=function(n){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(s(e,t,n,0)!=n.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var r=null!=e.Z&&Pn!==Dn,o=new(r?Dn:Pn);return"j"in e?o.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),o.setFullYear(e.y,0,1),o.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(o.getDay()+5)%7:e.w+7*e.U-(o.getDay()+6)%7)):o.setFullYear(e.y,e.m,e.d),o.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),r?o._:o},e.toString=function(){return t},e}function s(t,n,e,r){for(var o,i,u,a=0,c=n.length,l=e.length;a<c;){if(r>=l)return-1;if(37===(o=n.charCodeAt(a++))){if(u=n.charAt(a++),!(i=_[u in Hn?n.charAt(a++):u])||(r=i(t,e,r))<0)return-1}else if(o!=e.charCodeAt(r++))return-1}return r}f.utc=function(t){var n=f(t);function e(t){try{var e=new(Pn=Dn);return e._=t,n(e)}finally{Pn=Date}}return e.parse=function(t){try{Pn=Dn;var e=n.parse(t);return e&&e._}finally{Pn=Date}},e.toString=n.toString,e},f.multi=f.utc.multi=le;var h=n.map(),p=Zn(u),g=Vn(u),v=Zn(a),d=Vn(a),y=Zn(c),m=Vn(c),b=Zn(l),x=Vn(l);i.forEach((function(t,n){h.set(t.toLowerCase(),n)}));var M={a:function(t){return a[t.getDay()]},A:function(t){return u[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return c[t.getMonth()]},c:f(e),d:function(t,n){return $n(t.getDate(),n,2)},e:function(t,n){return $n(t.getDate(),n,2)},H:function(t,n){return $n(t.getHours(),n,2)},I:function(t,n){return $n(t.getHours()%12||12,n,2)},j:function(t,n){return $n(1+Ln.dayOfYear(t),n,3)},L:function(t,n){return $n(t.getMilliseconds(),n,3)},m:function(t,n){return $n(t.getMonth()+1,n,2)},M:function(t,n){return $n(t.getMinutes(),n,2)},p:function(t){return i[+(t.getHours()>=12)]},S:function(t,n){return $n(t.getSeconds(),n,2)},U:function(t,n){return $n(Ln.sundayOfYear(t),n,2)},w:function(t){return t.getDay()},W:function(t,n){return $n(Ln.mondayOfYear(t),n,2)},x:f(r),X:f(o),y:function(t,n){return $n(t.getFullYear()%100,n,2)},Y:function(t,n){return $n(t.getFullYear()%1e4,n,4)},Z:ae,"%":function(){return"%"}},_={a:function(t,n,e){v.lastIndex=0;var r=v.exec(n.slice(e));return r?(t.w=d.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(t,n,e){p.lastIndex=0;var r=p.exec(n.slice(e));return r?(t.w=g.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(t,n,e){b.lastIndex=0;var r=b.exec(n.slice(e));return r?(t.m=x.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(t,n,e){y.lastIndex=0;var r=y.exec(n.slice(e));return r?(t.m=m.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(t,n,e){return s(t,M.c.toString(),n,e)},d:ne,e:ne,H:re,I:re,j:ee,L:ue,m:te,M:oe,p:function(t,n,e){var r=h.get(n.slice(e,e+=2).toLowerCase());return null==r?-1:(t.p=r,e)},S:ie,U:Jn,w:Xn,W:Wn,x:function(t,n,e){return s(t,M.x.toString(),n,e)},X:function(t,n,e){return s(t,M.X.toString(),n,e)},y:Kn,Y:Gn,Z:Qn,"%":ce};return f}Ln.year=Un((function(t){return(t=Ln.day(t)).setMonth(0,1),t}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t){return t.getFullYear()})),Ln.years=Ln.year.range,Ln.years.utc=Ln.year.utc.range,Ln.day=Un((function(t){var n=new Pn(2e3,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t){return t.getDate()-1})),Ln.days=Ln.day.range,Ln.days.utc=Ln.day.utc.range,Ln.dayOfYear=function(t){var n=Ln.year(t);return Math.floor((t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(t,n){n=7-n;var e=Ln[t]=Un((function(t){return(t=Ln.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t}),(function(t,n){t.setDate(t.getDate()+7*Math.floor(n))}),(function(t){var e=Ln.year(t).getDay();return Math.floor((Ln.dayOfYear(t)+(e+n)%7)/7)-(e!==n)}));Ln[t+"s"]=e.range,Ln[t+"s"].utc=e.utc.range,Ln[t+"OfYear"]=function(t){var e=Ln.year(t).getDay();return Math.floor((Ln.dayOfYear(t)+(e+n)%7)/7)}})),Ln.week=Ln.sunday,Ln.weeks=Ln.sunday.range,Ln.weeks.utc=Ln.sunday.utc.range,Ln.weekOfYear=Ln.sundayOfYear;var Hn={"-":"",_:" ",0:"0"},Yn=/^\s*\d+/,Bn=/^%/;function $n(t,n,e){var r=t<0?"-":"",o=(r?-t:t)+"",i=o.length;return r+(i<e?new Array(e-i+1).join(n)+o:o)}function Zn(t){return new RegExp("^(?:"+t.map(n.requote).join("|")+")","i")}function Vn(t){for(var n=new M,e=-1,r=t.length;++e<r;)n.set(t[e].toLowerCase(),e);return n}function Xn(t,n,e){Yn.lastIndex=0;var r=Yn.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Jn(t,n,e){Yn.lastIndex=0;var r=Yn.exec(n.slice(e));return r?(t.U=+r[0],e+r[0].length):-1}function Wn(t,n,e){Yn.lastIndex=0;var r=Yn.exec(n.slice(e));return r?(t.W=+r[0],e+r[0].length):-1}function Gn(t,n,e){Yn.lastIndex=0;var r=Yn.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Kn(t,n,e){Yn.lastIndex=0;var r,o=Yn.exec(n.slice(e,e+2));return o?(t.y=(r=+o[0])+(r>68?1900:2e3),e+o[0].length):-1}function Qn(t,n,e){return/^[+-]\d{4}$/.test(n=n.slice(e,e+5))?(t.Z=-n,e+5):-1}function te(t,n,e){Yn.lastIndex=0;var r=Yn.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function ne(t,n,e){Yn.lastIndex=0;var r=Yn.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function ee(t,n,e){Yn.lastIndex=0;var r=Yn.exec(n.slice(e,e+3));return r?(t.j=+r[0],e+r[0].length):-1}function re(t,n,e){Yn.lastIndex=0;var r=Yn.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function oe(t,n,e){Yn.lastIndex=0;var r=Yn.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function ie(t,n,e){Yn.lastIndex=0;var r=Yn.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function ue(t,n,e){Yn.lastIndex=0;var r=Yn.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function ae(t){var n=t.getTimezoneOffset(),e=n>0?"-":"+",r=m(n)/60|0,o=m(n)%60;return e+$n(r,"0",2)+$n(o,"0",2)}function ce(t,n,e){Bn.lastIndex=0;var r=Bn.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function le(t){for(var n=t.length,e=-1;++e<n;)t[e][0]=this(t[e][0]);return function(n){for(var e=0,r=t[e];!r[1](n);)r=t[++e];return r[0](n)}}n.locale=function(t){return{numberFormat:Cn(t),timeFormat:Fn(t)}};var fe=n.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function se(){}n.format=fe.numberFormat,n.geo={},se.prototype={s:0,t:0,add:function(t){pe(t,this.t,he),pe(he.s,this.s,this),this.s?this.t+=he.t:this.s=he.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var he=new se;function pe(t,n,e){var r=e.s=t+n,o=r-t,i=r-o;e.t=t-i+(n-o)}function ge(t,n){t&&de.hasOwnProperty(t.type)&&de[t.type](t,n)}n.geo.stream=function(t,n){t&&ve.hasOwnProperty(t.type)?ve[t.type](t,n):ge(t,n)};var ve={Feature:function(t,n){ge(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,o=e.length;++r<o;)ge(e[r].geometry,n)}},de={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){ye(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)ye(e[r],n,0)},Polygon:function(t,n){me(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)me(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,o=e.length;++r<o;)ge(e[r],n)}};function ye(t,n,e){var r,o=-1,i=t.length-e;for(n.lineStart();++o<i;)r=t[o],n.point(r[0],r[1],r[2]);n.lineEnd()}function me(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)ye(t[e],n,1);n.polygonEnd()}n.geo.area=function(t){return be=0,n.geo.stream(t,ze),be};var be,xe,Me,_e,we,Se,je,ke,Ae,Ee,Ne,Oe,Ce=new se,ze={sphere:function(){be+=4*kt},point:q,lineStart:q,lineEnd:q,polygonStart:function(){Ce.reset(),ze.lineStart=Te},polygonEnd:function(){var t=2*Ce;be+=t<0?4*kt+t:t,ze.lineStart=ze.lineEnd=ze.point=q}};function Te(){var t,n,e,r,o;function i(t,n){n=n*Ot/2+kt/4;var i=(t*=Ot)-e,u=i>=0?1:-1,a=u*i,c=Math.cos(n),l=Math.sin(n),f=o*l,s=r*c+f*Math.cos(a),h=f*u*Math.sin(a);Ce.add(Math.atan2(h,s)),e=t,r=c,o=l}ze.point=function(u,a){ze.point=i,e=(t=u)*Ot,r=Math.cos(a=(n=a)*Ot/2+kt/4),o=Math.sin(a)},ze.lineEnd=function(){i(t,n)}}function qe(t){var n=t[0],e=t[1],r=Math.cos(e);return[r*Math.cos(n),r*Math.sin(n),Math.sin(e)]}function Le(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Pe(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function De(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Re(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Ue(t){var n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Ie(t){return[Math.atan2(t[1],t[0]),Lt(t[2])]}function Fe(t,n){return m(t[0]-n[0])<St&&m(t[1]-n[1])<St}n.geo.bounds=function(){var t,e,r,o,i,u,a,c,l,f,s,h={point:p,lineStart:v,lineEnd:d,polygonStart:function(){h.point=y,h.lineStart=b,h.lineEnd=x,l=0,ze.polygonStart()},polygonEnd:function(){ze.polygonEnd(),h.point=p,h.lineStart=v,h.lineEnd=d,Ce<0?(t=-(r=180),e=-(o=90)):l>St?o=90:l<-St&&(e=-90),s[0]=t,s[1]=r}};function p(n,i){f.push(s=[t=n,r=n]),i<e&&(e=i),i>o&&(o=i)}function g(n,u){var a=qe([n*Ot,u*Ot]);if(c){var l=Pe(c,a),f=Pe([l[1],-l[0],0],l);Ue(f),f=Ie(f);var s=n-i,h=s>0?1:-1,g=f[0]*Ct*h,v=m(s)>180;if(v^(h*i<g&&g<h*n))(d=f[1]*Ct)>o&&(o=d);else if(v^(h*i<(g=(g+360)%360-180)&&g<h*n)){var d;(d=-f[1]*Ct)<e&&(e=d)}else u<e&&(e=u),u>o&&(o=u);v?n<i?M(t,n)>M(t,r)&&(r=n):M(n,r)>M(t,r)&&(t=n):r>=t?(n<t&&(t=n),n>r&&(r=n)):n>i?M(t,n)>M(t,r)&&(r=n):M(n,r)>M(t,r)&&(t=n)}else p(n,u);c=a,i=n}function v(){h.point=g}function d(){s[0]=t,s[1]=r,h.point=p,c=null}function y(t,n){if(c){var e=t-i;l+=m(e)>180?e+(e>0?360:-360):e}else u=t,a=n;ze.point(t,n),g(t,n)}function b(){ze.lineStart()}function x(){y(u,a),ze.lineEnd(),m(l)>St&&(t=-(r=180)),s[0]=t,s[1]=r,c=null}function M(t,n){return(n-=t)<0?n+360:n}function _(t,n){return t[0]-n[0]}function w(t,n){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}return function(i){if(o=r=-(t=e=1/0),f=[],n.geo.stream(i,h),l=f.length){f.sort(_);for(var u=1,a=[v=f[0]];u<l;++u)w((p=f[u])[0],v)||w(p[1],v)?(M(v[0],p[1])>M(v[0],v[1])&&(v[1]=p[1]),M(p[0],v[1])>M(v[0],v[1])&&(v[0]=p[0])):a.push(v=p);for(var c,l,p,g=-1/0,v=(u=0,a[l=a.length-1]);u<=l;v=p,++u)p=a[u],(c=M(v[1],p[0]))>g&&(g=c,t=p[0],r=v[1])}return f=s=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[r,o]]}}(),n.geo.centroid=function(t){xe=Me=_e=we=Se=je=ke=Ae=Ee=Ne=Oe=0,n.geo.stream(t,He);var e=Ee,r=Ne,o=Oe,i=e*e+r*r+o*o;return i<jt&&(e=je,r=ke,o=Ae,Me<St&&(e=_e,r=we,o=Se),(i=e*e+r*r+o*o)<jt)?[NaN,NaN]:[Math.atan2(r,e)*Ct,Lt(o/Math.sqrt(i))*Ct]};var He={sphere:q,point:Ye,lineStart:$e,lineEnd:Ze,polygonStart:function(){He.lineStart=Ve},polygonEnd:function(){He.lineStart=$e}};function Ye(t,n){t*=Ot;var e=Math.cos(n*=Ot);Be(e*Math.cos(t),e*Math.sin(t),Math.sin(n))}function Be(t,n,e){++xe,_e+=(t-_e)/xe,we+=(n-we)/xe,Se+=(e-Se)/xe}function $e(){var t,n,e;function r(r,o){r*=Ot;var i=Math.cos(o*=Ot),u=i*Math.cos(r),a=i*Math.sin(r),c=Math.sin(o),l=Math.atan2(Math.sqrt((l=n*c-e*a)*l+(l=e*u-t*c)*l+(l=t*a-n*u)*l),t*u+n*a+e*c);Me+=l,je+=l*(t+(t=u)),ke+=l*(n+(n=a)),Ae+=l*(e+(e=c)),Be(t,n,e)}He.point=function(o,i){o*=Ot;var u=Math.cos(i*=Ot);t=u*Math.cos(o),n=u*Math.sin(o),e=Math.sin(i),He.point=r,Be(t,n,e)}}function Ze(){He.point=Ye}function Ve(){var t,n,e,r,o;function i(t,n){t*=Ot;var i=Math.cos(n*=Ot),u=i*Math.cos(t),a=i*Math.sin(t),c=Math.sin(n),l=r*c-o*a,f=o*u-e*c,s=e*a-r*u,h=Math.sqrt(l*l+f*f+s*s),p=e*u+r*a+o*c,g=h&&-qt(p)/h,v=Math.atan2(h,p);Ee+=g*l,Ne+=g*f,Oe+=g*s,Me+=v,je+=v*(e+(e=u)),ke+=v*(r+(r=a)),Ae+=v*(o+(o=c)),Be(e,r,o)}He.point=function(u,a){t=u,n=a,He.point=i,u*=Ot;var c=Math.cos(a*=Ot);e=c*Math.cos(u),r=c*Math.sin(u),o=Math.sin(a),Be(e,r,o)},He.lineEnd=function(){i(t,n),He.lineEnd=Ze,He.point=Ye}}function Xe(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function Je(){return!0}function We(t,n,e,r,o){var i=[],u=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e=t[0],r=t[n];if(Fe(e,r)){o.lineStart();for(var a=0;a<n;++a)o.point((e=t[a])[0],e[1]);o.lineEnd()}else{var c=new Ke(e,t,null,!0),l=new Ke(e,null,c,!1);c.o=l,i.push(c),u.push(l),c=new Ke(r,t,null,!1),l=new Ke(r,null,c,!0),c.o=l,i.push(c),u.push(l)}}})),u.sort(n),Ge(i),Ge(u),i.length){for(var a=0,c=e,l=u.length;a<l;++a)u[a].e=c=!c;for(var f,s,h=i[0];;){for(var p=h,g=!0;p.v;)if((p=p.n)===h)return;f=p.z,o.lineStart();do{if(p.v=p.o.v=!0,p.e){if(g)for(a=0,l=f.length;a<l;++a)o.point((s=f[a])[0],s[1]);else r(p.x,p.n.x,1,o);p=p.n}else{if(g)for(a=(f=p.p.z).length-1;a>=0;--a)o.point((s=f[a])[0],s[1]);else r(p.x,p.p.x,-1,o);p=p.p}f=(p=p.o).z,g=!g}while(!p.v);o.lineEnd()}}}function Ge(t){if(n=t.length){for(var n,e,r=0,o=t[0];++r<n;)o.n=e=t[r],e.p=o,o=e;o.n=e=t[0],e.p=o}}function Ke(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Qe(t,e,r,o){return function(i,u){var a,c=e(u),l=i.invert(o[0],o[1]),f={point:s,lineStart:p,lineEnd:g,polygonStart:function(){f.point=x,f.lineStart=M,f.lineEnd=_,a=[],v=[]},polygonEnd:function(){f.point=s,f.lineStart=p,f.lineEnd=g,a=n.merge(a);var t=function(t,n){var e=t[0],r=t[1],o=[Math.sin(e),-Math.cos(e),0],i=0,u=0;Ce.reset();for(var a=0,c=n.length;a<c;++a){var l=n[a],f=l.length;if(f)for(var s=l[0],h=s[0],p=s[1]/2+kt/4,g=Math.sin(p),v=Math.cos(p),d=1;;){d===f&&(d=0);var y=(t=l[d])[0],m=t[1]/2+kt/4,b=Math.sin(m),x=Math.cos(m),M=y-h,_=M>=0?1:-1,w=_*M,S=w>kt,j=g*b;if(Ce.add(Math.atan2(j*_*Math.sin(w),v*x+j*Math.cos(w))),i+=S?M+_*At:M,S^h>=e^y>=e){var k=Pe(qe(s),qe(t));Ue(k);var A=Pe(o,k);Ue(A);var E=(S^M>=0?-1:1)*Lt(A[2]);(r>E||r===E&&(k[0]||k[1]))&&(u+=S^M>=0?1:-1)}if(!d++)break;h=y,g=b,v=x,s=t}}return(i<-St||i<St&&Ce<-St)^1&u}(l,v);a.length?(b||(u.polygonStart(),b=!0),We(a,er,t,r,u)):t&&(b||(u.polygonStart(),b=!0),u.lineStart(),r(null,null,1,u),u.lineEnd()),b&&(u.polygonEnd(),b=!1),a=v=null},sphere:function(){u.polygonStart(),u.lineStart(),r(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function s(n,e){var r=i(n,e);t(n=r[0],e=r[1])&&u.point(n,e)}function h(t,n){var e=i(t,n);c.point(e[0],e[1])}function p(){f.point=h,c.lineStart()}function g(){f.point=s,c.lineEnd()}var v,d,y=nr(),m=e(y),b=!1;function x(t,n){d.push([t,n]);var e=i(t,n);m.point(e[0],e[1])}function M(){m.lineStart(),d=[]}function _(){x(d[0][0],d[0][1]),m.lineEnd();var t,n=m.clean(),e=y.buffer(),r=e.length;if(d.pop(),v.push(d),d=null,r)if(1&n){var o,i=-1;if((r=(t=e[0]).length-1)>0){for(b||(u.polygonStart(),b=!0),u.lineStart();++i<r;)u.point((o=t[i])[0],o[1]);u.lineEnd()}}else r>1&&2&n&&e.push(e.pop().concat(e.shift())),a.push(e.filter(tr))}return f}}function tr(t){return t.length>1}function nr(){var t,n=[];return{lineStart:function(){n.push(t=[])},point:function(n,e){t.push([n,e])},lineEnd:q,buffer:function(){var e=n;return n=[],t=null,e},rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))}}}function er(t,n){return((t=t.x)[0]<0?t[1]-Nt-St:Nt-t[1])-((n=n.x)[0]<0?n[1]-Nt-St:Nt-n[1])}var rr=Qe(Je,(function(t){var n,e=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(i,u){var a=i>0?kt:-kt,c=m(i-e);m(c-kt)<St?(t.point(e,r=(r+u)/2>0?Nt:-Nt),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(i,r),n=0):o!==a&&c>=kt&&(m(e-o)<St&&(e-=o*St),m(i-a)<St&&(i-=a*St),r=function(t,n,e,r){var o,i,u=Math.sin(t-e);return m(u)>St?Math.atan((Math.sin(n)*(i=Math.cos(r))*Math.sin(e)-Math.sin(r)*(o=Math.cos(n))*Math.sin(t))/(o*i*u)):(n+r)/2}(e,r,i,u),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=i,r=u),o=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var o;if(null==t)o=e*Nt,r.point(-kt,o),r.point(0,o),r.point(kt,o),r.point(kt,0),r.point(kt,-o),r.point(0,-o),r.point(-kt,-o),r.point(-kt,0),r.point(-kt,o);else if(m(t[0]-n[0])>St){var i=t[0]<n[0]?kt:-kt;o=e*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(n[0],n[1])}),[-kt,-kt/2]);function or(t){var n=Math.cos(t),e=n>0,r=m(n)>St;return Qe(o,(function(t){var n,a,c,l,f;return{lineStart:function(){l=c=!1,f=1},point:function(s,h){var p,g=[s,h],v=o(s,h),d=e?v?0:u(s,h):v?u(s+(s<0?kt:-kt),h):0;if(!n&&(l=c=v)&&t.lineStart(),v!==c&&(p=i(n,g),(Fe(n,p)||Fe(g,p))&&(g[0]+=St,g[1]+=St,v=o(g[0],g[1]))),v!==c)f=0,v?(t.lineStart(),p=i(g,n),t.point(p[0],p[1])):(p=i(n,g),t.point(p[0],p[1]),t.lineEnd()),n=p;else if(r&&n&&e^v){var y;d&a||!(y=i(g,n,!0))||(f=0,e?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!v||n&&Fe(n,g)||t.point(g[0],g[1]),n=g,c=v,a=d},lineEnd:function(){c&&t.lineEnd(),n=null},clean:function(){return f|(l&&c)<<1}}}),Fr(t,6*Ot),e?[0,-t]:[-kt,t-kt]);function o(t,e){return Math.cos(t)*Math.cos(e)>n}function i(t,e,r){var o=[1,0,0],i=Pe(qe(t),qe(e)),u=Le(i,i),a=i[0],c=u-a*a;if(!c)return!r&&t;var l=n*u/c,f=-n*a/c,s=Pe(o,i),h=Re(o,l);De(h,Re(i,f));var p=s,g=Le(h,p),v=Le(p,p),d=g*g-v*(Le(h,h)-1);if(!(d<0)){var y=Math.sqrt(d),b=Re(p,(-g-y)/v);if(De(b,h),b=Ie(b),!r)return b;var x,M=t[0],_=e[0],w=t[1],S=e[1];_<M&&(x=M,M=_,_=x);var j=_-M,k=m(j-kt)<St;if(!k&&S<w&&(x=w,w=S,S=x),k||j<St?k?w+S>0^b[1]<(m(b[0]-M)<St?w:S):w<=b[1]&&b[1]<=S:j>kt^(M<=b[0]&&b[0]<=_)){var A=Re(p,(-g+y)/v);return De(A,h),[b,Ie(A)]}}}function u(n,r){var o=e?t:kt-t,i=0;return n<-o?i|=1:n>o&&(i|=2),r<-o?i|=4:r>o&&(i|=8),i}}function ir(t,n,e,r){return function(o){var i,u=o.a,a=o.b,c=u.x,l=u.y,f=0,s=1,h=a.x-c,p=a.y-l;if(i=t-c,h||!(i>0)){if(i/=h,h<0){if(i<f)return;i<s&&(s=i)}else if(h>0){if(i>s)return;i>f&&(f=i)}if(i=e-c,h||!(i<0)){if(i/=h,h<0){if(i>s)return;i>f&&(f=i)}else if(h>0){if(i<f)return;i<s&&(s=i)}if(i=n-l,p||!(i>0)){if(i/=p,p<0){if(i<f)return;i<s&&(s=i)}else if(p>0){if(i>s)return;i>f&&(f=i)}if(i=r-l,p||!(i<0)){if(i/=p,p<0){if(i>s)return;i>f&&(f=i)}else if(p>0){if(i<f)return;i<s&&(s=i)}return f>0&&(o.a={x:c+f*h,y:l+f*p}),s<1&&(o.b={x:c+s*h,y:l+s*p}),o}}}}}}var ur=1e9;function ar(t,e,r,o){return function(c){var l,f,s,h,p,g,v,d,y,m,b,x=c,M=nr(),_=ir(t,e,r,o),w={point:k,lineStart:function(){w.point=A,f&&f.push(s=[]);m=!0,y=!1,v=d=NaN},lineEnd:function(){l&&(A(h,p),g&&y&&M.rejoin(),l.push(M.buffer()));w.point=k,y&&c.lineEnd()},polygonStart:function(){c=M,l=[],f=[],b=!0},polygonEnd:function(){c=x,l=n.merge(l);var e=function(t){for(var n=0,e=f.length,r=t[1],o=0;o<e;++o)for(var i,u=1,a=f[o],c=a.length,l=a[0];u<c;++u)i=a[u],l[1]<=r?i[1]>r&&Tt(l,i,t)>0&&++n:i[1]<=r&&Tt(l,i,t)<0&&--n,l=i;return 0!==n}([t,o]),r=b&&e,i=l.length;(r||i)&&(c.polygonStart(),r&&(c.lineStart(),S(null,null,1,c),c.lineEnd()),i&&We(l,u,e,S,c),c.polygonEnd()),l=f=s=null}};function S(n,u,c,l){var f=0,s=0;if(null==n||(f=i(n,c))!==(s=i(u,c))||a(n,u)<0^c>0)do{l.point(0===f||3===f?t:r,f>1?o:e)}while((f=(f+c+4)%4)!==s);else l.point(u[0],u[1])}function j(n,i){return t<=n&&n<=r&&e<=i&&i<=o}function k(t,n){j(t,n)&&c.point(t,n)}function A(t,n){var e=j(t=Math.max(-1e9,Math.min(ur,t)),n=Math.max(-1e9,Math.min(ur,n)));if(f&&s.push([t,n]),m)h=t,p=n,g=e,m=!1,e&&(c.lineStart(),c.point(t,n));else if(e&&y)c.point(t,n);else{var r={a:{x:v,y:d},b:{x:t,y:n}};_(r)?(y||(c.lineStart(),c.point(r.a.x,r.a.y)),c.point(r.b.x,r.b.y),e||c.lineEnd(),b=!1):e&&(c.lineStart(),c.point(t,n),b=!1)}v=t,d=n,y=e}return w};function i(n,o){return m(n[0]-t)<St?o>0?0:3:m(n[0]-r)<St?o>0?2:1:m(n[1]-e)<St?o>0?1:0:o>0?3:2}function u(t,n){return a(t.x,n.x)}function a(t,n){var e=i(t,1),r=i(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}}function cr(t){var n=0,e=kt/3,r=Tr(t),o=r(n,e);return o.parallels=function(t){return arguments.length?r(n=t[0]*kt/180,e=t[1]*kt/180):[n/kt*180,e/kt*180]},o}function lr(t,n){var e=Math.sin(t),r=(e+Math.sin(n))/2,o=1+e*(2*r-e),i=Math.sqrt(o)/r;function u(t,n){var e=Math.sqrt(o-2*r*Math.sin(n))/r;return[e*Math.sin(t*=r),i-e*Math.cos(t)]}return u.invert=function(t,n){var e=i-n;return[Math.atan2(t,e)/r,Lt((o-(t*t+e*e)*r*r)/(2*r))]},u}n.geo.clipExtent=function(){var t,n,e,r,o,i,u={stream:function(t){return o&&(o.valid=!1),(o=i(t)).valid=!0,o},extent:function(a){return arguments.length?(i=ar(t=+a[0][0],n=+a[0][1],e=+a[1][0],r=+a[1][1]),o&&(o.valid=!1,o=null),u):[[t,n],[e,r]]}};return u.extent([[0,0],[960,500]])},(n.geo.conicEqualArea=function(){return cr(lr)}).raw=lr,n.geo.albers=function(){return n.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},n.geo.albersUsa=function(){var t,e,r,o,i=n.geo.albers(),u=n.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=n.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(n,e){t=[n,e]}};function l(n){var i=n[0],u=n[1];return t=null,e(i,u),t||(r(i,u),t)||o(i,u),t}return l.invert=function(t){var n=i.scale(),e=i.translate(),r=(t[0]-e[0])/n,o=(t[1]-e[1])/n;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?u:o>=.166&&o<.234&&r>=-.214&&r<-.115?a:i).invert(t)},l.stream=function(t){var n=i.stream(t),e=u.stream(t),r=a.stream(t);return{point:function(t,o){n.point(t,o),e.point(t,o),r.point(t,o)},sphere:function(){n.sphere(),e.sphere(),r.sphere()},lineStart:function(){n.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},l.precision=function(t){return arguments.length?(i.precision(t),u.precision(t),a.precision(t),l):i.precision()},l.scale=function(t){return arguments.length?(i.scale(t),u.scale(.35*t),a.scale(t),l.translate(i.translate())):i.scale()},l.translate=function(t){if(!arguments.length)return i.translate();var n=i.scale(),f=+t[0],s=+t[1];return e=i.translate(t).clipExtent([[f-.455*n,s-.238*n],[f+.455*n,s+.238*n]]).stream(c).point,r=u.translate([f-.307*n,s+.201*n]).clipExtent([[f-.425*n+St,s+.12*n+St],[f-.214*n-St,s+.234*n-St]]).stream(c).point,o=a.translate([f-.205*n,s+.212*n]).clipExtent([[f-.214*n+St,s+.166*n+St],[f-.115*n-St,s+.234*n-St]]).stream(c).point,l},l.scale(1070)};var fr,sr,hr,pr,gr,vr,dr={point:q,lineStart:q,lineEnd:q,polygonStart:function(){sr=0,dr.lineStart=yr},polygonEnd:function(){dr.lineStart=dr.lineEnd=dr.point=q,fr+=m(sr/2)}};function yr(){var t,n,e,r;function o(t,n){sr+=r*t-e*n,e=t,r=n}dr.point=function(i,u){dr.point=o,t=e=i,n=r=u},dr.lineEnd=function(){o(t,n)}}var mr={point:function(t,n){t<hr&&(hr=t);t>gr&&(gr=t);n<pr&&(pr=n);n>vr&&(vr=n)},lineStart:q,lineEnd:q,polygonStart:q,polygonEnd:q};function br(){var t=xr(4.5),n=[],e={point:r,lineStart:function(){e.point=o},lineEnd:u,polygonStart:function(){e.lineEnd=a},polygonEnd:function(){e.lineEnd=u,e.point=r},pointRadius:function(n){return t=xr(n),e},result:function(){if(n.length){var t=n.join("");return n=[],t}}};function r(e,r){n.push("M",e,",",r,t)}function o(t,r){n.push("M",t,",",r),e.point=i}function i(t,e){n.push("L",t,",",e)}function u(){e.point=r}function a(){n.push("Z")}return e}function xr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var Mr,_r={point:wr,lineStart:Sr,lineEnd:jr,polygonStart:function(){_r.lineStart=kr},polygonEnd:function(){_r.point=wr,_r.lineStart=Sr,_r.lineEnd=jr}};function wr(t,n){_e+=t,we+=n,++Se}function Sr(){var t,n;function e(e,r){var o=e-t,i=r-n,u=Math.sqrt(o*o+i*i);je+=u*(t+e)/2,ke+=u*(n+r)/2,Ae+=u,wr(t=e,n=r)}_r.point=function(r,o){_r.point=e,wr(t=r,n=o)}}function jr(){_r.point=wr}function kr(){var t,n,e,r;function o(t,n){var o=t-e,i=n-r,u=Math.sqrt(o*o+i*i);je+=u*(e+t)/2,ke+=u*(r+n)/2,Ae+=u,Ee+=(u=r*t-e*n)*(e+t),Ne+=u*(r+n),Oe+=3*u,wr(e=t,r=n)}_r.point=function(i,u){_r.point=o,wr(t=e=i,n=r=u)},_r.lineEnd=function(){o(t,n)}}function Ar(t){var n=4.5,e={point:r,lineStart:function(){e.point=o},lineEnd:u,polygonStart:function(){e.lineEnd=a},polygonEnd:function(){e.lineEnd=u,e.point=r},pointRadius:function(t){return n=t,e},result:q};function r(e,r){t.moveTo(e+n,r),t.arc(e,r,n,0,At)}function o(n,r){t.moveTo(n,r),e.point=i}function i(n,e){t.lineTo(n,e)}function u(){e.point=r}function a(){t.closePath()}return e}function Er(t){var n=.5,e=Math.cos(30*Ot),r=16;function o(t){return(r?u:i)(t)}function i(n){return Cr(n,(function(e,r){e=t(e,r),n.point(e[0],e[1])}))}function u(n){var e,o,i,u,c,l,f,s,h,p,g,v,d={point:y,lineStart:m,lineEnd:x,polygonStart:function(){n.polygonStart(),d.lineStart=M},polygonEnd:function(){n.polygonEnd(),d.lineStart=m}};function y(e,r){e=t(e,r),n.point(e[0],e[1])}function m(){s=NaN,d.point=b,n.lineStart()}function b(e,o){var i=qe([e,o]),u=t(e,o);a(s,h,f,p,g,v,s=u[0],h=u[1],f=e,p=i[0],g=i[1],v=i[2],r,n),n.point(s,h)}function x(){d.point=y,n.lineEnd()}function M(){m(),d.point=_,d.lineEnd=w}function _(t,n){b(e=t,n),o=s,i=h,u=p,c=g,l=v,d.point=b}function w(){a(s,h,f,p,g,v,o,i,e,u,c,l,r,n),d.lineEnd=x,x()}return d}function a(r,o,i,u,c,l,f,s,h,p,g,v,d,y){var b=f-r,x=s-o,M=b*b+x*x;if(M>4*n&&d--){var _=u+p,w=c+g,S=l+v,j=Math.sqrt(_*_+w*w+S*S),k=Math.asin(S/=j),A=m(m(S)-1)<St||m(i-h)<St?(i+h)/2:Math.atan2(w,_),E=t(A,k),N=E[0],O=E[1],C=N-r,z=O-o,T=x*C-b*z;(T*T/M>n||m((b*C+x*z)/M-.5)>.3||u*p+c*g+l*v<e)&&(a(r,o,i,u,c,l,N,O,A,_/=j,w/=j,S,d,y),y.point(N,O),a(N,O,A,_,w,S,f,s,h,p,g,v,d,y))}}return o.precision=function(t){return arguments.length?(r=(n=t*t)>0&&16,o):Math.sqrt(n)},o}function Nr(t){var n=Er((function(n,e){return t([n*Ct,e*Ct])}));return function(t){return qr(n(t))}}function Or(t){this.stream=t}function Cr(t,n){return{point:n,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function zr(t){return Tr((function(){return t}))()}function Tr(t){var e,r,o,i,u,a,c=Er((function(t,n){return[(t=e(t,n))[0]*l+i,u-t[1]*l]})),l=150,f=480,s=250,h=0,p=0,g=0,v=0,d=0,y=rr,m=O,b=null,x=null;function M(t){return[(t=o(t[0]*Ot,t[1]*Ot))[0]*l+i,u-t[1]*l]}function _(t){return(t=o.invert((t[0]-i)/l,(u-t[1])/l))&&[t[0]*Ct,t[1]*Ct]}function w(){o=Xe(r=Dr(g,v,d),e);var t=e(h,p);return i=f-t[0]*l,u=s+t[1]*l,S()}function S(){return a&&(a.valid=!1,a=null),M}return M.stream=function(t){return a&&(a.valid=!1),(a=qr(y(r,c(m(t))))).valid=!0,a},M.clipAngle=function(t){return arguments.length?(y=null==t?(b=t,rr):or((b=+t)*Ot),S()):b},M.clipExtent=function(t){return arguments.length?(x=t,m=t?ar(t[0][0],t[0][1],t[1][0],t[1][1]):O,S()):x},M.scale=function(t){return arguments.length?(l=+t,w()):l},M.translate=function(t){return arguments.length?(f=+t[0],s=+t[1],w()):[f,s]},M.center=function(t){return arguments.length?(h=t[0]%360*Ot,p=t[1]%360*Ot,w()):[h*Ct,p*Ct]},M.rotate=function(t){return arguments.length?(g=t[0]%360*Ot,v=t[1]%360*Ot,d=t.length>2?t[2]%360*Ot:0,w()):[g*Ct,v*Ct,d*Ct]},n.rebind(M,c,"precision"),function(){return e=t.apply(this,arguments),M.invert=e.invert&&_,w()}}function qr(t){return Cr(t,(function(n,e){t.point(n*Ot,e*Ot)}))}function Lr(t,n){return[t,n]}function Pr(t,n){return[t>kt?t-At:t<-kt?t+At:t,n]}function Dr(t,n,e){return t?n||e?Xe(Ur(t),Ir(n,e)):Ur(t):n||e?Ir(n,e):Pr}function Rr(t){return function(n,e){return[(n+=t)>kt?n-At:n<-kt?n+At:n,e]}}function Ur(t){var n=Rr(t);return n.invert=Rr(-t),n}function Ir(t,n){var e=Math.cos(t),r=Math.sin(t),o=Math.cos(n),i=Math.sin(n);function u(t,n){var u=Math.cos(n),a=Math.cos(t)*u,c=Math.sin(t)*u,l=Math.sin(n),f=l*e+a*r;return[Math.atan2(c*o-f*i,a*e-l*r),Lt(f*o+c*i)]}return u.invert=function(t,n){var u=Math.cos(n),a=Math.cos(t)*u,c=Math.sin(t)*u,l=Math.sin(n),f=l*o-c*i;return[Math.atan2(c*o+l*i,a*e+f*r),Lt(f*e-a*r)]},u}function Fr(t,n){var e=Math.cos(t),r=Math.sin(t);return function(o,i,u,a){var c=u*n;null!=o?(o=Hr(e,o),i=Hr(e,i),(u>0?o<i:o>i)&&(o+=u*At)):(o=t+u*At,i=t-.5*c);for(var l,f=o;u>0?f>i:f<i;f-=c)a.point((l=Ie([e,-r*Math.cos(f),-r*Math.sin(f)]))[0],l[1])}}function Hr(t,n){var e=qe(n);e[0]-=t,Ue(e);var r=qt(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-St)%(2*Math.PI)}function Yr(t,e,r){var o=n.range(t,e-St,r).concat(e);return function(t){return o.map((function(n){return[t,n]}))}}function Br(t,e,r){var o=n.range(t,e-St,r).concat(e);return function(t){return o.map((function(n){return[n,t]}))}}function $r(t){return t.source}function Zr(t){return t.target}n.geo.path=function(){var t,e,r,o,i,u=4.5;function a(t){return t&&("function"==typeof u&&o.pointRadius(+u.apply(this,arguments)),i&&i.valid||(i=r(o)),n.geo.stream(t,i)),o.result()}function c(){return i=null,a}return a.area=function(t){return fr=0,n.geo.stream(t,r(dr)),fr},a.centroid=function(t){return _e=we=Se=je=ke=Ae=Ee=Ne=Oe=0,n.geo.stream(t,r(_r)),Oe?[Ee/Oe,Ne/Oe]:Ae?[je/Ae,ke/Ae]:Se?[_e/Se,we/Se]:[NaN,NaN]},a.bounds=function(t){return gr=vr=-(hr=pr=1/0),n.geo.stream(t,r(mr)),[[hr,pr],[gr,vr]]},a.projection=function(n){return arguments.length?(r=(t=n)?n.stream||Nr(n):O,c()):t},a.context=function(t){return arguments.length?(o=null==(e=t)?new br:new Ar(t),"function"!=typeof u&&o.pointRadius(u),c()):e},a.pointRadius=function(t){return arguments.length?(u="function"==typeof t?t:(o.pointRadius(+t),+t),a):u},a.projection(n.geo.albersUsa()).context(null)},n.geo.transform=function(t){return{stream:function(n){var e=new Or(n);for(var r in t)e[r]=t[r];return e}}},Or.prototype={point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},n.geo.projection=zr,n.geo.projectionMutator=Tr,(n.geo.equirectangular=function(){return zr(Lr)}).raw=Lr.invert=Lr,n.geo.rotation=function(t){function n(n){return(n=t(n[0]*Ot,n[1]*Ot))[0]*=Ct,n[1]*=Ct,n}return t=Dr(t[0]%360*Ot,t[1]*Ot,t.length>2?t[2]*Ot:0),n.invert=function(n){return(n=t.invert(n[0]*Ot,n[1]*Ot))[0]*=Ct,n[1]*=Ct,n},n},Pr.invert=Lr,n.geo.circle=function(){var t,n,e=[0,0],r=6;function o(){var t="function"==typeof e?e.apply(this,arguments):e,r=Dr(-t[0]*Ot,-t[1]*Ot,0).invert,o=[];return n(null,null,1,{point:function(t,n){o.push(t=r(t,n)),t[0]*=Ct,t[1]*=Ct}}),{type:"Polygon",coordinates:[o]}}return o.origin=function(t){return arguments.length?(e=t,o):e},o.angle=function(e){return arguments.length?(n=Fr((t=+e)*Ot,r*Ot),o):t},o.precision=function(e){return arguments.length?(n=Fr(t*Ot,(r=+e)*Ot),o):r},o.angle(90)},n.geo.distance=function(t,n){var e,r=(n[0]-t[0])*Ot,o=t[1]*Ot,i=n[1]*Ot,u=Math.sin(r),a=Math.cos(r),c=Math.sin(o),l=Math.cos(o),f=Math.sin(i),s=Math.cos(i);return Math.atan2(Math.sqrt((e=s*u)*e+(e=l*f-c*s*a)*e),c*f+l*s*a)},n.geo.graticule=function(){var t,e,r,o,i,u,a,c,l,f,s,h,p=10,g=p,v=90,d=360,y=2.5;function b(){return{type:"MultiLineString",coordinates:x()}}function x(){return n.range(Math.ceil(o/v)*v,r,v).map(s).concat(n.range(Math.ceil(c/d)*d,a,d).map(h)).concat(n.range(Math.ceil(e/p)*p,t,p).filter((function(t){return m(t%v)>St})).map(l)).concat(n.range(Math.ceil(u/g)*g,i,g).filter((function(t){return m(t%d)>St})).map(f))}return b.lines=function(){return x().map((function(t){return{type:"LineString",coordinates:t}}))},b.outline=function(){return{type:"Polygon",coordinates:[s(o).concat(h(a).slice(1),s(r).reverse().slice(1),h(c).reverse().slice(1))]}},b.extent=function(t){return arguments.length?b.majorExtent(t).minorExtent(t):b.minorExtent()},b.majorExtent=function(t){return arguments.length?(o=+t[0][0],r=+t[1][0],c=+t[0][1],a=+t[1][1],o>r&&(t=o,o=r,r=t),c>a&&(t=c,c=a,a=t),b.precision(y)):[[o,c],[r,a]]},b.minorExtent=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],u=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),u>i&&(n=u,u=i,i=n),b.precision(y)):[[e,u],[t,i]]},b.step=function(t){return arguments.length?b.majorStep(t).minorStep(t):b.minorStep()},b.majorStep=function(t){return arguments.length?(v=+t[0],d=+t[1],b):[v,d]},b.minorStep=function(t){return arguments.length?(p=+t[0],g=+t[1],b):[p,g]},b.precision=function(n){return arguments.length?(y=+n,l=Yr(u,i,90),f=Br(e,t,y),s=Yr(c,a,90),h=Br(o,r,y),b):y},b.majorExtent([[-180,-90+St],[180,90-St]]).minorExtent([[-180,-80-St],[180,80+St]])},n.geo.greatArc=function(){var t,e,r=$r,o=Zr;function i(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),e||o.apply(this,arguments)]}}return i.distance=function(){return n.geo.distance(t||r.apply(this,arguments),e||o.apply(this,arguments))},i.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,i):r},i.target=function(t){return arguments.length?(o=t,e="function"==typeof t?null:t,i):o},i.precision=function(){return arguments.length?i:0},i},n.geo.interpolate=function(t,n){return e=t[0]*Ot,r=t[1]*Ot,o=n[0]*Ot,i=n[1]*Ot,u=Math.cos(r),a=Math.sin(r),c=Math.cos(i),l=Math.sin(i),f=u*Math.cos(e),s=u*Math.sin(e),h=c*Math.cos(o),p=c*Math.sin(o),g=2*Math.asin(Math.sqrt(Dt(i-r)+u*c*Dt(o-e))),v=1/Math.sin(g),(d=g?function(t){var n=Math.sin(t*=g)*v,e=Math.sin(g-t)*v,r=e*f+n*h,o=e*s+n*p,i=e*a+n*l;return[Math.atan2(o,r)*Ct,Math.atan2(i,Math.sqrt(r*r+o*o))*Ct]}:function(){return[e*Ct,r*Ct]}).distance=g,d;var e,r,o,i,u,a,c,l,f,s,h,p,g,v,d},n.geo.length=function(t){return Mr=0,n.geo.stream(t,Vr),Mr};var Vr={sphere:q,point:q,lineStart:function(){var t,n,e;function r(r,o){var i=Math.sin(o*=Ot),u=Math.cos(o),a=m((r*=Ot)-t),c=Math.cos(a);Mr+=Math.atan2(Math.sqrt((a=u*Math.sin(a))*a+(a=e*i-n*u*c)*a),n*i+e*u*c),t=r,n=i,e=u}Vr.point=function(o,i){t=o*Ot,n=Math.sin(i*=Ot),e=Math.cos(i),Vr.point=r},Vr.lineEnd=function(){Vr.point=Vr.lineEnd=q}},lineEnd:q,polygonStart:q,polygonEnd:q};function Xr(t,n){function e(n,e){var r=Math.cos(n),o=Math.cos(e),i=t(r*o);return[i*o*Math.sin(n),i*Math.sin(e)]}return e.invert=function(t,e){var r=Math.sqrt(t*t+e*e),o=n(r),i=Math.sin(o),u=Math.cos(o);return[Math.atan2(t*i,r*u),Math.asin(r&&e*i/r)]},e}var Jr=Xr((function(t){return Math.sqrt(2/(1+t))}),(function(t){return 2*Math.asin(t/2)}));(n.geo.azimuthalEqualArea=function(){return zr(Jr)}).raw=Jr;var Wr=Xr((function(t){var n=Math.acos(t);return n&&n/Math.sin(n)}),O);function Gr(t,n){var e=Math.cos(t),r=function(t){return Math.tan(kt/4+t/2)},o=t===n?Math.sin(t):Math.log(e/Math.cos(n))/Math.log(r(n)/r(t)),i=e*Math.pow(r(t),o)/o;if(!o)return to;function u(t,n){i>0?n<-Nt+St&&(n=-Nt+St):n>Nt-St&&(n=Nt-St);var e=i/Math.pow(r(n),o);return[e*Math.sin(o*t),i-e*Math.cos(o*t)]}return u.invert=function(t,n){var e=i-n,r=zt(o)*Math.sqrt(t*t+e*e);return[Math.atan2(t,e)/o,2*Math.atan(Math.pow(i/r,1/o))-Nt]},u}function Kr(t,n){var e=Math.cos(t),r=t===n?Math.sin(t):(e-Math.cos(n))/(n-t),o=e/r+t;if(m(r)<St)return Lr;function i(t,n){var e=o-n;return[e*Math.sin(r*t),o-e*Math.cos(r*t)]}return i.invert=function(t,n){var e=o-n;return[Math.atan2(t,e)/r,o-zt(r)*Math.sqrt(t*t+e*e)]},i}(n.geo.azimuthalEquidistant=function(){return zr(Wr)}).raw=Wr,(n.geo.conicConformal=function(){return cr(Gr)}).raw=Gr,(n.geo.conicEquidistant=function(){return cr(Kr)}).raw=Kr;var Qr=Xr((function(t){return 1/t}),Math.atan);function to(t,n){return[t,Math.log(Math.tan(kt/4+n/2))]}function no(t){var n,e=zr(t),r=e.scale,o=e.translate,i=e.clipExtent;return e.scale=function(){var t=r.apply(e,arguments);return t===e?n?e.clipExtent(null):e:t},e.translate=function(){var t=o.apply(e,arguments);return t===e?n?e.clipExtent(null):e:t},e.clipExtent=function(t){var u=i.apply(e,arguments);if(u===e){if(n=null==t){var a=kt*r(),c=o();i([[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]])}}else n&&(u=null);return u},e.clipExtent(null)}(n.geo.gnomonic=function(){return zr(Qr)}).raw=Qr,to.invert=function(t,n){return[t,2*Math.atan(Math.exp(n))-Nt]},(n.geo.mercator=function(){return no(to)}).raw=to;var eo=Xr((function(){return 1}),Math.asin);(n.geo.orthographic=function(){return zr(eo)}).raw=eo;var ro=Xr((function(t){return 1/(1+t)}),(function(t){return 2*Math.atan(t)}));function oo(t,n){return[Math.log(Math.tan(kt/4+n/2)),-t]}function io(t){return t[0]}function uo(t){return t[1]}function ao(t){for(var n=t.length,e=[0,1],r=2,o=2;o<n;o++){for(;r>1&&Tt(t[e[r-2]],t[e[r-1]],t[o])<=0;)--r;e[r++]=o}return e.slice(0,r)}function co(t,n){return t[0]-n[0]||t[1]-n[1]}(n.geo.stereographic=function(){return zr(ro)}).raw=ro,oo.invert=function(t,n){return[-n,2*Math.atan(Math.exp(t))-Nt]},(n.geo.transverseMercator=function(){var t=no(oo),n=t.center,e=t.rotate;return t.center=function(t){return t?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return t?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90])}).raw=oo,n.geom={},n.geom.hull=function(t){var n=io,e=uo;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,o=yn(n),i=yn(e),u=t.length,a=[],c=[];for(r=0;r<u;r++)a.push([+o.call(this,t[r],r),+i.call(this,t[r],r),r]);for(a.sort(co),r=0;r<u;r++)c.push([a[r][0],-a[r][1]]);var l=ao(a),f=ao(c),s=f[0]===l[0],h=f[f.length-1]===l[l.length-1],p=[];for(r=l.length-1;r>=0;--r)p.push(t[a[l[r]][2]]);for(r=+s;r<f.length-h;++r)p.push(t[a[f[r]][2]]);return p}return r.x=function(t){return arguments.length?(n=t,r):n},r.y=function(t){return arguments.length?(e=t,r):e},r},n.geom.polygon=function(t){return F(t,lo),t};var lo=n.geom.polygon.prototype=[];function fo(t,n,e){return(e[0]-n[0])*(t[1]-n[1])<(e[1]-n[1])*(t[0]-n[0])}function so(t,n,e,r){var o=t[0],i=e[0],u=n[0]-o,a=r[0]-i,c=t[1],l=e[1],f=n[1]-c,s=r[1]-l,h=(a*(c-l)-s*(o-i))/(s*u-a*f);return[o+h*u,c+h*f]}function ho(t){var n=t[0],e=t[t.length-1];return!(n[0]-e[0]||n[1]-e[1])}lo.area=function(){for(var t,n=-1,e=this.length,r=this[e-1],o=0;++n<e;)t=r,r=this[n],o+=t[1]*r[0]-t[0]*r[1];return.5*o},lo.centroid=function(t){var n,e,r=-1,o=this.length,i=0,u=0,a=this[o-1];for(arguments.length||(t=-1/(6*this.area()));++r<o;)n=a,a=this[r],e=n[0]*a[1]-a[0]*n[1],i+=(n[0]+a[0])*e,u+=(n[1]+a[1])*e;return[i*t,u*t]},lo.clip=function(t){for(var n,e,r,o,i,u,a=ho(t),c=-1,l=this.length-ho(this),f=this[l-1];++c<l;){for(n=t.slice(),t.length=0,o=this[c],i=n[(r=n.length-a)-1],e=-1;++e<r;)fo(u=n[e],f,o)?(fo(i,f,o)||t.push(so(i,u,f,o)),t.push(u)):fo(i,f,o)&&t.push(so(i,u,f,o)),i=u;a&&t.push(t[0]),f=o}return t};var po,go,vo,yo,mo,bo=[],xo=[];function Mo(){Io(this),this.edge=this.site=this.circle=null}function _o(t){var n=bo.pop()||new Mo;return n.site=t,n}function wo(t){zo(t),vo.remove(t),bo.push(t),Io(t)}function So(t){var n=t.circle,e=n.x,r=n.cy,o={x:e,y:r},i=t.P,u=t.N,a=[t];wo(t);for(var c=i;c.circle&&m(e-c.circle.x)<St&&m(r-c.circle.cy)<St;)i=c.P,a.unshift(c),wo(c),c=i;a.unshift(c),zo(c);for(var l=u;l.circle&&m(e-l.circle.x)<St&&m(r-l.circle.cy)<St;)u=l.N,a.push(l),wo(l),l=u;a.push(l),zo(l);var f,s=a.length;for(f=1;f<s;++f)l=a[f],c=a[f-1],Do(l.edge,c.site,l.site,o);c=a[0],(l=a[s-1]).edge=Lo(c.site,l.site,null,o),Co(c),Co(l)}function jo(t){for(var n,e,r,o,i=t.x,u=t.y,a=vo._;a;)if((r=ko(a,u)-i)>St)a=a.L;else{if(!((o=i-Ao(a,u))>St)){r>-St?(n=a.P,e=a):o>-St?(n=a,e=a.N):n=e=a;break}if(!a.R){n=a;break}a=a.R}var c=_o(t);if(vo.insert(n,c),n||e){if(n===e)return zo(n),e=_o(n.site),vo.insert(c,e),c.edge=e.edge=Lo(n.site,c.site),Co(n),void Co(e);if(e){zo(n),zo(e);var l=n.site,f=l.x,s=l.y,h=t.x-f,p=t.y-s,g=e.site,v=g.x-f,d=g.y-s,y=2*(h*d-p*v),m=h*h+p*p,b=v*v+d*d,x={x:(d*m-p*b)/y+f,y:(h*b-v*m)/y+s};Do(e.edge,l,g,x),c.edge=Lo(l,t,null,x),e.edge=Lo(t,g,null,x),Co(n),Co(e)}else c.edge=Lo(n.site,c.site)}}function ko(t,n){var e=t.site,r=e.x,o=e.y,i=o-n;if(!i)return r;var u=t.P;if(!u)return-1/0;var a=(e=u.site).x,c=e.y,l=c-n;if(!l)return a;var f=a-r,s=1/i-1/l,h=f/l;return s?(-h+Math.sqrt(h*h-2*s*(f*f/(-2*l)-c+l/2+o-i/2)))/s+r:(r+a)/2}function Ao(t,n){var e=t.N;if(e)return ko(e,n);var r=t.site;return r.y===n?r.x:1/0}function Eo(t){this.site=t,this.edges=[]}function No(t,n){return n.angle-t.angle}function Oo(){Io(this),this.x=this.y=this.arc=this.site=this.cy=null}function Co(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,o=t.site,i=e.site;if(r!==i){var u=o.x,a=o.y,c=r.x-u,l=r.y-a,f=i.x-u,s=2*(c*(d=i.y-a)-l*f);if(!(s>=-jt)){var h=c*c+l*l,p=f*f+d*d,g=(d*h-l*p)/s,v=(c*p-f*h)/s,d=v+a,y=xo.pop()||new Oo;y.arc=t,y.site=o,y.x=g+u,y.y=d+Math.sqrt(g*g+v*v),y.cy=d,t.circle=y;for(var m=null,b=mo._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}mo.insert(m,y),m||(yo=y)}}}}function zo(t){var n=t.circle;n&&(n.P||(yo=n.N),mo.remove(n),xo.push(n),Io(n),t.circle=null)}function To(t,n){var e=t.b;if(e)return!0;var r,o,i=t.a,u=n[0][0],a=n[1][0],c=n[0][1],l=n[1][1],f=t.l,s=t.r,h=f.x,p=f.y,g=s.x,v=s.y,d=(h+g)/2,y=(p+v)/2;if(v===p){if(d<u||d>=a)return;if(h>g){if(i){if(i.y>=l)return}else i={x:d,y:c};e={x:d,y:l}}else{if(i){if(i.y<c)return}else i={x:d,y:l};e={x:d,y:c}}}else if(o=y-(r=(h-g)/(v-p))*d,r<-1||r>1)if(h>g){if(i){if(i.y>=l)return}else i={x:(c-o)/r,y:c};e={x:(l-o)/r,y:l}}else{if(i){if(i.y<c)return}else i={x:(l-o)/r,y:l};e={x:(c-o)/r,y:c}}else if(p<v){if(i){if(i.x>=a)return}else i={x:u,y:r*u+o};e={x:a,y:r*a+o}}else{if(i){if(i.x<u)return}else i={x:a,y:r*a+o};e={x:u,y:r*u+o}}return t.a=i,t.b=e,!0}function qo(t,n){this.l=t,this.r=n,this.a=this.b=null}function Lo(t,n,e,r){var o=new qo(t,n);return po.push(o),e&&Do(o,t,n,e),r&&Do(o,n,t,r),go[t.i].edges.push(new Ro(o,t,n)),go[n.i].edges.push(new Ro(o,n,t)),o}function Po(t,n,e){var r=new qo(t,null);return r.a=n,r.b=e,po.push(r),r}function Do(t,n,e,r){t.a||t.b?t.l===e?t.b=r:t.a=r:(t.a=r,t.l=n,t.r=e)}function Ro(t,n,e){var r=t.a,o=t.b;this.edge=t,this.site=n,this.angle=e?Math.atan2(e.y-n.y,e.x-n.x):t.l===n?Math.atan2(o.x-r.x,r.y-o.y):Math.atan2(r.x-o.x,o.y-r.y)}function Uo(){this._=null}function Io(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Fo(t,n){var e=n,r=n.R,o=e.U;o?o.L===e?o.L=r:o.R=r:t._=r,r.U=o,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function Ho(t,n){var e=n,r=n.L,o=e.U;o?o.L===e?o.L=r:o.R=r:t._=r,r.U=o,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function Yo(t){for(;t.L;)t=t.L;return t}function Bo(t,n){var e,r,o,i=t.sort($o).pop();for(po=[],go=new Array(t.length),vo=new Uo,mo=new Uo;;)if(o=yo,i&&(!o||i.y<o.y||i.y===o.y&&i.x<o.x))i.x===e&&i.y===r||(go[i.i]=new Eo(i),jo(i),e=i.x,r=i.y),i=t.pop();else{if(!o)break;So(o.arc)}n&&(function(t){for(var n,e=po,r=ir(t[0][0],t[0][1],t[1][0],t[1][1]),o=e.length;o--;)(!To(n=e[o],t)||!r(n)||m(n.a.x-n.b.x)<St&&m(n.a.y-n.b.y)<St)&&(n.a=n.b=null,e.splice(o,1))}(n),function(t){for(var n,e,r,o,i,u,a,c,l,f,s=t[0][0],h=t[1][0],p=t[0][1],g=t[1][1],v=go,d=v.length;d--;)if((i=v[d])&&i.prepare())for(c=(a=i.edges).length,u=0;u<c;)r=(f=a[u].end()).x,o=f.y,n=(l=a[++u%c].start()).x,e=l.y,(m(r-n)>St||m(o-e)>St)&&(a.splice(u,0,new Ro(Po(i.site,f,m(r-s)<St&&g-o>St?{x:s,y:m(n-s)<St?e:g}:m(o-g)<St&&h-r>St?{x:m(e-g)<St?n:h,y:g}:m(r-h)<St&&o-p>St?{x:h,y:m(n-h)<St?e:p}:m(o-p)<St&&r-s>St?{x:m(e-p)<St?n:s,y:p}:null),i.site,null)),++c)}(n));var u={cells:go,edges:po};return vo=mo=po=go=null,u}function $o(t,n){return n.y-t.y||n.x-t.x}Eo.prototype.prepare=function(){for(var t,n=this.edges,e=n.length;e--;)(t=n[e].edge).b&&t.a||n.splice(e,1);return n.sort(No),n.length},Ro.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Uo.prototype={insert:function(t,n){var e,r,o;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=Yo(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(o=r.R)&&o.C?(e.C=o.C=!1,r.C=!0,t=r):(t===e.R&&(Fo(this,e),e=(t=e).U),e.C=!1,r.C=!0,Ho(this,r)):(o=r.L)&&o.C?(e.C=o.C=!1,r.C=!0,t=r):(t===e.L&&(Ho(this,e),e=(t=e).U),e.C=!1,r.C=!0,Fo(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,o=t.U,i=t.L,u=t.R;if(e=i?u?Yo(u):i:u,o?o.L===t?o.L=e:o.R=e:this._=e,i&&u?(r=e.C,e.C=t.C,e.L=i,i.U=e,e!==u?(o=e.U,e.U=t.U,t=e.R,o.L=t,e.R=u,u.U=e):(e.U=o,o=e,t=e.R)):(r=t.C,t=e),t&&(t.U=o),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===o.L){if((n=o.R).C&&(n.C=!1,o.C=!0,Fo(this,o),n=o.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,Ho(this,n),n=o.R),n.C=o.C,o.C=n.R.C=!1,Fo(this,o),t=this._;break}}else if((n=o.L).C&&(n.C=!1,o.C=!0,Ho(this,o),n=o.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,Fo(this,n),n=o.L),n.C=o.C,o.C=n.L.C=!1,Ho(this,o),t=this._;break}n.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}},n.geom.voronoi=function(t){var n=io,e=uo,r=n,o=e,i=Zo;if(t)return u(t);function u(t){var n=new Array(t.length),e=i[0][0],r=i[0][1],o=i[1][0],u=i[1][1];return Bo(a(t),i).cells.forEach((function(i,a){var c=i.edges,l=i.site;(n[a]=c.length?c.map((function(t){var n=t.start();return[n.x,n.y]})):l.x>=e&&l.x<=o&&l.y>=r&&l.y<=u?[[e,u],[o,u],[o,r],[e,r]]:[]).point=t[a]})),n}function a(t){return t.map((function(t,n){return{x:Math.round(r(t,n)/St)*St,y:Math.round(o(t,n)/St)*St,i:n}}))}return u.links=function(t){return Bo(a(t)).edges.filter((function(t){return t.l&&t.r})).map((function(n){return{source:t[n.l.i],target:t[n.r.i]}}))},u.triangles=function(t){var n=[];return Bo(a(t)).cells.forEach((function(e,r){for(var o,i,u,a,c=e.site,l=e.edges.sort(No),f=-1,s=l.length,h=l[s-1].edge,p=h.l===c?h.r:h.l;++f<s;)o=p,p=(h=l[f].edge).l===c?h.r:h.l,r<o.i&&r<p.i&&(u=o,a=p,((i=c).x-a.x)*(u.y-i.y)-(i.x-u.x)*(a.y-i.y)<0)&&n.push([t[r],t[o.i],t[p.i]])})),n},u.x=function(t){return arguments.length?(r=yn(n=t),u):n},u.y=function(t){return arguments.length?(o=yn(e=t),u):e},u.clipExtent=function(t){return arguments.length?(i=null==t?Zo:t,u):i===Zo?null:i},u.size=function(t){return arguments.length?u.clipExtent(t&&[[0,0],t]):i===Zo?null:i&&i[1]},u};var Zo=[[-1e6,-1e6],[1e6,1e6]];function Vo(t){return t.x}function Xo(t){return t.y}function Jo(t,n,e,r,o,i){if(!t(n,e,r,o,i)){var u=.5*(e+o),a=.5*(r+i),c=n.nodes;c[0]&&Jo(t,c[0],e,r,u,a),c[1]&&Jo(t,c[1],u,r,o,a),c[2]&&Jo(t,c[2],e,a,u,i),c[3]&&Jo(t,c[3],u,a,o,i)}}function Wo(t,n,e,r,o,i,u){var a,c=1/0;return function t(l,f,s,h,p){if(!(f>i||s>u||h<r||p<o)){if(g=l.point){var g,v=n-l.x,d=e-l.y,y=v*v+d*d;if(y<c){var m=Math.sqrt(c=y);r=n-m,o=e-m,i=n+m,u=e+m,a=g}}for(var b=l.nodes,x=.5*(f+h),M=.5*(s+p),_=(e>=M)<<1|n>=x,w=_+4;_<w;++_)if(l=b[3&_])switch(3&_){case 0:t(l,f,s,x,M);break;case 1:t(l,x,s,h,M);break;case 2:t(l,f,M,x,p);break;case 3:t(l,x,M,h,p)}}}(t,r,o,i,u),a}function Go(t,e){t=n.rgb(t),e=n.rgb(e);var r=t.r,o=t.g,i=t.b,u=e.r-r,a=e.g-o,c=e.b-i;return function(t){return"#"+fn(Math.round(r+u*t))+fn(Math.round(o+a*t))+fn(Math.round(i+c*t))}}function Ko(t,n){var e,r={},o={};for(e in t)e in n?r[e]=ri(t[e],n[e]):o[e]=t[e];for(e in n)e in t||(o[e]=n[e]);return function(t){for(e in r)o[e]=r[e](t);return o}}function Qo(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function ti(t,n){var e,r,o,i=ni.lastIndex=ei.lastIndex=0,u=-1,a=[],c=[];for(t+="",n+="";(e=ni.exec(t))&&(r=ei.exec(n));)(o=r.index)>i&&(o=n.slice(i,o),a[u]?a[u]+=o:a[++u]=o),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,c.push({i:u,x:Qo(e,r)})),i=ei.lastIndex;return i<n.length&&(o=n.slice(i),a[u]?a[u]+=o:a[++u]=o),a.length<2?c[0]?(n=c[0].x,function(t){return n(t)+""}):function(){return n}:(n=c.length,function(t){for(var e,r=0;r<n;++r)a[(e=c[r]).i]=e.x(t);return a.join("")})}n.geom.delaunay=function(t){return n.geom.voronoi().triangles(t)},n.geom.quadtree=function(t,n,e,r,o){var i,u=io,a=uo;if(i=arguments.length)return u=Vo,a=Xo,3===i&&(o=e,r=n,e=n=0),c(t);function c(t){var c,l,f,s,h,p,g,v,d,y=yn(u),b=yn(a);if(null!=n)p=n,g=e,v=r,d=o;else if(v=d=-(p=g=1/0),l=[],f=[],h=t.length,i)for(s=0;s<h;++s)(c=t[s]).x<p&&(p=c.x),c.y<g&&(g=c.y),c.x>v&&(v=c.x),c.y>d&&(d=c.y),l.push(c.x),f.push(c.y);else for(s=0;s<h;++s){var x=+y(c=t[s],s),M=+b(c,s);x<p&&(p=x),M<g&&(g=M),x>v&&(v=x),M>d&&(d=M),l.push(x),f.push(M)}var _=v-p,w=d-g;function S(t,n,e,r,o,i,u,a){if(!isNaN(e)&&!isNaN(r))if(t.leaf){var c=t.x,l=t.y;if(null!=c)if(m(c-e)+m(l-r)<.01)j(t,n,e,r,o,i,u,a);else{var f=t.point;t.x=t.y=t.point=null,j(t,f,c,l,o,i,u,a),j(t,n,e,r,o,i,u,a)}else t.x=e,t.y=r,t.point=n}else j(t,n,e,r,o,i,u,a)}function j(t,n,e,r,o,i,u,a){var c=.5*(o+u),l=.5*(i+a),f=e>=c,s=r>=l,h=s<<1|f;t.leaf=!1,f?o=c:u=c,s?i=l:a=l,S(t=t.nodes[h]||(t.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null}),n,e,r,o,i,u,a)}_>w?d=g+_:v=p+w;var k={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){S(k,t,+y(t,++s),+b(t,s),p,g,v,d)},visit:function(t){Jo(t,k,p,g,v,d)},find:function(t){return Wo(k,t[0],t[1],p,g,v,d)}};if(s=-1,null==n){for(;++s<h;)S(k,t[s],l[s],f[s],p,g,v,d);--s}else t.forEach(k.add);return l=f=t=c=null,k}return c.x=function(t){return arguments.length?(u=t,c):u},c.y=function(t){return arguments.length?(a=t,c):a},c.extent=function(t){return arguments.length?(null==t?n=e=r=o=null:(n=+t[0][0],e=+t[0][1],r=+t[1][0],o=+t[1][1]),c):null==n?null:[[n,e],[r,o]]},c.size=function(t){return arguments.length?(null==t?n=e=r=o=null:(n=e=0,r=+t[0],o=+t[1]),c):null==n?null:[r-n,o-e]},c},n.interpolateRgb=Go,n.interpolateObject=Ko,n.interpolateNumber=Qo,n.interpolateString=ti;var ni=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ei=new RegExp(ni.source,"g");function ri(t,e){for(var r,o=n.interpolators.length;--o>=0&&!(r=n.interpolators[o](t,e)););return r}function oi(t,n){var e,r=[],o=[],i=t.length,u=n.length,a=Math.min(t.length,n.length);for(e=0;e<a;++e)r.push(ri(t[e],n[e]));for(;e<i;++e)o[e]=t[e];for(;e<u;++e)o[e]=n[e];return function(t){for(e=0;e<a;++e)o[e]=r[e](t);return o}}n.interpolate=ri,n.interpolators=[function(t,n){var e=typeof n;return("string"===e?dn.has(n.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(n)?Go:ti:n instanceof Ht?Go:Array.isArray(n)?oi:"object"===e&&isNaN(n)?Ko:Qo)(t,n)}],n.interpolateArray=oi;var ii=function(){return O},ui=n.map({linear:ii,poly:function(t){return function(n){return Math.pow(n,t)}},quad:function(){return si},cubic:function(){return hi},sin:function(){return gi},exp:function(){return vi},circle:function(){return di},elastic:function(t,n){var e;arguments.length<2&&(n=.45);arguments.length?e=n/At*Math.asin(1/t):(t=1,e=n/4);return function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-e)*At/n)}},back:function(t){t||(t=1.70158);return function(n){return n*n*((t+1)*n-t)}},bounce:function(){return yi}}),ai=n.map({in:O,out:li,"in-out":fi,"out-in":function(t){return fi(li(t))}});function ci(t){return function(n){return n<=0?0:n>=1?1:t(n)}}function li(t){return function(n){return 1-t(1-n)}}function fi(t){return function(n){return.5*(n<.5?t(2*n):2-t(2-2*n))}}function si(t){return t*t}function hi(t){return t*t*t}function pi(t){if(t<=0)return 0;if(t>=1)return 1;var n=t*t,e=n*t;return 4*(t<.5?e:3*(t-n)+e-.75)}function gi(t){return 1-Math.cos(t*Nt)}function vi(t){return Math.pow(2,10*(t-1))}function di(t){return 1-Math.sqrt(1-t*t)}function yi(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function mi(t,n){return n-=t,function(e){return Math.round(t+n*e)}}function bi(t){var n,e,r,o=[t.a,t.b],i=[t.c,t.d],u=Mi(o),a=xi(o,i),c=Mi(((n=i)[0]+=(r=-a)*(e=o)[0],n[1]+=r*e[1],n))||0;o[0]*i[1]<i[0]*o[1]&&(o[0]*=-1,o[1]*=-1,u*=-1,a*=-1),this.rotate=(u?Math.atan2(o[1],o[0]):Math.atan2(-i[0],i[1]))*Ct,this.translate=[t.e,t.f],this.scale=[u,c],this.skew=c?Math.atan2(a,c)*Ct:0}function xi(t,n){return t[0]*n[0]+t[1]*n[1]}function Mi(t){var n=Math.sqrt(xi(t,t));return n&&(t[0]/=n,t[1]/=n),n}n.ease=function(t){var n=t.indexOf("-"),r=n>=0?t.slice(0,n):t,o=n>=0?t.slice(n+1):"in";return r=ui.get(r)||ii,ci((o=ai.get(o)||O)(r.apply(null,e.call(arguments,1))))},n.interpolateHcl=function(t,e){t=n.hcl(t),e=n.hcl(e);var r=t.h,o=t.c,i=t.l,u=e.h-r,a=e.c-o,c=e.l-i;isNaN(a)&&(a=0,o=isNaN(o)?e.c:o);isNaN(u)?(u=0,r=isNaN(r)?e.h:r):u>180?u-=360:u<-180&&(u+=360);return function(t){return Xt(r+u*t,o+a*t,i+c*t)+""}},n.interpolateHsl=function(t,e){t=n.hsl(t),e=n.hsl(e);var r=t.h,o=t.s,i=t.l,u=e.h-r,a=e.s-o,c=e.l-i;isNaN(a)&&(a=0,o=isNaN(o)?e.s:o);isNaN(u)?(u=0,r=isNaN(r)?e.h:r):u>180?u-=360:u<-180&&(u+=360);return function(t){return $t(r+u*t,o+a*t,i+c*t)+""}},n.interpolateLab=function(t,e){t=n.lab(t),e=n.lab(e);var r=t.l,o=t.a,i=t.b,u=e.l-r,a=e.a-o,c=e.b-i;return function(t){return tn(r+u*t,o+a*t,i+c*t)+""}},n.interpolateRound=mi,n.transform=function(t){var e=o.createElementNS(n.ns.prefix.svg,"g");return(n.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new bi(n?n.matrix:_i)})(t)},bi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var _i={a:1,b:0,c:0,d:1,e:0,f:0};function wi(t){return t.length?t.pop()+",":""}function Si(t,e){var r=[],o=[];return t=n.transform(t),e=n.transform(e),function(t,n,e,r){if(t[0]!==n[0]||t[1]!==n[1]){var o=e.push("translate(",null,",",null,")");r.push({i:o-4,x:Qo(t[0],n[0])},{i:o-2,x:Qo(t[1],n[1])})}else(n[0]||n[1])&&e.push("translate("+n+")")}(t.translate,e.translate,r,o),function(t,n,e,r){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),r.push({i:e.push(wi(e)+"rotate(",null,")")-2,x:Qo(t,n)})):n&&e.push(wi(e)+"rotate("+n+")")}(t.rotate,e.rotate,r,o),function(t,n,e,r){t!==n?r.push({i:e.push(wi(e)+"skewX(",null,")")-2,x:Qo(t,n)}):n&&e.push(wi(e)+"skewX("+n+")")}(t.skew,e.skew,r,o),function(t,n,e,r){if(t[0]!==n[0]||t[1]!==n[1]){var o=e.push(wi(e)+"scale(",null,",",null,")");r.push({i:o-4,x:Qo(t[0],n[0])},{i:o-2,x:Qo(t[1],n[1])})}else 1===n[0]&&1===n[1]||e.push(wi(e)+"scale("+n+")")}(t.scale,e.scale,r,o),t=e=null,function(t){for(var n,e=-1,i=o.length;++e<i;)r[(n=o[e]).i]=n.x(t);return r.join("")}}function ji(t,n){return n=(n-=t=+t)||1/n,function(e){return(e-t)/n}}function ki(t,n){return n=(n-=t=+t)||1/n,function(e){return Math.max(0,Math.min(1,(e-t)/n))}}function Ai(t){for(var n=t.source,e=t.target,r=function(t,n){if(t===n)return t;var e=Ei(t),r=Ei(n),o=e.pop(),i=r.pop(),u=null;for(;o===i;)u=o,o=e.pop(),i=r.pop();return u}(n,e),o=[n];n!==r;)n=n.parent,o.push(n);for(var i=o.length;e!==r;)o.splice(i,0,e),e=e.parent;return o}function Ei(t){for(var n=[],e=t.parent;null!=e;)n.push(t),t=e,e=e.parent;return n.push(t),n}function Ni(t){t.fixed|=2}function Oi(t){t.fixed&=-7}function Ci(t){t.fixed|=4,t.px=t.x,t.py=t.y}function zi(t){t.fixed&=-5}function Ti(t,n,e){var r=0,o=0;if(t.charge=0,!t.leaf)for(var i,u=t.nodes,a=u.length,c=-1;++c<a;)null!=(i=u[c])&&(Ti(i,n,e),t.charge+=i.charge,r+=i.charge*i.cx,o+=i.charge*i.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=n*e[t.point.index];t.charge+=t.pointCharge=l,r+=l*t.point.x,o+=l*t.point.y}t.cx=r/t.charge,t.cy=o/t.charge}n.interpolateTransform=Si,n.layout={},n.layout.bundle=function(){return function(t){for(var n=[],e=-1,r=t.length;++e<r;)n.push(Ai(t[e]));return n}},n.layout.chord=function(){var t,e,r,o,i,u,a,c={},l=0;function f(){var c,f,h,p,g,v={},d=[],y=n.range(o),m=[];for(t=[],e=[],c=0,p=-1;++p<o;){for(f=0,g=-1;++g<o;)f+=r[p][g];d.push(f),m.push(n.range(o)),c+=f}for(i&&y.sort((function(t,n){return i(d[t],d[n])})),u&&m.forEach((function(t,n){t.sort((function(t,e){return u(r[n][t],r[n][e])}))})),c=(At-l*o)/c,f=0,p=-1;++p<o;){for(h=f,g=-1;++g<o;){var b=y[p],x=m[b][g],M=r[b][x],_=f,w=f+=M*c;v[b+"-"+x]={index:b,subindex:x,startAngle:_,endAngle:w,value:M}}e[b]={index:b,startAngle:h,endAngle:f,value:d[b]},f+=l}for(p=-1;++p<o;)for(g=p-1;++g<o;){var S=v[p+"-"+g],j=v[g+"-"+p];(S.value||j.value)&&t.push(S.value<j.value?{source:j,target:S}:{source:S,target:j})}a&&s()}function s(){t.sort((function(t,n){return a((t.source.value+t.target.value)/2,(n.source.value+n.target.value)/2)}))}return c.matrix=function(n){return arguments.length?(o=(r=n)&&r.length,t=e=null,c):r},c.padding=function(n){return arguments.length?(l=n,t=e=null,c):l},c.sortGroups=function(n){return arguments.length?(i=n,t=e=null,c):i},c.sortSubgroups=function(n){return arguments.length?(u=n,t=null,c):u},c.sortChords=function(n){return arguments.length?(a=n,t&&s(),c):a},c.chords=function(){return t||f(),t},c.groups=function(){return e||f(),e},c},n.layout.force=function(){var t,e,r,o,i,u,a={},c=n.dispatch("start","tick","end"),l=[1,1],f=.9,s=qi,h=Li,p=-30,g=Pi,v=.1,d=.64,y=[],m=[];function b(t){return function(n,e,r,o){if(n.point!==t){var i=n.cx-t.x,u=n.cy-t.y,a=o-e,c=i*i+u*u;if(a*a/d<c){if(c<g){var l=n.charge/c;t.px-=i*l,t.py-=u*l}return!0}if(n.point&&c&&c<g){l=n.pointCharge/c;t.px-=i*l,t.py-=u*l}}return!n.charge}}function x(t){t.px=n.event.x,t.py=n.event.y,a.resume()}return a.tick=function(){if((r*=.99)<.005)return t=null,c.end({type:"end",alpha:r=0}),!0;var e,a,s,h,g,d,x,M,_,w=y.length,S=m.length;for(a=0;a<S;++a)h=(s=m[a]).source,(d=(M=(g=s.target).x-h.x)*M+(_=g.y-h.y)*_)&&(M*=d=r*i[a]*((d=Math.sqrt(d))-o[a])/d,_*=d,g.x-=M*(x=h.weight+g.weight?h.weight/(h.weight+g.weight):.5),g.y-=_*x,h.x+=M*(x=1-x),h.y+=_*x);if((x=r*v)&&(M=l[0]/2,_=l[1]/2,a=-1,x))for(;++a<w;)(s=y[a]).x+=(M-s.x)*x,s.y+=(_-s.y)*x;if(p)for(Ti(e=n.geom.quadtree(y),r,u),a=-1;++a<w;)(s=y[a]).fixed||e.visit(b(s));for(a=-1;++a<w;)(s=y[a]).fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*f,s.y-=(s.py-(s.py=s.y))*f);c.tick({type:"tick",alpha:r})},a.nodes=function(t){return arguments.length?(y=t,a):y},a.links=function(t){return arguments.length?(m=t,a):m},a.size=function(t){return arguments.length?(l=t,a):l},a.linkDistance=function(t){return arguments.length?(s="function"==typeof t?t:+t,a):s},a.distance=a.linkDistance,a.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,a):h},a.friction=function(t){return arguments.length?(f=+t,a):f},a.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,a):p},a.chargeDistance=function(t){return arguments.length?(g=t*t,a):Math.sqrt(g)},a.gravity=function(t){return arguments.length?(v=+t,a):v},a.theta=function(t){return arguments.length?(d=t*t,a):Math.sqrt(d)},a.alpha=function(n){return arguments.length?(n=+n,r?n>0?r=n:(t.c=null,t.t=NaN,t=null,c.end({type:"end",alpha:r=0})):n>0&&(c.start({type:"start",alpha:r=n}),t=jn(a.tick)),a):r},a.start=function(){var t,n,e,r=y.length,c=m.length,f=l[0],g=l[1];for(t=0;t<r;++t)(e=y[t]).index=t,e.weight=0;for(t=0;t<c;++t)"number"==typeof(e=m[t]).source&&(e.source=y[e.source]),"number"==typeof e.target&&(e.target=y[e.target]),++e.source.weight,++e.target.weight;for(t=0;t<r;++t)e=y[t],isNaN(e.x)&&(e.x=v("x",f)),isNaN(e.y)&&(e.y=v("y",g)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(o=[],"function"==typeof s)for(t=0;t<c;++t)o[t]=+s.call(this,m[t],t);else for(t=0;t<c;++t)o[t]=s;if(i=[],"function"==typeof h)for(t=0;t<c;++t)i[t]=+h.call(this,m[t],t);else for(t=0;t<c;++t)i[t]=h;if(u=[],"function"==typeof p)for(t=0;t<r;++t)u[t]=+p.call(this,y[t],t);else for(t=0;t<r;++t)u[t]=p;function v(e,o){if(!n){for(n=new Array(r),l=0;l<r;++l)n[l]=[];for(l=0;l<c;++l){var i=m[l];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var u,a=n[t],l=-1,f=a.length;++l<f;)if(!isNaN(u=a[l][e]))return u;return Math.random()*o}return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){if(e||(e=n.behavior.drag().origin(O).on("dragstart.force",Ni).on("drag.force",x).on("dragend.force",Oi)),!arguments.length)return e;this.on("mouseover.force",Ci).on("mouseout.force",zi).call(e)},n.rebind(a,c,"on")};var qi=20,Li=1,Pi=1/0;function Di(t,e){return n.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Yi,t}function Ri(t,n){for(var e=[t];null!=(t=e.pop());)if(n(t),(o=t.children)&&(r=o.length))for(var r,o;--r>=0;)e.push(o[r])}function Ui(t,n){for(var e=[t],r=[];null!=(t=e.pop());)if(r.push(t),(i=t.children)&&(o=i.length))for(var o,i,u=-1;++u<o;)e.push(i[u]);for(;null!=(t=r.pop());)n(t)}function Ii(t){return t.children}function Fi(t){return t.value}function Hi(t,n){return n.value-t.value}function Yi(t){return n.merge(t.map((function(t){return(t.children||[]).map((function(n){return{source:t,target:n}}))})))}n.layout.hierarchy=function(){var t=Hi,n=Ii,e=Fi;function r(o){var i,u=[o],a=[];for(o.depth=0;null!=(i=u.pop());)if(a.push(i),(l=n.call(r,i,i.depth))&&(c=l.length)){for(var c,l,f;--c>=0;)u.push(f=l[c]),f.parent=i,f.depth=i.depth+1;e&&(i.value=0),i.children=l}else e&&(i.value=+e.call(r,i,i.depth)||0),delete i.children;return Ui(o,(function(n){var r,o;t&&(r=n.children)&&r.sort(t),e&&(o=n.parent)&&(o.value+=n.value)})),a}return r.sort=function(n){return arguments.length?(t=n,r):t},r.children=function(t){return arguments.length?(n=t,r):n},r.value=function(t){return arguments.length?(e=t,r):e},r.revalue=function(t){return e&&(Ri(t,(function(t){t.children&&(t.value=0)})),Ui(t,(function(t){var n;t.children||(t.value=+e.call(r,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)}))),t},r},n.layout.partition=function(){var t=n.layout.hierarchy(),e=[1,1];function r(t,n,e,o){var i=t.children;if(t.x=n,t.y=t.depth*o,t.dx=e,t.dy=o,i&&(u=i.length)){var u,a,c,l=-1;for(e=t.value?e/t.value:0;++l<u;)r(a=i[l],n,c=a.value*e,o),n+=c}}function o(t){var n=t.children,e=0;if(n&&(r=n.length))for(var r,i=-1;++i<r;)e=Math.max(e,o(n[i]));return 1+e}function i(n,i){var u=t.call(this,n,i);return r(u[0],0,e[0],e[1]/o(u[0])),u}return i.size=function(t){return arguments.length?(e=t,i):e},Di(i,t)},n.layout.pie=function(){var t=Number,e=Bi,r=0,o=At,i=0;function u(a){var c,l=a.length,f=a.map((function(n,e){return+t.call(u,n,e)})),s=+("function"==typeof r?r.apply(this,arguments):r),h=("function"==typeof o?o.apply(this,arguments):o)-s,p=Math.min(Math.abs(h)/l,+("function"==typeof i?i.apply(this,arguments):i)),g=p*(h<0?-1:1),v=n.sum(f),d=v?(h-l*g)/v:0,y=n.range(l),m=[];return null!=e&&y.sort(e===Bi?function(t,n){return f[n]-f[t]}:function(t,n){return e(a[t],a[n])}),y.forEach((function(t){m[t]={data:a[t],value:c=f[t],startAngle:s,endAngle:s+=c*d+g,padAngle:p}})),m}return u.value=function(n){return arguments.length?(t=n,u):t},u.sort=function(t){return arguments.length?(e=t,u):e},u.startAngle=function(t){return arguments.length?(r=t,u):r},u.endAngle=function(t){return arguments.length?(o=t,u):o},u.padAngle=function(t){return arguments.length?(i=t,u):i},u};var Bi={};function $i(t){return t.x}function Zi(t){return t.y}function Vi(t,n,e){t.y0=n,t.y=e}n.layout.stack=function(){var t=O,e=Wi,r=Gi,o=Vi,i=$i,u=Zi;function a(c,l){if(!(p=c.length))return c;var f=c.map((function(n,e){return t.call(a,n,e)})),s=f.map((function(t){return t.map((function(t,n){return[i.call(a,t,n),u.call(a,t,n)]}))})),h=e.call(a,s,l);f=n.permute(f,h),s=n.permute(s,h);var p,g,v,d,y=r.call(a,s,l),m=f[0].length;for(v=0;v<m;++v)for(o.call(a,f[0][v],d=y[v],s[0][v][1]),g=1;g<p;++g)o.call(a,f[g][v],d+=s[g-1][v][1],s[g][v][1]);return c}return a.values=function(n){return arguments.length?(t=n,a):t},a.order=function(t){return arguments.length?(e="function"==typeof t?t:Xi.get(t)||Wi,a):e},a.offset=function(t){return arguments.length?(r="function"==typeof t?t:Ji.get(t)||Gi,a):r},a.x=function(t){return arguments.length?(i=t,a):i},a.y=function(t){return arguments.length?(u=t,a):u},a.out=function(t){return arguments.length?(o=t,a):o},a};var Xi=n.map({"inside-out":function(t){var e,r,o=t.length,i=t.map(Ki),u=t.map(Qi),a=n.range(o).sort((function(t,n){return i[t]-i[n]})),c=0,l=0,f=[],s=[];for(e=0;e<o;++e)r=a[e],c<l?(c+=u[r],f.push(r)):(l+=u[r],s.push(r));return s.reverse().concat(f)},reverse:function(t){return n.range(t.length).reverse()},default:Wi}),Ji=n.map({silhouette:function(t){var n,e,r,o=t.length,i=t[0].length,u=[],a=0,c=[];for(e=0;e<i;++e){for(n=0,r=0;n<o;n++)r+=t[n][e][1];r>a&&(a=r),u.push(r)}for(e=0;e<i;++e)c[e]=(a-u[e])/2;return c},wiggle:function(t){var n,e,r,o,i,u,a,c,l,f=t.length,s=t[0],h=s.length,p=[];for(p[0]=c=l=0,e=1;e<h;++e){for(n=0,o=0;n<f;++n)o+=t[n][e][1];for(n=0,i=0,a=s[e][0]-s[e-1][0];n<f;++n){for(r=0,u=(t[n][e][1]-t[n][e-1][1])/(2*a);r<n;++r)u+=(t[r][e][1]-t[r][e-1][1])/a;i+=u*t[n][e][1]}p[e]=c-=o?i/o*a:0,c<l&&(l=c)}for(e=0;e<h;++e)p[e]-=l;return p},expand:function(t){var n,e,r,o=t.length,i=t[0].length,u=1/o,a=[];for(e=0;e<i;++e){for(n=0,r=0;n<o;n++)r+=t[n][e][1];if(r)for(n=0;n<o;n++)t[n][e][1]/=r;else for(n=0;n<o;n++)t[n][e][1]=u}for(e=0;e<i;++e)a[e]=0;return a},zero:Gi});function Wi(t){return n.range(t.length)}function Gi(t){for(var n=-1,e=t[0].length,r=[];++n<e;)r[n]=0;return r}function Ki(t){for(var n,e=1,r=0,o=t[0][1],i=t.length;e<i;++e)(n=t[e][1])>o&&(r=e,o=n);return r}function Qi(t){return t.reduce(tu,0)}function tu(t,n){return t+n[1]}function nu(t,n){return eu(t,Math.ceil(Math.log(n.length)/Math.LN2+1))}function eu(t,n){for(var e=-1,r=+t[0],o=(t[1]-r)/n,i=[];++e<=n;)i[e]=o*e+r;return i}function ru(t){return[n.min(t),n.max(t)]}function ou(t,n){return t.value-n.value}function iu(t,n){var e=t._pack_next;t._pack_next=n,n._pack_prev=t,n._pack_next=e,e._pack_prev=n}function uu(t,n){t._pack_next=n,n._pack_prev=t}function au(t,n){var e=n.x-t.x,r=n.y-t.y,o=t.r+n.r;return.999*o*o>e*e+r*r}function cu(t){if((n=t.children)&&(c=n.length)){var n,e,r,o,i,u,a,c,l=1/0,f=-1/0,s=1/0,h=-1/0;if(n.forEach(lu),(e=n[0]).x=-e.r,e.y=0,b(e),c>1&&((r=n[1]).x=r.r,r.y=0,b(r),c>2))for(hu(e,r,o=n[2]),b(o),iu(e,o),e._pack_prev=o,iu(o,r),r=e._pack_next,i=3;i<c;i++){hu(e,r,o=n[i]);var p=0,g=1,v=1;for(u=r._pack_next;u!==r;u=u._pack_next,g++)if(au(u,o)){p=1;break}if(1==p)for(a=e._pack_prev;a!==u._pack_prev&&!au(a,o);a=a._pack_prev,v++);p?(g<v||g==v&&r.r<e.r?uu(e,r=u):uu(e=a,r),i--):(iu(e,o),r=o,b(o))}var d=(l+f)/2,y=(s+h)/2,m=0;for(i=0;i<c;i++)(o=n[i]).x-=d,o.y-=y,m=Math.max(m,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=m,n.forEach(fu)}function b(t){l=Math.min(t.x-t.r,l),f=Math.max(t.x+t.r,f),s=Math.min(t.y-t.r,s),h=Math.max(t.y+t.r,h)}}function lu(t){t._pack_next=t._pack_prev=t}function fu(t){delete t._pack_next,delete t._pack_prev}function su(t,n,e,r){var o=t.children;if(t.x=n+=r*t.x,t.y=e+=r*t.y,t.r*=r,o)for(var i=-1,u=o.length;++i<u;)su(o[i],n,e,r)}function hu(t,n,e){var r=t.r+e.r,o=n.x-t.x,i=n.y-t.y;if(r&&(o||i)){var u=n.r+e.r,a=o*o+i*i,c=.5+((r*=r)-(u*=u))/(2*a),l=Math.sqrt(Math.max(0,2*u*(r+a)-(r-=a)*r-u*u))/(2*a);e.x=t.x+c*o+l*i,e.y=t.y+c*i-l*o}else e.x=t.x+r,e.y=t.y}function pu(t,n){return t.parent==n.parent?1:2}function gu(t){var n=t.children;return n.length?n[0]:t.t}function vu(t){var n,e=t.children;return(n=e.length)?e[n-1]:t.t}function du(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function yu(t,n,e){return t.a.parent===n.parent?t.a:e}function mu(t){var n=t.children;return n&&n.length?mu(n[0]):t}function bu(t){var n,e=t.children;return e&&(n=e.length)?bu(e[n-1]):t}function xu(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Mu(t,n){var e=t.x+n[3],r=t.y+n[0],o=t.dx-n[1]-n[3],i=t.dy-n[0]-n[2];return o<0&&(e+=o/2,o=0),i<0&&(r+=i/2,i=0),{x:e,y:r,dx:o,dy:i}}function _u(t){var n=t[0],e=t[t.length-1];return n<e?[n,e]:[e,n]}function wu(t){return t.rangeExtent?t.rangeExtent():_u(t.range())}function Su(t,n,e,r){var o=e(t[0],t[1]),i=r(n[0],n[1]);return function(t){return i(o(t))}}function ju(t,n){var e,r=0,o=t.length-1,i=t[r],u=t[o];return u<i&&(e=r,r=o,o=e,e=i,i=u,u=e),t[r]=n.floor(i),t[o]=n.ceil(u),t}function ku(t){return t?{floor:function(n){return Math.floor(n/t)*t},ceil:function(n){return Math.ceil(n/t)*t}}:Au}n.layout.histogram=function(){var t=!0,e=Number,r=ru,o=nu;function i(i,u){for(var a,c,l=[],f=i.map(e,this),s=r.call(this,f,u),h=o.call(this,s,f,u),p=(u=-1,f.length),g=h.length-1,v=t?1:1/p;++u<g;)(a=l[u]=[]).dx=h[u+1]-(a.x=h[u]),a.y=0;if(g>0)for(u=-1;++u<p;)(c=f[u])>=s[0]&&c<=s[1]&&((a=l[n.bisect(h,c,1,g)-1]).y+=v,a.push(i[u]));return l}return i.value=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(r=yn(t),i):r},i.bins=function(t){return arguments.length?(o="number"==typeof t?function(n){return eu(n,t)}:yn(t),i):o},i.frequency=function(n){return arguments.length?(t=!!n,i):t},i},n.layout.pack=function(){var t,e=n.layout.hierarchy().sort(ou),r=0,o=[1,1];function i(n,i){var u=e.call(this,n,i),a=u[0],c=o[0],l=o[1],f=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,Ui(a,(function(t){t.r=+f(t.value)})),Ui(a,cu),r){var s=r*(t?1:Math.max(2*a.r/c,2*a.r/l))/2;Ui(a,(function(t){t.r+=s})),Ui(a,cu),Ui(a,(function(t){t.r-=s}))}return su(a,c/2,l/2,t?1:1/Math.max(2*a.r/c,2*a.r/l)),u}return i.size=function(t){return arguments.length?(o=t,i):o},i.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,i):t},i.padding=function(t){return arguments.length?(r=+t,i):r},Di(i,e)},n.layout.tree=function(){var t=n.layout.hierarchy().sort(null).value(null),e=pu,r=[1,1],o=null;function i(n,i){var l=t.call(this,n,i),f=l[0],s=function(t){var n,e={A:null,children:[t]},r=[e];for(;null!=(n=r.pop());)for(var o,i=n.children,u=0,a=i.length;u<a;++u)r.push((i[u]=o={_:i[u],parent:n,children:(o=i[u].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:u}).a=o);return e.children[0]}(f);if(Ui(s,u),s.parent.m=-s.z,Ri(s,a),o)Ri(f,c);else{var h=f,p=f,g=f;Ri(f,(function(t){t.x<h.x&&(h=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)}));var v=e(h,p)/2-h.x,d=r[0]/(p.x+e(p,h)/2+v),y=r[1]/(g.depth||1);Ri(f,(function(t){t.x=(t.x+v)*d,t.y=t.depth*y}))}return l}function u(t){var n=t.children,r=t.parent.children,o=t.i?r[t.i-1]:null;if(n.length){!function(t){var n,e=0,r=0,o=t.children,i=o.length;for(;--i>=0;)(n=o[i]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(t);var i=(n[0].z+n[n.length-1].z)/2;o?(t.z=o.z+e(t._,o._),t.m=t.z-i):t.z=i}else o&&(t.z=o.z+e(t._,o._));t.parent.A=function(t,n,r){if(n){for(var o,i=t,u=t,a=n,c=i.parent.children[0],l=i.m,f=u.m,s=a.m,h=c.m;a=vu(a),i=gu(i),a&&i;)c=gu(c),(u=vu(u)).a=t,(o=a.z+s-i.z-l+e(a._,i._))>0&&(du(yu(a,t,r),t,o),l+=o,f+=o),s+=a.m,l+=i.m,h+=c.m,f+=u.m;a&&!vu(u)&&(u.t=a,u.m+=s-f),i&&!gu(c)&&(c.t=i,c.m+=l-h,r=t)}return r}(t,o,t.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function c(t){t.x*=r[0],t.y=t.depth*r[1]}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(o=null==(r=t)?c:null,i):o?null:r},i.nodeSize=function(t){return arguments.length?(o=null==(r=t)?null:c,i):o?r:null},Di(i,t)},n.layout.cluster=function(){var t=n.layout.hierarchy().sort(null).value(null),e=pu,r=[1,1],o=!1;function i(i,u){var a,c=t.call(this,i,u),l=c[0],f=0;Ui(l,(function(t){var r=t.children;r&&r.length?(t.x=function(t){return t.reduce((function(t,n){return t+n.x}),0)/t.length}(r),t.y=function(t){return 1+n.max(t,(function(t){return t.y}))}(r)):(t.x=a?f+=e(t,a):0,t.y=0,a=t)}));var s=mu(l),h=bu(l),p=s.x-e(s,h)/2,g=h.x+e(h,s)/2;return Ui(l,o?function(t){t.x=(t.x-l.x)*r[0],t.y=(l.y-t.y)*r[1]}:function(t){t.x=(t.x-p)/(g-p)*r[0],t.y=(1-(l.y?t.y/l.y:1))*r[1]}),c}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(o=null==(r=t),i):o?null:r},i.nodeSize=function(t){return arguments.length?(o=null!=(r=t),i):o?r:null},Di(i,t)},n.layout.treemap=function(){var t,e=n.layout.hierarchy(),r=Math.round,o=[1,1],i=null,u=xu,a=!1,c="squarify",l=.5*(1+Math.sqrt(5));function f(t,n){for(var e,r,o=-1,i=t.length;++o<i;)r=(e=t[o]).value*(n<0?0:n),e.area=isNaN(r)||r<=0?0:r}function s(t){var n=t.children;if(n&&n.length){var e,r,o,i=u(t),a=[],l=n.slice(),h=1/0,v="slice"===c?i.dx:"dice"===c?i.dy:"slice-dice"===c?1&t.depth?i.dy:i.dx:Math.min(i.dx,i.dy);for(f(l,i.dx*i.dy/t.value),a.area=0;(o=l.length)>0;)a.push(e=l[o-1]),a.area+=e.area,"squarify"!==c||(r=p(a,v))<=h?(l.pop(),h=r):(a.area-=a.pop().area,g(a,v,i,!1),v=Math.min(i.dx,i.dy),a.length=a.area=0,h=1/0);a.length&&(g(a,v,i,!0),a.length=a.area=0),n.forEach(s)}}function h(t){var n=t.children;if(n&&n.length){var e,r=u(t),o=n.slice(),i=[];for(f(o,r.dx*r.dy/t.value),i.area=0;e=o.pop();)i.push(e),i.area+=e.area,null!=e.z&&(g(i,e.z?r.dx:r.dy,r,!o.length),i.length=i.area=0);n.forEach(h)}}function p(t,n){for(var e,r=t.area,o=0,i=1/0,u=-1,a=t.length;++u<a;)(e=t[u].area)&&(e<i&&(i=e),e>o&&(o=e));return n*=n,(r*=r)?Math.max(n*o*l/r,r/(n*i*l)):1/0}function g(t,n,e,o){var i,u=-1,a=t.length,c=e.x,l=e.y,f=n?r(t.area/n):0;if(n==e.dx){for((o||f>e.dy)&&(f=e.dy);++u<a;)(i=t[u]).x=c,i.y=l,i.dy=f,c+=i.dx=Math.min(e.x+e.dx-c,f?r(i.area/f):0);i.z=!0,i.dx+=e.x+e.dx-c,e.y+=f,e.dy-=f}else{for((o||f>e.dx)&&(f=e.dx);++u<a;)(i=t[u]).x=c,i.y=l,i.dx=f,l+=i.dy=Math.min(e.y+e.dy-l,f?r(i.area/f):0);i.z=!1,i.dy+=e.y+e.dy-l,e.x+=f,e.dx-=f}}function v(n){var r=t||e(n),i=r[0];return i.x=i.y=0,i.value?(i.dx=o[0],i.dy=o[1]):i.dx=i.dy=0,t&&e.revalue(i),f([i],i.dx*i.dy/i.value),(t?h:s)(i),a&&(t=r),r}return v.size=function(t){return arguments.length?(o=t,v):o},v.padding=function(t){if(!arguments.length)return i;function n(n){var e=t.call(v,n,n.depth);return null==e?xu(n):Mu(n,"number"==typeof e?[e,e,e,e]:e)}function e(n){return Mu(n,t)}var r;return u=null==(i=t)?xu:"function"==(r=typeof t)?n:"number"===r?(t=[t,t,t,t],e):e,v},v.round=function(t){return arguments.length?(r=t?Math.round:Number,v):r!=Number},v.sticky=function(n){return arguments.length?(a=n,t=null,v):a},v.ratio=function(t){return arguments.length?(l=t,v):l},v.mode=function(t){return arguments.length?(c=t+"",v):c},Di(v,e)},n.random={normal:function(t,n){var e=arguments.length;return e<2&&(n=1),e<1&&(t=0),function(){var e,r,o;do{o=(e=2*Math.random()-1)*e+(r=2*Math.random()-1)*r}while(!o||o>1);return t+n*e*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var t=n.random.normal.apply(n,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=n.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var n=0,e=0;e<t;e++)n+=Math.random();return n}}},n.scale={};var Au={floor:O,ceil:O};function Eu(t,e,r,o){var i=[],u=[],a=0,c=Math.min(t.length,e.length)-1;for(t[c]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=c;)i.push(r(t[a-1],t[a])),u.push(o(e[a-1],e[a]));return function(e){var r=n.bisect(t,e,1,c)-1;return u[r](i[r](e))}}function Nu(t,n,e,r){var o,i;function u(){var u=Math.min(t.length,n.length)>2?Eu:Su,c=r?ki:ji;return o=u(t,n,c,e),i=u(n,t,c,ri),a}function a(t){return o(t)}return a.invert=function(t){return i(t)},a.domain=function(n){return arguments.length?(t=n.map(Number),u()):t},a.range=function(t){return arguments.length?(n=t,u()):n},a.rangeRound=function(t){return a.range(t).interpolate(mi)},a.clamp=function(t){return arguments.length?(r=t,u()):r},a.interpolate=function(t){return arguments.length?(e=t,u()):e},a.ticks=function(n){return Tu(t,n)},a.tickFormat=function(n,e){return qu(t,n,e)},a.nice=function(n){return Cu(t,n),u()},a.copy=function(){return Nu(t,n,e,r)},u()}function Ou(t,e){return n.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Cu(t,n){return ju(t,ku(zu(t,n)[2])),ju(t,ku(zu(t,n)[2])),t}function zu(t,n){null==n&&(n=10);var e=_u(t),r=e[1]-e[0],o=Math.pow(10,Math.floor(Math.log(r/n)/Math.LN10)),i=n/r*o;return i<=.15?o*=10:i<=.35?o*=5:i<=.75&&(o*=2),e[0]=Math.ceil(e[0]/o)*o,e[1]=Math.floor(e[1]/o)*o+.5*o,e[2]=o,e}function Tu(t,e){return n.range.apply(n,zu(t,e))}function qu(t,e,r){var o=zu(t,e);if(r){var i=zn.exec(r);if(i.shift(),"s"===i[8]){var u=n.formatPrefix(Math.max(m(o[0]),m(o[1])));return i[7]||(i[7]="."+Pu(u.scale(o[2]))),i[8]="f",r=n.format(i.join("")),function(t){return r(u.scale(t))+u.symbol}}i[7]||(i[7]="."+function(t,n){var e=Pu(n[2]);return t in Lu?Math.abs(e-Pu(Math.max(m(n[0]),m(n[1]))))+ +("e"!==t):e-2*("%"===t)}(i[8],o)),r=i.join("")}else r=",."+Pu(o[2])+"f";return n.format(r)}n.scale.linear=function(){return Nu([0,1],[0,1],ri,!1)};var Lu={s:1,g:1,p:1,r:1,e:1};function Pu(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Du(t,e,r,o){function i(t){return(r?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function u(t){return r?Math.pow(e,t):-Math.pow(e,-t)}function a(n){return t(i(n))}return a.invert=function(n){return u(t.invert(n))},a.domain=function(n){return arguments.length?(r=n[0]>=0,t.domain((o=n.map(Number)).map(i)),a):o},a.base=function(n){return arguments.length?(e=+n,t.domain(o.map(i)),a):e},a.nice=function(){var n=ju(o.map(i),r?Math:Uu);return t.domain(n),o=n.map(u),a},a.ticks=function(){var t=_u(o),n=[],a=t[0],c=t[1],l=Math.floor(i(a)),f=Math.ceil(i(c)),s=e%1?2:e;if(isFinite(f-l)){if(r){for(;l<f;l++)for(var h=1;h<s;h++)n.push(u(l)*h);n.push(u(l))}else for(n.push(u(l));l++<f;)for(h=s-1;h>0;h--)n.push(u(l)*h);for(l=0;n[l]<a;l++);for(f=n.length;n[f-1]>c;f--);n=n.slice(l,f)}return n},a.tickFormat=function(t,r){if(!arguments.length)return Ru;arguments.length<2?r=Ru:"function"!=typeof r&&(r=n.format(r));var o=Math.max(1,e*t/a.ticks().length);return function(t){var n=t/u(Math.round(i(t)));return n*e<e-.5&&(n*=e),n<=o?r(t):""}},a.copy=function(){return Du(t.copy(),e,r,o)},Ou(a,t)}n.scale.log=function(){return Du(n.scale.linear().domain([0,1]),10,!0,[1,10])};var Ru=n.format(".0e"),Uu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Iu(t,n,e){var r=Fu(n),o=Fu(1/n);function i(n){return t(r(n))}return i.invert=function(n){return o(t.invert(n))},i.domain=function(n){return arguments.length?(t.domain((e=n.map(Number)).map(r)),i):e},i.ticks=function(t){return Tu(e,t)},i.tickFormat=function(t,n){return qu(e,t,n)},i.nice=function(t){return i.domain(Cu(e,t))},i.exponent=function(u){return arguments.length?(r=Fu(n=u),o=Fu(1/n),t.domain(e.map(r)),i):n},i.copy=function(){return Iu(t.copy(),n,e)},Ou(i,t)}function Fu(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Hu(t,e){var r,o,i;function u(n){return o[((r.get(n)||("range"===e.t?r.set(n,t.push(n)):NaN))-1)%o.length]}function a(e,r){return n.range(t.length).map((function(t){return e+r*t}))}return u.domain=function(n){if(!arguments.length)return t;t=[],r=new M;for(var o,i=-1,a=n.length;++i<a;)r.has(o=n[i])||r.set(o,t.push(o));return u[e.t].apply(u,e.a)},u.range=function(t){return arguments.length?(o=t,i=0,e={t:"range",a:arguments},u):o},u.rangePoints=function(n,r){arguments.length<2&&(r=0);var c=n[0],l=n[1],f=t.length<2?(c=(c+l)/2,0):(l-c)/(t.length-1+r);return o=a(c+f*r/2,f),i=0,e={t:"rangePoints",a:arguments},u},u.rangeRoundPoints=function(n,r){arguments.length<2&&(r=0);var c=n[0],l=n[1],f=t.length<2?(c=l=Math.round((c+l)/2),0):(l-c)/(t.length-1+r)|0;return o=a(c+Math.round(f*r/2+(l-c-(t.length-1+r)*f)/2),f),i=0,e={t:"rangeRoundPoints",a:arguments},u},u.rangeBands=function(n,r,c){arguments.length<2&&(r=0),arguments.length<3&&(c=r);var l=n[1]<n[0],f=n[l-0],s=n[1-l],h=(s-f)/(t.length-r+2*c);return o=a(f+h*c,h),l&&o.reverse(),i=h*(1-r),e={t:"rangeBands",a:arguments},u},u.rangeRoundBands=function(n,r,c){arguments.length<2&&(r=0),arguments.length<3&&(c=r);var l=n[1]<n[0],f=n[l-0],s=n[1-l],h=Math.floor((s-f)/(t.length-r+2*c));return o=a(f+Math.round((s-f-(t.length-r)*h)/2),h),l&&o.reverse(),i=Math.round(h*(1-r)),e={t:"rangeRoundBands",a:arguments},u},u.rangeBand=function(){return i},u.rangeExtent=function(){return _u(e.a[0])},u.copy=function(){return Hu(t,e)},u.domain(t)}n.scale.pow=function(){return Iu(n.scale.linear(),1,[0,1])},n.scale.sqrt=function(){return n.scale.pow().exponent(.5)},n.scale.ordinal=function(){return Hu([],{t:"range",a:[[]]})},n.scale.category10=function(){return n.scale.ordinal().range(Yu)},n.scale.category20=function(){return n.scale.ordinal().range(Bu)},n.scale.category20b=function(){return n.scale.ordinal().range($u)},n.scale.category20c=function(){return n.scale.ordinal().range(Zu)};var Yu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(cn),Bu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(cn),$u=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(cn),Zu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(cn);function Vu(t,e){var r;function o(){var o=0,u=e.length;for(r=[];++o<u;)r[o-1]=n.quantile(t,o/u);return i}function i(t){if(!isNaN(t=+t))return e[n.bisect(r,t)]}return i.domain=function(n){return arguments.length?(t=n.map(p).filter(g).sort(h),o()):t},i.range=function(t){return arguments.length?(e=t,o()):e},i.quantiles=function(){return r},i.invertExtent=function(n){return(n=e.indexOf(n))<0?[NaN,NaN]:[n>0?r[n-1]:t[0],n<r.length?r[n]:t[t.length-1]]},i.copy=function(){return Vu(t,e)},o()}function Xu(t,n,e){var r,o;function i(n){return e[Math.max(0,Math.min(o,Math.floor(r*(n-t))))]}function u(){return r=e.length/(n-t),o=e.length-1,i}return i.domain=function(e){return arguments.length?(t=+e[0],n=+e[e.length-1],u()):[t,n]},i.range=function(t){return arguments.length?(e=t,u()):e},i.invertExtent=function(n){return[n=(n=e.indexOf(n))<0?NaN:n/r+t,n+1/r]},i.copy=function(){return Xu(t,n,e)},u()}function Ju(t,e){function r(r){if(r<=r)return e[n.bisect(t,r)]}return r.domain=function(n){return arguments.length?(t=n,r):t},r.range=function(t){return arguments.length?(e=t,r):e},r.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},r.copy=function(){return Ju(t,e)},r}function Wu(t){function n(t){return+t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=e.map(n),n):t},n.ticks=function(n){return Tu(t,n)},n.tickFormat=function(n,e){return qu(t,n,e)},n.copy=function(){return Wu(t)},n}function Gu(){return 0}n.scale.quantile=function(){return Vu([],[])},n.scale.quantize=function(){return Xu(0,1,[0,1])},n.scale.threshold=function(){return Ju([.5],[0,1])},n.scale.identity=function(){return Wu([0,1])},n.svg={},n.svg.arc=function(){var t=Qu,n=ta,e=Gu,r=Ku,o=na,i=ea,u=ra;function a(){var a=Math.max(0,+t.apply(this,arguments)),l=Math.max(0,+n.apply(this,arguments)),f=o.apply(this,arguments)-Nt,s=i.apply(this,arguments)-Nt,h=Math.abs(s-f),p=f>s?0:1;if(l<a&&(g=l,l=a,a=g),h>=Et)return c(l,p)+(a?c(a,1-p):"")+"Z";var g,v,d,y,m,b,x,M,_,w,S,j,k=0,A=0,E=[];if((y=(+u.apply(this,arguments)||0)/2)&&(d=r===Ku?Math.sqrt(a*a+l*l):+r.apply(this,arguments),p||(A*=-1),l&&(A=Lt(d/l*Math.sin(y))),a&&(k=Lt(d/a*Math.sin(y)))),l){m=l*Math.cos(f+A),b=l*Math.sin(f+A),x=l*Math.cos(s-A),M=l*Math.sin(s-A);var N=Math.abs(s-f-2*A)<=kt?0:1;if(A&&oa(m,b,x,M)===p^N){var O=(f+s)/2;m=l*Math.cos(O),b=l*Math.sin(O),x=M=null}}else m=b=0;if(a){_=a*Math.cos(s-k),w=a*Math.sin(s-k),S=a*Math.cos(f+k),j=a*Math.sin(f+k);var C=Math.abs(f-s+2*k)<=kt?0:1;if(k&&oa(_,w,S,j)===1-p^C){var z=(f+s)/2;_=a*Math.cos(z),w=a*Math.sin(z),S=j=null}}else _=w=0;if(h>St&&(g=Math.min(Math.abs(l-a)/2,+e.apply(this,arguments)))>.001){v=a<l^p?0:1;var T=g,q=g;if(h<kt){var L=null==S?[_,w]:null==x?[m,b]:so([m,b],[S,j],[x,M],[_,w]),P=m-L[0],D=b-L[1],R=x-L[0],U=M-L[1],I=1/Math.sin(Math.acos((P*R+D*U)/(Math.sqrt(P*P+D*D)*Math.sqrt(R*R+U*U)))/2),F=Math.sqrt(L[0]*L[0]+L[1]*L[1]);q=Math.min(g,(a-F)/(I-1)),T=Math.min(g,(l-F)/(I+1))}if(null!=x){var H=ia(null==S?[_,w]:[S,j],[m,b],l,T,p),Y=ia([x,M],[_,w],l,T,p);g===T?E.push("M",H[0],"A",T,",",T," 0 0,",v," ",H[1],"A",l,",",l," 0 ",1-p^oa(H[1][0],H[1][1],Y[1][0],Y[1][1]),",",p," ",Y[1],"A",T,",",T," 0 0,",v," ",Y[0]):E.push("M",H[0],"A",T,",",T," 0 1,",v," ",Y[0])}else E.push("M",m,",",b);if(null!=S){var B=ia([m,b],[S,j],a,-q,p),$=ia([_,w],null==x?[m,b]:[x,M],a,-q,p);g===q?E.push("L",$[0],"A",q,",",q," 0 0,",v," ",$[1],"A",a,",",a," 0 ",p^oa($[1][0],$[1][1],B[1][0],B[1][1]),",",1-p," ",B[1],"A",q,",",q," 0 0,",v," ",B[0]):E.push("L",$[0],"A",q,",",q," 0 0,",v," ",B[0])}else E.push("L",_,",",w)}else E.push("M",m,",",b),null!=x&&E.push("A",l,",",l," 0 ",N,",",p," ",x,",",M),E.push("L",_,",",w),null!=S&&E.push("A",a,",",a," 0 ",C,",",1-p," ",S,",",j);return E.push("Z"),E.join("")}function c(t,n){return"M0,"+t+"A"+t+","+t+" 0 1,"+n+" 0,"+-t+"A"+t+","+t+" 0 1,"+n+" 0,"+t}return a.innerRadius=function(n){return arguments.length?(t=yn(n),a):t},a.outerRadius=function(t){return arguments.length?(n=yn(t),a):n},a.cornerRadius=function(t){return arguments.length?(e=yn(t),a):e},a.padRadius=function(t){return arguments.length?(r=t==Ku?Ku:yn(t),a):r},a.startAngle=function(t){return arguments.length?(o=yn(t),a):o},a.endAngle=function(t){return arguments.length?(i=yn(t),a):i},a.padAngle=function(t){return arguments.length?(u=yn(t),a):u},a.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +i.apply(this,arguments))/2-Nt;return[Math.cos(r)*e,Math.sin(r)*e]},a};var Ku="auto";function Qu(t){return t.innerRadius}function ta(t){return t.outerRadius}function na(t){return t.startAngle}function ea(t){return t.endAngle}function ra(t){return t&&t.padAngle}function oa(t,n,e,r){return(t-e)*n-(n-r)*t>0?0:1}function ia(t,n,e,r,o){var i=t[0]-n[0],u=t[1]-n[1],a=(o?r:-r)/Math.sqrt(i*i+u*u),c=a*u,l=-a*i,f=t[0]+c,s=t[1]+l,h=n[0]+c,p=n[1]+l,g=(f+h)/2,v=(s+p)/2,d=h-f,y=p-s,m=d*d+y*y,b=e-r,x=f*p-h*s,M=(y<0?-1:1)*Math.sqrt(Math.max(0,b*b*m-x*x)),_=(x*y-d*M)/m,w=(-x*d-y*M)/m,S=(x*y+d*M)/m,j=(-x*d+y*M)/m,k=_-g,A=w-v,E=S-g,N=j-v;return k*k+A*A>E*E+N*N&&(_=S,w=j),[[_-c,w-l],[_*e/b,w*e/b]]}function ua(t){var n=io,e=uo,r=Je,o=ca,i=o.key,u=.7;function a(i){var a,c=[],l=[],f=-1,s=i.length,h=yn(n),p=yn(e);function g(){c.push("M",o(t(l),u))}for(;++f<s;)r.call(this,a=i[f],f)?l.push([+h.call(this,a,f),+p.call(this,a,f)]):l.length&&(g(),l=[]);return l.length&&g(),c.length?c.join(""):null}return a.x=function(t){return arguments.length?(n=t,a):n},a.y=function(t){return arguments.length?(e=t,a):e},a.defined=function(t){return arguments.length?(r=t,a):r},a.interpolate=function(t){return arguments.length?(i="function"==typeof t?o=t:(o=aa.get(t)||ca).key,a):i},a.tension=function(t){return arguments.length?(u=t,a):u},a}n.svg.line=function(){return ua(O)};var aa=n.map({linear:ca,"linear-closed":la,step:function(t){var n=0,e=t.length,r=t[0],o=[r[0],",",r[1]];for(;++n<e;)o.push("H",(r[0]+(r=t[n])[0])/2,"V",r[1]);e>1&&o.push("H",r[0]);return o.join("")},"step-before":fa,"step-after":sa,basis:ga,"basis-open":function(t){if(t.length<4)return ca(t);var n,e=[],r=-1,o=t.length,i=[0],u=[0];for(;++r<3;)n=t[r],i.push(n[0]),u.push(n[1]);e.push(va(ma,i)+","+va(ma,u)),--r;for(;++r<o;)n=t[r],i.shift(),i.push(n[0]),u.shift(),u.push(n[1]),ba(e,i,u);return e.join("")},"basis-closed":function(t){var n,e,r=-1,o=t.length,i=o+4,u=[],a=[];for(;++r<4;)e=t[r%o],u.push(e[0]),a.push(e[1]);n=[va(ma,u),",",va(ma,a)],--r;for(;++r<i;)e=t[r%o],u.shift(),u.push(e[0]),a.shift(),a.push(e[1]),ba(n,u,a);return n.join("")},bundle:function(t,n){var e=t.length-1;if(e)for(var r,o,i=t[0][0],u=t[0][1],a=t[e][0]-i,c=t[e][1]-u,l=-1;++l<=e;)r=t[l],o=l/e,r[0]=n*r[0]+(1-n)*(i+o*a),r[1]=n*r[1]+(1-n)*(u+o*c);return ga(t)},cardinal:function(t,n){return t.length<3?ca(t):t[0]+ha(t,pa(t,n))},"cardinal-open":function(t,n){return t.length<4?ca(t):t[1]+ha(t.slice(1,-1),pa(t,n))},"cardinal-closed":function(t,n){return t.length<3?la(t):t[0]+ha((t.push(t[0]),t),pa([t[t.length-2]].concat(t,[t[1]]),n))},monotone:function(t){return t.length<3?ca(t):t[0]+ha(t,function(t){var n,e,r,o,i=[],u=function(t){var n=0,e=t.length-1,r=[],o=t[0],i=t[1],u=r[0]=xa(o,i);for(;++n<e;)r[n]=(u+(u=xa(o=i,i=t[n+1])))/2;return r[n]=u,r}(t),a=-1,c=t.length-1;for(;++a<c;)n=xa(t[a],t[a+1]),m(n)<St?u[a]=u[a+1]=0:(o=(e=u[a]/n)*e+(r=u[a+1]/n)*r)>9&&(o=3*n/Math.sqrt(o),u[a]=o*e,u[a+1]=o*r);a=-1;for(;++a<=c;)o=(t[Math.min(c,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+u[a]*u[a])),i.push([o||0,u[a]*o||0]);return i}(t))}});function ca(t){return t.length>1?t.join("L"):t+"Z"}function la(t){return t.join("L")+"Z"}function fa(t){for(var n=0,e=t.length,r=t[0],o=[r[0],",",r[1]];++n<e;)o.push("V",(r=t[n])[1],"H",r[0]);return o.join("")}function sa(t){for(var n=0,e=t.length,r=t[0],o=[r[0],",",r[1]];++n<e;)o.push("H",(r=t[n])[0],"V",r[1]);return o.join("")}function ha(t,n){if(n.length<1||t.length!=n.length&&t.length!=n.length+2)return ca(t);var e=t.length!=n.length,r="",o=t[0],i=t[1],u=n[0],a=u,c=1;if(e&&(r+="Q"+(i[0]-2*u[0]/3)+","+(i[1]-2*u[1]/3)+","+i[0]+","+i[1],o=t[1],c=2),n.length>1){a=n[1],i=t[c],c++,r+="C"+(o[0]+u[0])+","+(o[1]+u[1])+","+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1];for(var l=2;l<n.length;l++,c++)i=t[c],a=n[l],r+="S"+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1]}if(e){var f=t[c];r+="Q"+(i[0]+2*a[0]/3)+","+(i[1]+2*a[1]/3)+","+f[0]+","+f[1]}return r}function pa(t,n){for(var e,r=[],o=(1-n)/2,i=t[0],u=t[1],a=1,c=t.length;++a<c;)e=i,i=u,u=t[a],r.push([o*(u[0]-e[0]),o*(u[1]-e[1])]);return r}function ga(t){if(t.length<3)return ca(t);var n=1,e=t.length,r=t[0],o=r[0],i=r[1],u=[o,o,o,(r=t[1])[0]],a=[i,i,i,r[1]],c=[o,",",i,"L",va(ma,u),",",va(ma,a)];for(t.push(t[e-1]);++n<=e;)r=t[n],u.shift(),u.push(r[0]),a.shift(),a.push(r[1]),ba(c,u,a);return t.pop(),c.push("L",r),c.join("")}function va(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}aa.forEach((function(t,n){n.key=t,n.closed=/-closed$/.test(t)}));var da=[0,2/3,1/3,0],ya=[0,1/3,2/3,0],ma=[0,1/6,2/3,1/6];function ba(t,n,e){t.push("C",va(da,n),",",va(da,e),",",va(ya,n),",",va(ya,e),",",va(ma,n),",",va(ma,e))}function xa(t,n){return(n[1]-t[1])/(n[0]-t[0])}function Ma(t){for(var n,e,r,o=-1,i=t.length;++o<i;)e=(n=t[o])[0],r=n[1]-Nt,n[0]=e*Math.cos(r),n[1]=e*Math.sin(r);return t}function _a(t){var n=io,e=io,r=0,o=uo,i=Je,u=ca,a=u.key,c=u,l="L",f=.7;function s(a){var s,h,p,g=[],v=[],d=[],y=-1,m=a.length,b=yn(n),x=yn(r),M=n===e?function(){return h}:yn(e),_=r===o?function(){return p}:yn(o);function w(){g.push("M",u(t(d),f),l,c(t(v.reverse()),f),"Z")}for(;++y<m;)i.call(this,s=a[y],y)?(v.push([h=+b.call(this,s,y),p=+x.call(this,s,y)]),d.push([+M.call(this,s,y),+_.call(this,s,y)])):v.length&&(w(),v=[],d=[]);return v.length&&w(),g.length?g.join(""):null}return s.x=function(t){return arguments.length?(n=e=t,s):e},s.x0=function(t){return arguments.length?(n=t,s):n},s.x1=function(t){return arguments.length?(e=t,s):e},s.y=function(t){return arguments.length?(r=o=t,s):o},s.y0=function(t){return arguments.length?(r=t,s):r},s.y1=function(t){return arguments.length?(o=t,s):o},s.defined=function(t){return arguments.length?(i=t,s):i},s.interpolate=function(t){return arguments.length?(a="function"==typeof t?u=t:(u=aa.get(t)||ca).key,c=u.reverse||u,l=u.closed?"M":"L",s):a},s.tension=function(t){return arguments.length?(f=t,s):f},s}function wa(t){return t.radius}function Sa(t){return[t.x,t.y]}function ja(t){return function(){var n=t.apply(this,arguments),e=n[0],r=n[1]-Nt;return[e*Math.cos(r),e*Math.sin(r)]}}function ka(){return 64}function Aa(){return"circle"}function Ea(t){var n=Math.sqrt(t/kt);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"}n.svg.line.radial=function(){var t=ua(Ma);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},fa.reverse=sa,sa.reverse=fa,n.svg.area=function(){return _a(O)},n.svg.area.radial=function(){var t=_a(Ma);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},n.svg.chord=function(){var t=$r,n=Zr,e=wa,r=na,o=ea;function i(e,r){var o,i,l=u(this,t,e,r),f=u(this,n,e,r);return"M"+l.p0+a(l.r,l.p1,l.a1-l.a0)+(i=f,((o=l).a0==i.a0&&o.a1==i.a1?c(l.r,l.p1,l.r,l.p0):c(l.r,l.p1,f.r,f.p0)+a(f.r,f.p1,f.a1-f.a0)+c(f.r,f.p1,l.r,l.p0))+"Z")}function u(t,n,i,u){var a=n.call(t,i,u),c=e.call(t,a,u),l=r.call(t,a,u)-Nt,f=o.call(t,a,u)-Nt;return{r:c,a0:l,a1:f,p0:[c*Math.cos(l),c*Math.sin(l)],p1:[c*Math.cos(f),c*Math.sin(f)]}}function a(t,n,e){return"A"+t+","+t+" 0 "+ +(e>kt)+",1 "+n}function c(t,n,e,r){return"Q 0,0 "+r}return i.radius=function(t){return arguments.length?(e=yn(t),i):e},i.source=function(n){return arguments.length?(t=yn(n),i):t},i.target=function(t){return arguments.length?(n=yn(t),i):n},i.startAngle=function(t){return arguments.length?(r=yn(t),i):r},i.endAngle=function(t){return arguments.length?(o=yn(t),i):o},i},n.svg.diagonal=function(){var t=$r,n=Zr,e=Sa;function r(r,o){var i=t.call(this,r,o),u=n.call(this,r,o),a=(i.y+u.y)/2,c=[i,{x:i.x,y:a},{x:u.x,y:a},u];return"M"+(c=c.map(e))[0]+"C"+c[1]+" "+c[2]+" "+c[3]}return r.source=function(n){return arguments.length?(t=yn(n),r):t},r.target=function(t){return arguments.length?(n=yn(t),r):n},r.projection=function(t){return arguments.length?(e=t,r):e},r},n.svg.diagonal.radial=function(){var t=n.svg.diagonal(),e=Sa,r=t.projection;return t.projection=function(t){return arguments.length?r(ja(e=t)):e},t},n.svg.symbol=function(){var t=Aa,n=ka;function e(e,r){return(Na.get(t.call(this,e,r))||Ea)(n.call(this,e,r))}return e.type=function(n){return arguments.length?(t=yn(n),e):t},e.size=function(t){return arguments.length?(n=yn(t),e):n},e};var Na=n.map({circle:Ea,cross:function(t){var n=Math.sqrt(t/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(t){var n=Math.sqrt(t/(2*Ca)),e=n*Ca;return"M0,"+-n+"L"+e+",0 0,"+n+" "+-e+",0Z"},square:function(t){var n=Math.sqrt(t)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(t){var n=Math.sqrt(t/Oa),e=n*Oa/2;return"M0,"+e+"L"+n+","+-e+" "+-n+","+-e+"Z"},"triangle-up":function(t){var n=Math.sqrt(t/Oa),e=n*Oa/2;return"M0,"+-e+"L"+n+","+e+" "+-n+","+e+"Z"}});n.svg.symbolTypes=Na.keys();var Oa=Math.sqrt(3),Ca=Math.tan(30*Ot);Z.transition=function(t){for(var n,e,r=La||++Ra,o=Fa(t),i=[],u=Pa||{time:Date.now(),ease:pi,delay:0,duration:250},a=-1,c=this.length;++a<c;){i.push(n=[]);for(var l=this[a],f=-1,s=l.length;++f<s;)(e=l[f])&&Ha(e,f,o,r,u),n.push(e)}return qa(i,o,r)},Z.interrupt=function(t){return this.each(null==t?za:Ta(Fa(t)))};var za=Ta(Fa());function Ta(t){return function(){var n,e,r;(n=this[t])&&(r=n[e=n.active])&&(r.timer.c=null,r.timer.t=NaN,--n.count?delete n[e]:delete this[t],n.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function qa(t,n,e){return F(t,Da),t.namespace=n,t.id=e,t}var La,Pa,Da=[],Ra=0;function Ua(t,n,e,r){var o=t.id,i=t.namespace;return ft(t,"function"==typeof e?function(t,u,a){t[i][o].tween.set(n,r(e.call(t,t.__data__,u,a)))}:(e=r(e),function(t){t[i][o].tween.set(n,e)}))}function Ia(t){return null==t&&(t=""),function(){this.textContent=t}}function Fa(t){return null==t?"__transition__":"__transition_"+t+"__"}function Ha(t,n,e,r,o){var i,u,a,c,l,f=t[e]||(t[e]={active:0,count:0}),s=f[r];function h(e){var o=f.active,h=f[o];for(var g in h&&(h.timer.c=null,h.timer.t=NaN,--f.count,delete f[o],h.event&&h.event.interrupt.call(t,t.__data__,h.index)),f)if(+g<r){var v=f[g];v.timer.c=null,v.timer.t=NaN,--f.count,delete f[g]}u.c=p,jn((function(){return u.c&&p(e||1)&&(u.c=null,u.t=NaN),1}),0,i),f.active=r,s.event&&s.event.start.call(t,t.__data__,n),l=[],s.tween.forEach((function(e,r){(r=r.call(t,t.__data__,n))&&l.push(r)})),c=s.ease,a=s.duration}function p(o){for(var i=o/a,u=c(i),h=l.length;h>0;)l[--h].call(t,u);if(i>=1)return s.event&&s.event.end.call(t,t.__data__,n),--f.count?delete f[r]:delete t[e],1}s||(i=o.time,u=jn((function(t){var n=s.delay;if(u.t=n+i,n<=t)return h(t-n);u.c=h}),0,i),s=f[r]={tween:new M,time:i,timer:u,delay:o.delay,duration:o.duration,ease:o.ease,index:n},o=null,++f.count)}Da.call=Z.call,Da.empty=Z.empty,Da.node=Z.node,Da.size=Z.size,n.transition=function(t,e){return t&&t.transition?La?t.transition(e):t:n.selection().transition(t)},n.transition.prototype=Da,Da.select=function(t){var n,e,r,o=this.id,i=this.namespace,u=[];t=V(t);for(var a=-1,c=this.length;++a<c;){u.push(n=[]);for(var l=this[a],f=-1,s=l.length;++f<s;)(r=l[f])&&(e=t.call(r,r.__data__,f,a))?("__data__"in r&&(e.__data__=r.__data__),Ha(e,f,i,o,r[i][o]),n.push(e)):n.push(null)}return qa(u,i,o)},Da.selectAll=function(t){var n,e,r,o,i,u=this.id,a=this.namespace,c=[];t=X(t);for(var l=-1,f=this.length;++l<f;)for(var s=this[l],h=-1,p=s.length;++h<p;)if(r=s[h]){i=r[a][u],e=t.call(r,r.__data__,h,l),c.push(n=[]);for(var g=-1,v=e.length;++g<v;)(o=e[g])&&Ha(o,g,a,u,i),n.push(o)}return qa(c,a,u)},Da.filter=function(t){var n,e,r=[];"function"!=typeof t&&(t=ct(t));for(var o=0,i=this.length;o<i;o++){r.push(n=[]);for(var u,a=0,c=(u=this[o]).length;a<c;a++)(e=u[a])&&t.call(e,e.__data__,a,o)&&n.push(e)}return qa(r,this.namespace,this.id)},Da.tween=function(t,n){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(t):ft(this,null==n?function(n){n[r][e].tween.remove(t)}:function(o){o[r][e].tween.set(t,n)})},Da.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var r="transform"==t?Si:ri,o=n.ns.qualify(t);function i(){this.removeAttribute(o)}function u(){this.removeAttributeNS(o.space,o.local)}function a(t){return null==t?i:(t+="",function(){var n,e=this.getAttribute(o);return e!==t&&(n=r(e,t),function(t){this.setAttribute(o,n(t))})})}function c(t){return null==t?u:(t+="",function(){var n,e=this.getAttributeNS(o.space,o.local);return e!==t&&(n=r(e,t),function(t){this.setAttributeNS(o.space,o.local,n(t))})})}return Ua(this,"attr."+t,e,o.local?c:a)},Da.attrTween=function(t,e){var r=n.ns.qualify(t);return this.tween("attr."+t,r.local?function(t,n){var o=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return o&&function(t){this.setAttributeNS(r.space,r.local,o(t))}}:function(t,n){var o=e.call(this,t,n,this.getAttribute(r));return o&&function(t){this.setAttribute(r,o(t))}})},Da.style=function(t,n,e){var r=arguments.length;if(r<3){if("string"!=typeof t){for(e in r<2&&(n=""),t)this.style(e,t[e],n);return this}e=""}function o(){this.style.removeProperty(t)}function i(n){return null==n?o:(n+="",function(){var r,o=u(this).getComputedStyle(this,null).getPropertyValue(t);return o!==n&&(r=ri(o,n),function(n){this.style.setProperty(t,r(n),e)})})}return Ua(this,"style."+t,n,i)},Da.styleTween=function(t,n,e){function r(r,o){var i=n.call(this,r,o,u(this).getComputedStyle(this,null).getPropertyValue(t));return i&&function(n){this.style.setProperty(t,i(n),e)}}return arguments.length<3&&(e=""),this.tween("style."+t,r)},Da.text=function(t){return Ua(this,"text",t,Ia)},Da.remove=function(){var t=this.namespace;return this.each("end.transition",(function(){var n;this[t].count<2&&(n=this.parentNode)&&n.removeChild(this)}))},Da.ease=function(t){var e=this.id,r=this.namespace;return arguments.length<1?this.node()[r][e].ease:("function"!=typeof t&&(t=n.ease.apply(n,arguments)),ft(this,(function(n){n[r][e].ease=t})))},Da.delay=function(t){var n=this.id,e=this.namespace;return arguments.length<1?this.node()[e][n].delay:ft(this,"function"==typeof t?function(r,o,i){r[e][n].delay=+t.call(r,r.__data__,o,i)}:(t=+t,function(r){r[e][n].delay=t}))},Da.duration=function(t){var n=this.id,e=this.namespace;return arguments.length<1?this.node()[e][n].duration:ft(this,"function"==typeof t?function(r,o,i){r[e][n].duration=Math.max(1,t.call(r,r.__data__,o,i))}:(t=Math.max(1,t),function(r){r[e][n].duration=t}))},Da.each=function(t,e){var r=this.id,o=this.namespace;if(arguments.length<2){var i=Pa,u=La;try{La=r,ft(this,(function(n,e,i){Pa=n[o][r],t.call(n,n.__data__,e,i)}))}finally{Pa=i,La=u}}else ft(this,(function(i){var u=i[o][r];(u.event||(u.event=n.dispatch("start","end","interrupt"))).on(t,e)}));return this},Da.transition=function(){for(var t,n,e,r=this.id,o=++Ra,i=this.namespace,u=[],a=0,c=this.length;a<c;a++){u.push(t=[]);for(var l,f=0,s=(l=this[a]).length;f<s;f++)(n=l[f])&&Ha(n,f,i,o,{time:(e=n[i][r]).time,ease:e.ease,delay:e.delay+e.duration,duration:e.duration}),t.push(n)}return qa(u,i,o)},n.svg.axis=function(){var t,e=n.scale.linear(),o=Ya,i=6,u=6,a=3,c=[10],l=null;function f(r){r.each((function(){var r,f=n.select(this),s=this.__chart__||e,h=this.__chart__=e.copy(),p=null==l?h.ticks?h.ticks.apply(h,c):h.domain():l,g=null==t?h.tickFormat?h.tickFormat.apply(h,c):O:t,v=f.selectAll(".tick").data(p,h),d=v.enter().insert("g",".domain").attr("class","tick").style("opacity",St),y=n.transition(v.exit()).style("opacity",St).remove(),m=n.transition(v.order()).style("opacity",1),b=Math.max(i,0)+a,x=wu(h),M=f.selectAll(".domain").data([0]),_=(M.enter().append("path").attr("class","domain"),n.transition(M));d.append("line"),d.append("text");var w,S,j,k,A=d.select("line"),E=m.select("line"),N=v.select("text").text(g),C=d.select("text"),z=m.select("text"),T="top"===o||"left"===o?-1:1;if("bottom"===o||"top"===o?(r=$a,w="x",j="y",S="x2",k="y2",N.attr("dy",T<0?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+T*u+"V0H"+x[1]+"V"+T*u)):(r=Za,w="y",j="x",S="y2",k="x2",N.attr("dy",".32em").style("text-anchor",T<0?"end":"start"),_.attr("d","M"+T*u+","+x[0]+"H0V"+x[1]+"H"+T*u)),A.attr(k,T*i),C.attr(j,T*b),E.attr(S,0).attr(k,T*i),z.attr(w,0).attr(j,T*b),h.rangeBand){var q=h,L=q.rangeBand()/2;s=h=function(t){return q(t)+L}}else s.rangeBand?s=h:y.call(r,h,s);d.call(r,s,h),m.call(r,h,h)}))}return f.scale=function(t){return arguments.length?(e=t,f):e},f.orient=function(t){return arguments.length?(o=t in Ba?t+"":Ya,f):o},f.ticks=function(){return arguments.length?(c=r(arguments),f):c},f.tickValues=function(t){return arguments.length?(l=t,f):l},f.tickFormat=function(n){return arguments.length?(t=n,f):t},f.tickSize=function(t){var n=arguments.length;return n?(i=+t,u=+arguments[n-1],f):i},f.innerTickSize=function(t){return arguments.length?(i=+t,f):i},f.outerTickSize=function(t){return arguments.length?(u=+t,f):u},f.tickPadding=function(t){return arguments.length?(a=+t,f):a},f.tickSubdivide=function(){return arguments.length&&f},f};var Ya="bottom",Ba={top:1,right:1,bottom:1,left:1};function $a(t,n,e){t.attr("transform",(function(t){var r=n(t);return"translate("+(isFinite(r)?r:e(t))+",0)"}))}function Za(t,n,e){t.attr("transform",(function(t){var r=n(t);return"translate(0,"+(isFinite(r)?r:e(t))+")"}))}n.svg.brush=function(){var t,e,r=U(h,"brushstart","brush","brushend"),o=null,i=null,a=[0,0],c=[0,0],l=!0,f=!0,s=Xa[0];function h(t){t.each((function(){var t=n.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",d).on("touchstart.brush",d),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=t.selectAll(".resize").data(s,O);r.exit().remove(),r.enter().append("g").attr("class",(function(t){return"resize "+t})).style("cursor",(function(t){return Va[t]})).append("rect").attr("x",(function(t){return/[ew]$/.test(t)?-3:null})).attr("y",(function(t){return/^[ns]/.test(t)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",h.empty()?"none":null);var u,a=n.transition(t),c=n.transition(e);o&&(u=wu(o),c.attr("x",u[0]).attr("width",u[1]-u[0]),g(a)),i&&(u=wu(i),c.attr("y",u[0]).attr("height",u[1]-u[0]),v(a)),p(a)}))}function p(t){t.selectAll(".resize").attr("transform",(function(t){return"translate("+a[+/e$/.test(t)]+","+c[+/^s/.test(t)]+")"}))}function g(t){t.select(".extent").attr("x",a[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",a[1]-a[0])}function v(t){t.select(".extent").attr("y",c[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",c[1]-c[0])}function d(){var s,d,y=this,m=n.select(n.event.target),b=r.of(y,arguments),x=n.select(y),M=m.datum(),_=!/^(n|s)$/.test(M)&&o,w=!/^(e|w)$/.test(M)&&i,S=m.classed("extent"),j=xt(y),k=n.mouse(y),A=n.select(u(y)).on("keydown.brush",O).on("keyup.brush",C);if(n.event.changedTouches?A.on("touchmove.brush",z).on("touchend.brush",q):A.on("mousemove.brush",z).on("mouseup.brush",q),x.interrupt().selectAll("*").interrupt(),S)k[0]=a[0]-k[0],k[1]=c[0]-k[1];else if(M){var E=+/w$/.test(M),N=+/^n/.test(M);d=[a[1-E]-k[0],c[1-N]-k[1]],k[0]=a[E],k[1]=c[N]}else n.event.altKey&&(s=k.slice());function O(){32==n.event.keyCode&&(S||(s=null,k[0]-=a[1],k[1]-=c[1],S=2),D())}function C(){32==n.event.keyCode&&2==S&&(k[0]+=a[1],k[1]+=c[1],S=0,D())}function z(){var t=n.mouse(y),e=!1;d&&(t[0]+=d[0],t[1]+=d[1]),S||(n.event.altKey?(s||(s=[(a[0]+a[1])/2,(c[0]+c[1])/2]),k[0]=a[+(t[0]<s[0])],k[1]=c[+(t[1]<s[1])]):s=null),_&&T(t,o,0)&&(g(x),e=!0),w&&T(t,i,1)&&(v(x),e=!0),e&&(p(x),b({type:"brush",mode:S?"move":"resize"}))}function T(n,r,o){var i,u,h=wu(r),p=h[0],g=h[1],v=k[o],d=o?c:a,y=d[1]-d[0];if(S&&(p-=v,g-=y+v),i=(o?f:l)?Math.max(p,Math.min(g,n[o])):n[o],S?u=(i+=v)+y:(s&&(v=Math.max(p,Math.min(g,2*s[o]-i))),v<i?(u=i,i=v):u=v),d[0]!=i||d[1]!=u)return o?e=null:t=null,d[0]=i,d[1]=u,!0}function q(){z(),x.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null),n.select("body").style("cursor",null),A.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),j(),b({type:"brushend"})}x.style("pointer-events","none").selectAll(".resize").style("display",null),n.select("body").style("cursor",m.style("cursor")),b({type:"brushstart"}),z()}return h.event=function(o){o.each((function(){var o=r.of(this,arguments),i={x:a,y:c,i:t,j:e},u=this.__chart__||i;this.__chart__=i,La?n.select(this).transition().each("start.brush",(function(){t=u.i,e=u.j,a=u.x,c=u.y,o({type:"brushstart"})})).tween("brush:brush",(function(){var n=oi(a,i.x),r=oi(c,i.y);return t=e=null,function(t){a=i.x=n(t),c=i.y=r(t),o({type:"brush",mode:"resize"})}})).each("end.brush",(function(){t=i.i,e=i.j,o({type:"brush",mode:"resize"}),o({type:"brushend"})})):(o({type:"brushstart"}),o({type:"brush",mode:"resize"}),o({type:"brushend"}))}))},h.x=function(t){return arguments.length?(s=Xa[!(o=t)<<1|!i],h):o},h.y=function(t){return arguments.length?(s=Xa[!o<<1|!(i=t)],h):i},h.clamp=function(t){return arguments.length?(o&&i?(l=!!t[0],f=!!t[1]):o?l=!!t:i&&(f=!!t),h):o&&i?[l,f]:o?l:i?f:null},h.extent=function(n){var r,u,l,f,s;return arguments.length?(o&&(r=n[0],u=n[1],i&&(r=r[0],u=u[0]),t=[r,u],o.invert&&(r=o(r),u=o(u)),u<r&&(s=r,r=u,u=s),r==a[0]&&u==a[1]||(a=[r,u])),i&&(l=n[0],f=n[1],o&&(l=l[1],f=f[1]),e=[l,f],i.invert&&(l=i(l),f=i(f)),f<l&&(s=l,l=f,f=s),l==c[0]&&f==c[1]||(c=[l,f])),h):(o&&(t?(r=t[0],u=t[1]):(r=a[0],u=a[1],o.invert&&(r=o.invert(r),u=o.invert(u)),u<r&&(s=r,r=u,u=s))),i&&(e?(l=e[0],f=e[1]):(l=c[0],f=c[1],i.invert&&(l=i.invert(l),f=i.invert(f)),f<l&&(s=l,l=f,f=s))),o&&i?[[r,l],[u,f]]:o?[r,u]:i&&[l,f])},h.clear=function(){return h.empty()||(a=[0,0],c=[0,0],t=e=null),h},h.empty=function(){return!!o&&a[0]==a[1]||!!i&&c[0]==c[1]},n.rebind(h,r,"on")};var Va={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xa=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ja=Ln.format=fe.timeFormat,Wa=Ja.utc,Ga=Wa("%Y-%m-%dT%H:%M:%S.%LZ");function Ka(t){return t.toISOString()}function Qa(t,e,r){function o(n){return t(n)}function i(t,r){var o=(t[1]-t[0])/r,i=n.bisect(nc,o);return i==nc.length?[e.year,zu(t.map((function(t){return t/31536e6})),r)[2]]:i?e[o/nc[i-1]<nc[i]/o?i-1:i]:[oc,zu(t,r)[2]]}return o.invert=function(n){return tc(t.invert(n))},o.domain=function(n){return arguments.length?(t.domain(n),o):t.domain().map(tc)},o.nice=function(t,n){var e=o.domain(),r=_u(e),u=null==t?i(r,10):"number"==typeof t&&i(r,t);function a(e){return!isNaN(e)&&!t.range(e,tc(+e+1),n).length}return u&&(t=u[0],n=u[1]),o.domain(ju(e,n>1?{floor:function(n){for(;a(n=t.floor(n));)n=tc(n-1);return n},ceil:function(n){for(;a(n=t.ceil(n));)n=tc(+n+1);return n}}:t))},o.ticks=function(t,n){var e=_u(o.domain()),r=null==t?i(e,10):"number"==typeof t?i(e,t):!t.range&&[{range:t},n];return r&&(t=r[0],n=r[1]),t.range(e[0],tc(+e[1]+1),n<1?1:n)},o.tickFormat=function(){return r},o.copy=function(){return Qa(t.copy(),e,r)},Ou(o,t)}function tc(t){return new Date(t)}Ja.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ka:Ga,Ka.parse=function(t){var n=new Date(t);return isNaN(n)?null:n},Ka.toString=Ga.toString,Ln.second=Un((function(t){return new Pn(1e3*Math.floor(t/1e3))}),(function(t,n){t.setTime(t.getTime()+1e3*Math.floor(n))}),(function(t){return t.getSeconds()})),Ln.seconds=Ln.second.range,Ln.seconds.utc=Ln.second.utc.range,Ln.minute=Un((function(t){return new Pn(6e4*Math.floor(t/6e4))}),(function(t,n){t.setTime(t.getTime()+6e4*Math.floor(n))}),(function(t){return t.getMinutes()})),Ln.minutes=Ln.minute.range,Ln.minutes.utc=Ln.minute.utc.range,Ln.hour=Un((function(t){var n=t.getTimezoneOffset()/60;return new Pn(36e5*(Math.floor(t/36e5-n)+n))}),(function(t,n){t.setTime(t.getTime()+36e5*Math.floor(n))}),(function(t){return t.getHours()})),Ln.hours=Ln.hour.range,Ln.hours.utc=Ln.hour.utc.range,Ln.month=Un((function(t){return(t=Ln.day(t)).setDate(1),t}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t){return t.getMonth()})),Ln.months=Ln.month.range,Ln.months.utc=Ln.month.utc.range;var nc=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ec=[[Ln.second,1],[Ln.second,5],[Ln.second,15],[Ln.second,30],[Ln.minute,1],[Ln.minute,5],[Ln.minute,15],[Ln.minute,30],[Ln.hour,1],[Ln.hour,3],[Ln.hour,6],[Ln.hour,12],[Ln.day,1],[Ln.day,2],[Ln.week,1],[Ln.month,1],[Ln.month,3],[Ln.year,1]],rc=Ja.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Je]]),oc={range:function(t,e,r){return n.range(Math.ceil(t/r)*r,+e,r).map(tc)},floor:O,ceil:O};ec.year=Ln.year,Ln.scale=function(){return Qa(n.scale.linear(),ec,rc)};var ic=ec.map((function(t){return[t[0].utc,t[1]]})),uc=Wa.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Je]]);function ac(t){return JSON.parse(t.responseText)}function cc(t){var n=o.createRange();return n.selectNode(o.body),n.createContextualFragment(t.responseText)}ic.year=Ln.year.utc,Ln.scale.utc=function(){return Qa(n.scale.linear(),ic,uc)},n.text=mn((function(t){return t.responseText})),n.json=function(t,n){return bn(t,"application/json",ac,n)},n.html=function(t,n){return bn(t,"text/html",cc,n)},n.xml=mn((function(t){return t.responseXML})),t.exports?t.exports=n:this.d3=n}()}(h);var p=h.exports;function g(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function v(t){return function n(e){return 0===arguments.length||g(e)?n:t.apply(this,arguments)}}function d(t){return function n(e,r){switch(arguments.length){case 0:return n;case 1:return g(e)?n:v((function(n){return t(e,n)}));default:return g(e)&&g(r)?n:g(e)?v((function(n){return t(n,r)})):g(r)?v((function(n){return t(e,n)})):t(e,r)}}}function y(t,n){switch(t){case 0:return function(){return n.apply(this,arguments)};case 1:return function(t){return n.apply(this,arguments)};case 2:return function(t,e){return n.apply(this,arguments)};case 3:return function(t,e,r){return n.apply(this,arguments)};case 4:return function(t,e,r,o){return n.apply(this,arguments)};case 5:return function(t,e,r,o,i){return n.apply(this,arguments)};case 6:return function(t,e,r,o,i,u){return n.apply(this,arguments)};case 7:return function(t,e,r,o,i,u,a){return n.apply(this,arguments)};case 8:return function(t,e,r,o,i,u,a,c){return n.apply(this,arguments)};case 9:return function(t,e,r,o,i,u,a,c,l){return n.apply(this,arguments)};case 10:return function(t,e,r,o,i,u,a,c,l,f){return n.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function m(t,n,e){return function(){for(var r=[],o=0,i=t,u=0;u<n.length||o<arguments.length;){var a;u<n.length&&(!g(n[u])||o>=arguments.length)?a=n[u]:(a=arguments[o],o+=1),r[u]=a,g(a)||(i-=1),u+=1}return i<=0?e.apply(this,r):y(i,m(t,r,e))}}var b=d((function(t,n){return 1===t?v(n):y(t,m(t,[],n))}));function x(t){return function n(e,r,o){switch(arguments.length){case 0:return n;case 1:return g(e)?n:d((function(n,r){return t(e,n,r)}));case 2:return g(e)&&g(r)?n:g(e)?d((function(n,e){return t(n,r,e)})):g(r)?d((function(n,r){return t(e,n,r)})):v((function(n){return t(e,r,n)}));default:return g(e)&&g(r)&&g(o)?n:g(e)&&g(r)?d((function(n,e){return t(n,e,o)})):g(e)&&g(o)?d((function(n,e){return t(n,r,e)})):g(r)&&g(o)?d((function(n,r){return t(e,n,r)})):g(e)?v((function(n){return t(n,r,o)})):g(r)?v((function(n){return t(e,n,o)})):g(o)?v((function(n){return t(e,r,n)})):t(e,r,o)}}}var M=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function _(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function w(t,n,e){return function(){if(0===arguments.length)return e();var r=arguments[arguments.length-1];if(!M(r)){for(var o=0;o<t.length;){if("function"==typeof r[t[o]])return r[t[o]].apply(r,Array.prototype.slice.call(arguments,0,-1));o+=1}if(_(r)){var i=n.apply(null,Array.prototype.slice.call(arguments,0,-1));return i(r)}}return e.apply(this,arguments)}}var S=function(){return this.xf["@@transducer/init"]()},j=function(t){return this.xf["@@transducer/result"](t)};function k(t,n){for(var e=0,r=n.length,o=Array(r);e<r;)o[e]=t(n[e]),e+=1;return o}function A(t){return"[object String]"===Object.prototype.toString.call(t)}var E=v((function(t){return!!M(t)||!!t&&("object"==typeof t&&(!A(t)&&(0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),N=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,n){return this.f(t,n)},t}();var O=d((function(t,n){return y(t.length,(function(){return t.apply(n,arguments)}))}));function C(t,n,e){for(var r=e.next();!r.done;){if((n=t["@@transducer/step"](n,r.value))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r=e.next()}return t["@@transducer/result"](n)}function z(t,n,e,r){return t["@@transducer/result"](e[r](O(t["@@transducer/step"],t),n))}var T="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function q(t,n,e){if("function"==typeof t&&(t=function(t){return new N(t)}(t)),E(e))return function(t,n,e){for(var r=0,o=e.length;r<o;){if((n=t["@@transducer/step"](n,e[r]))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r+=1}return t["@@transducer/result"](n)}(t,n,e);if("function"==typeof e["fantasy-land/reduce"])return z(t,n,e,"fantasy-land/reduce");if(null!=e[T])return C(t,n,e[T]());if("function"==typeof e.next)return C(t,n,e);if("function"==typeof e.reduce)return z(t,n,e,"reduce");throw new TypeError("reduce: list must be array or iterable")}function L(t,n){return Object.prototype.hasOwnProperty.call(n,t)}var P=Object.prototype.toString,D=function(){return"[object Arguments]"===P.call(arguments)?function(t){return"[object Arguments]"===P.call(t)}:function(t){return L("callee",t)}}(),R=!{toString:null}.propertyIsEnumerable("toString"),U=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],I=function(){return arguments.propertyIsEnumerable("length")}(),F=function(t,n){for(var e=0;e<t.length;){if(t[e]===n)return!0;e+=1}return!1},H="function"!=typeof Object.keys||I?v((function(t){if(Object(t)!==t)return[];var n,e,r=[],o=I&&D(t);for(n in t)!L(n,t)||o&&"length"===n||(r[r.length]=n);if(R)for(e=U.length-1;e>=0;)L(n=U[e],t)&&!F(r,n)&&(r[r.length]=n),e-=1;return r})):v((function(t){return Object(t)!==t?[]:Object.keys(t)})),Y=x(q);function B(t){var n=Object.prototype.toString.call(t);return"[object Function]"===n||"[object AsyncFunction]"===n||"[object GeneratorFunction]"===n||"[object AsyncGeneratorFunction]"===n}var $=v((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));function Z(t,n){return function(){return n.call(this,t.apply(this,arguments))}}function V(t,n){return function(){var e=arguments.length;if(0===e)return n();var r=arguments[e-1];return M(r)||"function"!=typeof r[t]?n.apply(this,arguments):r[t].apply(r,Array.prototype.slice.call(arguments,0,e-1))}}var X=v(V("tail",x(V("slice",(function(t,n,e){return Array.prototype.slice.call(e,t,n)})))(1,1/0)));function J(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}function W(t,n,e){for(var r=0,o=e.length;r<o;){if(t(n,e[r]))return!0;r+=1}return!1}var G="function"==typeof Object.is?Object.is:function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n};function K(t,n,e,r){var o=J(t);function i(t,n){return Q(t,n,e.slice(),r.slice())}return!W((function(t,n){return!W(i,n,t)}),J(n),o)}function Q(t,n,e,r){if(G(t,n))return!0;var o,i,u=$(t);if(u!==$(n))return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof n["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](n)&&"function"==typeof n["fantasy-land/equals"]&&n["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof n.equals)return"function"==typeof t.equals&&t.equals(n)&&"function"==typeof n.equals&&n.equals(t);switch(u){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===(o=t.constructor,null==(i=String(o).match(/^function (\w*)/))?"":i[1]))return t===n;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof n||!G(t.valueOf(),n.valueOf()))return!1;break;case"Date":if(!G(t.valueOf(),n.valueOf()))return!1;break;case"Error":return t.name===n.name&&t.message===n.message;case"RegExp":if(t.source!==n.source||t.global!==n.global||t.ignoreCase!==n.ignoreCase||t.multiline!==n.multiline||t.sticky!==n.sticky||t.unicode!==n.unicode)return!1}for(var a=e.length-1;a>=0;){if(e[a]===t)return r[a]===n;a-=1}switch(u){case"Map":return t.size===n.size&&K(t.entries(),n.entries(),e.concat([t]),r.concat([n]));case"Set":return t.size===n.size&&K(t.values(),n.values(),e.concat([t]),r.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c=H(t);if(c.length!==H(n).length)return!1;var l=e.concat([t]),f=r.concat([n]);for(a=c.length-1;a>=0;){var s=c[a];if(!L(s,n)||!Q(n[s],t[s],l,f))return!1;a-=1}return!0}var tt=d((function(t,n){return Q(t,n,[],[])}));function nt(t,n){return function(t,n,e){var r,o;if("function"==typeof t.indexOf)switch(typeof n){case"number":if(0===n){for(r=1/n;e<t.length;){if(0===(o=t[e])&&1/o===r)return e;e+=1}return-1}if(n!=n){for(;e<t.length;){if("number"==typeof(o=t[e])&&o!=o)return e;e+=1}return-1}return t.indexOf(n,e);case"string":case"boolean":case"function":case"undefined":return t.indexOf(n,e);case"object":if(null===n)return t.indexOf(n,e)}for(;e<t.length;){if(tt(t[e],n))return e;e+=1}return-1}(n,t,0)>=0}function et(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var rt=function(t){return(t<10?"0":"")+t},ot="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+rt(t.getUTCMonth()+1)+"-"+rt(t.getUTCDate())+"T"+rt(t.getUTCHours())+":"+rt(t.getUTCMinutes())+":"+rt(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function it(t){return"[object Object]"===Object.prototype.toString.call(t)}var ut=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=S,t.prototype["@@transducer/result"]=j,t.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.xf["@@transducer/step"](t,n):t},t}(),at=d(w(["fantasy-land/filter","filter"],d((function(t,n){return new ut(t,n)})),(function(t,n){return it(n)?q((function(e,r){return t(n[r])&&(e[r]=n[r]),e}),{},H(n)):function(t,n){for(var e=0,r=n.length,o=[];e<r;)t(n[e])&&(o[o.length]=n[e]),e+=1;return o}(t,n)}))),ct=d((function(t,n){return at((e=t,function(){return!e.apply(this,arguments)}),n);var e}));function lt(t,n){var e=function(e){var r=n.concat([t]);return nt(e,r)?"<Circular>":lt(e,r)},r=function(t,n){return k((function(n){return et(n)+": "+e(t[n])}),n.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+k(e,t).join(", ")+"))";case"[object Array]":return"["+k(e,t).concat(r(t,ct((function(t){return/^\d+$/.test(t)}),H(t)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof t?"new Boolean("+e(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?e(NaN):et(ot(t)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof t?"new Number("+e(t.valueOf())+")":1/t==-1/0?"-0":t.toString(10);case"[object String]":return"object"==typeof t?"new String("+e(t.valueOf())+")":et(t);case"[object Undefined]":return"undefined";default:if("function"==typeof t.toString){var o=t.toString();if("[object Object]"!==o)return o}return"{"+r(t,H(t)).join(", ")+"}"}}var ft=v((function(t){return lt(t,[])}));var st=v((function(t){return null!=t&&"function"==typeof t["fantasy-land/empty"]?t["fantasy-land/empty"]():null!=t&&null!=t.constructor&&"function"==typeof t.constructor["fantasy-land/empty"]?t.constructor["fantasy-land/empty"]():null!=t&&"function"==typeof t.empty?t.empty():null!=t&&null!=t.constructor&&"function"==typeof t.constructor.empty?t.constructor.empty():M(t)?[]:A(t)?"":it(t)?{}:D(t)?function(){return arguments}():function(t){var n=Object.prototype.toString.call(t);return"[object Uint8ClampedArray]"===n||"[object Int8Array]"===n||"[object Uint8Array]"===n||"[object Int16Array]"===n||"[object Uint16Array]"===n||"[object Int32Array]"===n||"[object Uint32Array]"===n||"[object Float32Array]"===n||"[object Float64Array]"===n||"[object BigInt64Array]"===n||"[object BigUint64Array]"===n}(t)?t.constructor.from(""):void 0})),ht=d((function(t,n){return b(t+1,(function(){var e=arguments[t];if(null!=e&&B(e[n]))return e[n].apply(e,Array.prototype.slice.call(arguments,0,t));throw new TypeError(ft(e)+' does not have a method named "'+n+'"')}))})),pt=d((function(t,n){return n instanceof t||null!=n&&(n.constructor===t||"Object"===t.name&&"object"==typeof n)})),gt=v((function(t){return null!=t&&tt(t,st(t))})),vt=ht(1,"join"),dt=d((function(t,n){return q((function(e,r){return e[r]=t(n[r],r,n),e}),{},H(n))})),yt=x((function(t,n,e){return e.replace(t,n)}));function mt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var bt=Array.isArray,xt="object"==typeof n&&n&&n.Object===Object&&n,Mt=xt,_t="object"==typeof self&&self&&self.Object===Object&&self,wt=Mt||_t||Function("return this")(),St=wt.Symbol,jt=St,kt=Object.prototype,At=kt.hasOwnProperty,Et=kt.toString,Nt=jt?jt.toStringTag:void 0;var Ot=function(t){var n=At.call(t,Nt),e=t[Nt];try{t[Nt]=void 0;var r=!0}catch(t){}var o=Et.call(t);return r&&(n?t[Nt]=e:delete t[Nt]),o},Ct=Object.prototype.toString;var zt=Ot,Tt=function(t){return Ct.call(t)},qt=St?St.toStringTag:void 0;var Lt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":qt&&qt in Object(t)?zt(t):Tt(t)};var Pt=function(t,n){return function(e){return t(n(e))}},Dt=Pt(Object.getPrototypeOf,Object);var Rt=function(t){return null!=t&&"object"==typeof t},Ut=Lt,It=Dt,Ft=Rt,Ht=Function.prototype,Yt=Object.prototype,Bt=Ht.toString,$t=Yt.hasOwnProperty,Zt=Bt.call(Object);var Vt=function(t){if(!Ft(t)||"[object Object]"!=Ut(t))return!1;var n=It(t);if(null===n)return!0;var e=$t.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&Bt.call(e)==Zt};var Xt=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)},Jt=Lt,Wt=Xt;var Gt,Kt=function(t){if(!Wt(t))return!1;var n=Jt(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n},Qt=wt["__core-js_shared__"],tn=(Gt=/[^.]+$/.exec(Qt&&Qt.keys&&Qt.keys.IE_PROTO||""))?"Symbol(src)_1."+Gt:"";var nn=function(t){return!!tn&&tn in t},en=Function.prototype.toString;var rn=function(t){if(null!=t){try{return en.call(t)}catch(t){}try{return t+""}catch(t){}}return""},on=Kt,un=nn,an=Xt,cn=rn,ln=/^\[object .+?Constructor\]$/,fn=Function.prototype,sn=Object.prototype,hn=fn.toString,pn=sn.hasOwnProperty,gn=RegExp("^"+hn.call(pn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var vn=function(t){return!(!an(t)||un(t))&&(on(t)?gn:ln).test(cn(t))},dn=function(t,n){return null==t?void 0:t[n]};var yn=function(t,n){var e=dn(t,n);return vn(e)?e:void 0},mn=yn,bn=function(){try{var t=mn(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var xn=function(t,n,e){"__proto__"==n&&bn?bn(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e};var Mn=function(t){return function(n,e,r){for(var o=-1,i=Object(n),u=r(n),a=u.length;a--;){var c=u[t?a:++o];if(!1===e(i[c],c,i))break}return n}}();var _n=function(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r},wn=Lt,Sn=Rt;var jn=function(t){return Sn(t)&&"[object Arguments]"==wn(t)},kn=Rt,An=Object.prototype,En=An.hasOwnProperty,Nn=An.propertyIsEnumerable,On=jn(function(){return arguments}())?jn:function(t){return kn(t)&&En.call(t,"callee")&&!Nn.call(t,"callee")},Cn=On,zn={exports:{}};var Tn=function(){return!1};!function(t,n){var e=wt,r=Tn,o=n&&!n.nodeType&&n,i=o&&t&&!t.nodeType&&t,u=i&&i.exports===o?e.Buffer:void 0,a=(u?u.isBuffer:void 0)||r;t.exports=a}(zn,zn.exports);var qn=/^(?:0|[1-9]\d*)$/;var Ln=function(t,n){var e=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==e||"symbol"!=e&&qn.test(t))&&t>-1&&t%1==0&&t<n};var Pn=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Dn=Lt,Rn=Pn,Un=Rt,In={};In["[object Float32Array]"]=In["[object Float64Array]"]=In["[object Int8Array]"]=In["[object Int16Array]"]=In["[object Int32Array]"]=In["[object Uint8Array]"]=In["[object Uint8ClampedArray]"]=In["[object Uint16Array]"]=In["[object Uint32Array]"]=!0,In["[object Arguments]"]=In["[object Array]"]=In["[object ArrayBuffer]"]=In["[object Boolean]"]=In["[object DataView]"]=In["[object Date]"]=In["[object Error]"]=In["[object Function]"]=In["[object Map]"]=In["[object Number]"]=In["[object Object]"]=In["[object RegExp]"]=In["[object Set]"]=In["[object String]"]=In["[object WeakMap]"]=!1;var Fn=function(t){return Un(t)&&Rn(t.length)&&!!In[Dn(t)]};var Hn=function(t){return function(n){return t(n)}},Yn={exports:{}};!function(t,n){var e=xt,r=n&&!n.nodeType&&n,o=r&&t&&!t.nodeType&&t,i=o&&o.exports===r&&e.process,u=function(){try{var t=o&&o.require&&o.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=u}(Yn,Yn.exports);var Bn=Fn,$n=Hn,Zn=Yn.exports,Vn=Zn&&Zn.isTypedArray,Xn=Vn?$n(Vn):Bn,Jn=_n,Wn=Cn,Gn=bt,Kn=zn.exports,Qn=Ln,te=Xn,ne=Object.prototype.hasOwnProperty;var ee=function(t,n){var e=Gn(t),r=!e&&Wn(t),o=!e&&!r&&Kn(t),i=!e&&!r&&!o&&te(t),u=e||r||o||i,a=u?Jn(t.length,String):[],c=a.length;for(var l in t)!n&&!ne.call(t,l)||u&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Qn(l,c))||a.push(l);return a},re=Object.prototype;var oe=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||re)},ie=Pt(Object.keys,Object),ue=oe,ae=ie,ce=Object.prototype.hasOwnProperty;var le=Kt,fe=Pn;var se=ee,he=function(t){if(!ue(t))return ae(t);var n=[];for(var e in Object(t))ce.call(t,e)&&"constructor"!=e&&n.push(e);return n},pe=function(t){return null!=t&&fe(t.length)&&!le(t)};var ge=function(t){return pe(t)?se(t):he(t)},ve=Mn,de=ge;var ye=function(t,n){return t&&ve(t,n,de)};var me=function(){this.__data__=[],this.size=0};var be=function(t,n){return t===n||t!=t&&n!=n},xe=be;var Me=function(t,n){for(var e=t.length;e--;)if(xe(t[e][0],n))return e;return-1},_e=Me,we=Array.prototype.splice;var Se=Me;var je=Me;var ke=Me;var Ae=me,Ee=function(t){var n=this.__data__,e=_e(n,t);return!(e<0)&&(e==n.length-1?n.pop():we.call(n,e,1),--this.size,!0)},Ne=function(t){var n=this.__data__,e=Se(n,t);return e<0?void 0:n[e][1]},Oe=function(t){return je(this.__data__,t)>-1},Ce=function(t,n){var e=this.__data__,r=ke(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this};function ze(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}ze.prototype.clear=Ae,ze.prototype.delete=Ee,ze.prototype.get=Ne,ze.prototype.has=Oe,ze.prototype.set=Ce;var Te=ze,qe=Te;var Le=function(){this.__data__=new qe,this.size=0};var Pe=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e};var De=function(t){return this.__data__.get(t)};var Re=function(t){return this.__data__.has(t)},Ue=yn(wt,"Map"),Ie=yn(Object,"create"),Fe=Ie;var He=function(){this.__data__=Fe?Fe(null):{},this.size=0};var Ye=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Be=Ie,$e=Object.prototype.hasOwnProperty;var Ze=function(t){var n=this.__data__;if(Be){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return $e.call(n,t)?n[t]:void 0},Ve=Ie,Xe=Object.prototype.hasOwnProperty;var Je=Ie;var We=He,Ge=Ye,Ke=Ze,Qe=function(t){var n=this.__data__;return Ve?void 0!==n[t]:Xe.call(n,t)},tr=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=Je&&void 0===n?"__lodash_hash_undefined__":n,this};function nr(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}nr.prototype.clear=We,nr.prototype.delete=Ge,nr.prototype.get=Ke,nr.prototype.has=Qe,nr.prototype.set=tr;var er=nr,rr=Te,or=Ue;var ir=function(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t},ur=ir;var ar=function(t,n){var e=t.__data__;return ur(n)?e["string"==typeof n?"string":"hash"]:e.map},cr=ar;var lr=ar;var fr=ar;var sr=ar;var hr=function(){this.size=0,this.__data__={hash:new er,map:new(or||rr),string:new er}},pr=function(t){var n=cr(this,t).delete(t);return this.size-=n?1:0,n},gr=function(t){return lr(this,t).get(t)},vr=function(t){return fr(this,t).has(t)},dr=function(t,n){var e=sr(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this};function yr(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}yr.prototype.clear=hr,yr.prototype.delete=pr,yr.prototype.get=gr,yr.prototype.has=vr,yr.prototype.set=dr;var mr=yr,br=Te,xr=Ue,Mr=mr;var _r=Te,wr=Le,Sr=Pe,jr=De,kr=Re,Ar=function(t,n){var e=this.__data__;if(e instanceof br){var r=e.__data__;if(!xr||r.length<199)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new Mr(r)}return e.set(t,n),this.size=e.size,this};function Er(t){var n=this.__data__=new _r(t);this.size=n.size}Er.prototype.clear=wr,Er.prototype.delete=Sr,Er.prototype.get=jr,Er.prototype.has=kr,Er.prototype.set=Ar;var Nr=Er;var Or=mr,Cr=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},zr=function(t){return this.__data__.has(t)};function Tr(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new Or;++n<e;)this.add(t[n])}Tr.prototype.add=Tr.prototype.push=Cr,Tr.prototype.has=zr;var qr=Tr,Lr=function(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1},Pr=function(t,n){return t.has(n)};var Dr=function(t,n,e,r,o,i){var u=1&e,a=t.length,c=n.length;if(a!=c&&!(u&&c>a))return!1;var l=i.get(t),f=i.get(n);if(l&&f)return l==n&&f==t;var s=-1,h=!0,p=2&e?new qr:void 0;for(i.set(t,n),i.set(n,t);++s<a;){var g=t[s],v=n[s];if(r)var d=u?r(v,g,s,n,t,i):r(g,v,s,t,n,i);if(void 0!==d){if(d)continue;h=!1;break}if(p){if(!Lr(n,(function(t,n){if(!Pr(p,n)&&(g===t||o(g,t,e,r,i)))return p.push(n)}))){h=!1;break}}else if(g!==v&&!o(g,v,e,r,i)){h=!1;break}}return i.delete(t),i.delete(n),h};var Rr=wt.Uint8Array,Ur=be,Ir=Dr,Fr=function(t){var n=-1,e=Array(t.size);return t.forEach((function(t,r){e[++n]=[r,t]})),e},Hr=function(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e},Yr=St?St.prototype:void 0,Br=Yr?Yr.valueOf:void 0;var $r=function(t,n,e,r,o,i,u){switch(e){case"[object DataView]":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=n.byteLength||!i(new Rr(t),new Rr(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ur(+t,+n);case"[object Error]":return t.name==n.name&&t.message==n.message;case"[object RegExp]":case"[object String]":return t==n+"";case"[object Map]":var a=Fr;case"[object Set]":var c=1&r;if(a||(a=Hr),t.size!=n.size&&!c)return!1;var l=u.get(t);if(l)return l==n;r|=2,u.set(t,n);var f=Ir(a(t),a(n),r,o,i,u);return u.delete(t),f;case"[object Symbol]":if(Br)return Br.call(t)==Br.call(n)}return!1};var Zr=function(t,n){for(var e=-1,r=n.length,o=t.length;++e<r;)t[o+e]=n[e];return t},Vr=bt;var Xr=function(t,n,e){var r=n(t);return Vr(t)?r:Zr(r,e(t))};var Jr=function(t,n){for(var e=-1,r=null==t?0:t.length,o=0,i=[];++e<r;){var u=t[e];n(u,e,t)&&(i[o++]=u)}return i},Wr=function(){return[]},Gr=Object.prototype.propertyIsEnumerable,Kr=Object.getOwnPropertySymbols,Qr=Xr,to=Kr?function(t){return null==t?[]:(t=Object(t),Jr(Kr(t),(function(n){return Gr.call(t,n)})))}:Wr,no=ge;var eo=function(t){return Qr(t,no,to)},ro=Object.prototype.hasOwnProperty;var oo=function(t,n,e,r,o,i){var u=1&e,a=eo(t),c=a.length;if(c!=eo(n).length&&!u)return!1;for(var l=c;l--;){var f=a[l];if(!(u?f in n:ro.call(n,f)))return!1}var s=i.get(t),h=i.get(n);if(s&&h)return s==n&&h==t;var p=!0;i.set(t,n),i.set(n,t);for(var g=u;++l<c;){var v=t[f=a[l]],d=n[f];if(r)var y=u?r(d,v,f,n,t,i):r(v,d,f,t,n,i);if(!(void 0===y?v===d||o(v,d,e,r,i):y)){p=!1;break}g||(g="constructor"==f)}if(p&&!g){var m=t.constructor,b=n.constructor;m==b||!("constructor"in t)||!("constructor"in n)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(p=!1)}return i.delete(t),i.delete(n),p},io=yn(wt,"DataView"),uo=Ue,ao=yn(wt,"Promise"),co=yn(wt,"Set"),lo=yn(wt,"WeakMap"),fo=Lt,so=rn,ho="[object Map]",po="[object Promise]",go="[object Set]",vo="[object WeakMap]",yo="[object DataView]",mo=so(io),bo=so(uo),xo=so(ao),Mo=so(co),_o=so(lo),wo=fo;(io&&wo(new io(new ArrayBuffer(1)))!=yo||uo&&wo(new uo)!=ho||ao&&wo(ao.resolve())!=po||co&&wo(new co)!=go||lo&&wo(new lo)!=vo)&&(wo=function(t){var n=fo(t),e="[object Object]"==n?t.constructor:void 0,r=e?so(e):"";if(r)switch(r){case mo:return yo;case bo:return ho;case xo:return po;case Mo:return go;case _o:return vo}return n});var So=Nr,jo=Dr,ko=$r,Ao=oo,Eo=wo,No=bt,Oo=zn.exports,Co=Xn,zo="[object Arguments]",To="[object Array]",qo="[object Object]",Lo=Object.prototype.hasOwnProperty;var Po=function(t,n,e,r,o,i){var u=No(t),a=No(n),c=u?To:Eo(t),l=a?To:Eo(n),f=(c=c==zo?qo:c)==qo,s=(l=l==zo?qo:l)==qo,h=c==l;if(h&&Oo(t)){if(!Oo(n))return!1;u=!0,f=!1}if(h&&!f)return i||(i=new So),u||Co(t)?jo(t,n,e,r,o,i):ko(t,n,c,e,r,o,i);if(!(1&e)){var p=f&&Lo.call(t,"__wrapped__"),g=s&&Lo.call(n,"__wrapped__");if(p||g){var v=p?t.value():t,d=g?n.value():n;return i||(i=new So),o(v,d,e,r,i)}}return!!h&&(i||(i=new So),Ao(t,n,e,r,o,i))},Do=Rt;var Ro=function t(n,e,r,o,i){return n===e||(null==n||null==e||!Do(n)&&!Do(e)?n!=n&&e!=e:Po(n,e,r,o,t,i))},Uo=Nr,Io=Ro;var Fo=Xt;var Ho=function(t){return t==t&&!Fo(t)},Yo=Ho,Bo=ge;var $o=function(t,n){return function(e){return null!=e&&(e[t]===n&&(void 0!==n||t in Object(e)))}},Zo=function(t,n,e,r){var o=e.length,i=o,u=!r;if(null==t)return!i;for(t=Object(t);o--;){var a=e[o];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){var c=(a=e[o])[0],l=t[c],f=a[1];if(u&&a[2]){if(void 0===l&&!(c in t))return!1}else{var s=new Uo;if(r)var h=r(l,f,c,t,n,s);if(!(void 0===h?Io(f,l,3,r,s):h))return!1}}return!0},Vo=function(t){for(var n=Bo(t),e=n.length;e--;){var r=n[e],o=t[r];n[e]=[r,o,Yo(o)]}return n},Xo=$o;var Jo=function(t){var n=Vo(t);return 1==n.length&&n[0][2]?Xo(n[0][0],n[0][1]):function(e){return e===t||Zo(e,t,n)}},Wo=Lt,Go=Rt;var Ko=function(t){return"symbol"==typeof t||Go(t)&&"[object Symbol]"==Wo(t)},Qo=bt,ti=Ko,ni=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ei=/^\w*$/;var ri=function(t,n){if(Qo(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!ti(t))||(ei.test(t)||!ni.test(t)||null!=n&&t in Object(n))},oi=mr;function ii(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var e=function(){var r=arguments,o=n?n.apply(this,r):r[0],i=e.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return e.cache=i.set(o,u)||i,u};return e.cache=new(ii.Cache||oi),e}ii.Cache=oi;var ui=ii;var ai=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ci=/\\(\\)?/g,li=function(t){var n=ui(t,(function(t){return 500===e.size&&e.clear(),t})),e=n.cache;return n}((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(ai,(function(t,e,r,o){n.push(r?o.replace(ci,"$1"):e||t)})),n}));var fi=function(t,n){for(var e=-1,r=null==t?0:t.length,o=Array(r);++e<r;)o[e]=n(t[e],e,t);return o},si=bt,hi=Ko,pi=St?St.prototype:void 0,gi=pi?pi.toString:void 0;var vi=function t(n){if("string"==typeof n)return n;if(si(n))return fi(n,t)+"";if(hi(n))return gi?gi.call(n):"";var e=n+"";return"0"==e&&1/n==-Infinity?"-0":e},di=vi;var yi=bt,mi=ri,bi=li,xi=function(t){return null==t?"":di(t)};var Mi=function(t,n){return yi(t)?t:mi(t,n)?[t]:bi(xi(t))},_i=Ko;var wi=function(t){if("string"==typeof t||_i(t))return t;var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n},Si=Mi,ji=wi;var ki=function(t,n){for(var e=0,r=(n=Si(n,t)).length;null!=t&&e<r;)t=t[ji(n[e++])];return e&&e==r?t:void 0},Ai=ki;var Ei=Mi,Ni=Cn,Oi=bt,Ci=Ln,zi=Pn,Ti=wi;var qi=function(t,n){return null!=t&&n in Object(t)},Li=function(t,n,e){for(var r=-1,o=(n=Ei(n,t)).length,i=!1;++r<o;){var u=Ti(n[r]);if(!(i=null!=t&&e(t,u)))break;t=t[u]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&zi(o)&&Ci(u,o)&&(Oi(t)||Ni(t))};var Pi=Ro,Di=function(t,n,e){var r=null==t?void 0:Ai(t,n);return void 0===r?e:r},Ri=function(t,n){return null!=t&&Li(t,n,qi)},Ui=ri,Ii=Ho,Fi=$o,Hi=wi;var Yi=ki;var Bi=function(t){return function(n){return null==n?void 0:n[t]}},$i=function(t){return function(n){return Yi(n,t)}},Zi=ri,Vi=wi;var Xi=Jo,Ji=function(t,n){return Ui(t)&&Ii(n)?Fi(Hi(t),n):function(e){var r=Di(e,t);return void 0===r&&r===n?Ri(e,t):Pi(n,r,3)}},Wi=function(t){return t},Gi=bt,Ki=function(t){return Zi(t)?Bi(Vi(t)):$i(t)};var Qi=xn,tu=ye,nu=function(t){return"function"==typeof t?t:null==t?Wi:"object"==typeof t?Gi(t)?Ji(t[0],t[1]):Xi(t):Ki(t)};var eu=function(t,n){var e={};return n=nu(n),tu(t,(function(t,r,o){Qi(e,r,n(t,r,o))})),e};function ru(t,n,e){if(t){n(t);var r=e(t);if(r)for(var o=r.length,i=0;i<o;i++)ru(r[i],n,e)}}function ou(t,n){var e=null;return ru(t,(function(t){t.name===n&&(e=t)}),(function(t){return t.children})),e}function iu(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{name:n.key||"state",children:[]};if(!Vt(t)&&t&&!t.toJS)return{};var r=n.key,o=void 0===r?"state":r,i=n.pushMethod,u=void 0===i?"push":i,a=ou(e,o);return null===a?{}:(eu(t&&t.toJS?t.toJS():t,(function(t,n){var r=t&&t.toJS?t.toJS():t,o={name:n};if(bt(r)){o.children=[];for(var i=0;i<r.length;i++)o.children[u](mt({name:"".concat(n,"[").concat(i,"]")},Vt(r[i])?"object":"value",r[i]))}else Vt(r)?o.children=[]:o.value=r;a.children[u](o),iu(r,{key:n,pushMethod:u},e)})),e)}var uu=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var n=Object.prototype.toString.call(t);return"[object RegExp]"===n||"[object Date]"===n||function(t){return t.$$typeof===au}(t)}(t)};var au="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function cu(t,n){return!1!==n.clone&&n.isMergeableObject(t)?pu((e=t,Array.isArray(e)?[]:{}),t,n):t;var e}function lu(t,n,e){return t.concat(n).map((function(t){return cu(t,e)}))}function fu(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(n){return t.propertyIsEnumerable(n)})):[]}(t))}function su(t,n){try{return n in t}catch(t){return!1}}function hu(t,n,e){var r={};return e.isMergeableObject(t)&&fu(t).forEach((function(n){r[n]=cu(t[n],e)})),fu(n).forEach((function(o){(function(t,n){return su(t,n)&&!(Object.hasOwnProperty.call(t,n)&&Object.propertyIsEnumerable.call(t,n))})(t,o)||(su(t,o)&&e.isMergeableObject(n[o])?r[o]=function(t,n){if(!n.customMerge)return pu;var e=n.customMerge(t);return"function"==typeof e?e:pu}(o,e)(t[o],n[o],e):r[o]=cu(n[o],e))})),r}function pu(t,n,e){(e=e||{}).arrayMerge=e.arrayMerge||lu,e.isMergeableObject=e.isMergeableObject||uu,e.cloneUnlessOtherwiseSpecified=cu;var r=Array.isArray(n);return r===Array.isArray(t)?r?e.arrayMerge(t,n,e):hu(t,n,e):cu(n,e)}pu.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,e){return pu(t,e,n)}),{})};var gu=pu,vu={exports:{}};!function(t){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(vu);var du=e(vu.exports);function yu(t,n){if(t instanceof Array)return n?t.sort():t;if(t&&"object"===du(t)){var e={};return Object.keys(t).sort().forEach((function(n){return e[n]=yu(t[n])})),e}return t}function mu(t){return JSON.stringify(yu(t,!0),void 0,2)}function bu(t){return t.children?(t._children=t.children,t.children=null):t._children&&(t.children=t._children,t._children=null),t}function xu(t,n,e){if(t){n(t);var r=e(t);if(r)for(var o=r.length,i=0;i<o;i++)xu(r[i],n,e)}}function Mu(t){var n=[1];return function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e.children||0===e.children.length)return 0;n.length<=r+1&&n.push(0),n[r+1]+=e.children.length,e.children.forEach((function(n){t(n,r+1)}))}(t),n}function _u(t,n,e){var r=e.indentationSize,o=void 0===r?4:r;if(!pt(Object,t))return"";var i=vt("&nbsp;&nbsp;"),u=function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return y(arguments[0].length,Y(Z,arguments[0],X(arguments)))}(mu,yt(/\n/g,"<br/>"),yt(/\s{2}/g,i(new Array(o)))),a=t.children||t._children;return void 0!==t.value?u(t.value):void 0!==t.object?u(t.object):a&&a.length?"childrenCount: ".concat(a.length):"empty"}function wu(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function Su(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i=[],u=!0,a=!1;try{for(e=e.call(t);!(u=(r=e.next()).done)&&(i.push(r.value),!n||i.length!==n);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==e.return||e.return()}finally{if(a)throw o}}return i}}(t,n)||function(t,n){if(t){if("string"==typeof t)return wu(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?wu(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ju(t){return pt(Function,t)?t:function(){return t}}function ku(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Au(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?ku(Object(e),!0).forEach((function(n){mt(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ku(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var Eu=function(t){return dt((function(n,e){if("class"===e){var r=ju(n);return function(n,e){var o=r(n,e);return o!==t?vt(" ",[t,o]):o}}return n}))},Nu=ju,Ou={left:void 0,top:void 0,offset:{left:0,top:0},root:void 0};function Cu(t){var n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tooltip",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Au(Au({},Ou),r),i=o.left,u=o.top,a=o.offset,c=o.root,l={class:e},f=function(t){return""},s={},h=c||t.select("body"),p=h.node();function g(r){r.on("mouseover.tip",(function(r){var o=Su(t.mouse(p),2),c=o[0],g=o[1],v=i||c+a.left,d=u||g-a.top;h.selectAll("div.".concat(e)).remove(),n=h.append("div").attr(Eu(e)(l)).style(Au({position:"absolute","z-index":1001,left:"".concat(v,"px"),top:"".concat(d,"px")},s)).html((function(){return f(r)}))})),r.on("mousemove.tip",(function(e){var r=Su(t.mouse(p),2),o=r[0],c=r[1],l=i||o+a.left,s=u||c-a.top;n.style({left:"".concat(l,"px"),top:"".concat(s,"px")}).html((function(){return f(e)}))})),r.on("mouseout.tip",(function(){return n.remove()}))}return g.attr=function(t){return pt(Object,t)&&(l=Au(Au({},l),t)),this},g.style=function(t){return pt(Object,t)&&(s=Au(Au({},s),t)),this},g.text=function(t){return f=Nu(t),this},g}function zu(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Tu(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?zu(Object(e),!0).forEach((function(n){s(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):zu(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var qu={state:void 0,rootKeyName:"state",pushMethod:"push",tree:void 0,id:"d3svg",style:{node:{colors:{default:"#ccc",collapsed:"lightsteelblue",parent:"white"},radius:7},text:{colors:{default:"black",hover:"skyblue"}},link:{stroke:"#000",fill:"none"}},size:500,aspectRatio:1,initialZoom:1,margin:{top:10,right:10,bottom:10,left:50},isSorted:!1,heightBetweenNodesCoeff:2,widthBetweenNodesCoeff:1,transitionDuration:750,blinkDuration:100,onClickText:function(){},tooltipOptions:{disabled:!1,left:void 0,top:void 0,offset:{left:0,top:0},style:void 0}};t.tree=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=gu(qu,n),r=e.id,o=e.style,i=e.size,u=e.aspectRatio,a=e.initialZoom,c=e.margin,f=e.isSorted,s=e.widthBetweenNodesCoeff,h=e.heightBetweenNodesCoeff,g=e.transitionDuration,v=e.blinkDuration,d=e.state,y=e.rootKeyName,m=e.pushMethod,b=e.tree,x=e.tooltipOptions,M=e.onClickText,_=i-c.left-c.right,w=i*u-c.top-c.bottom,S=i,j=i*u,k={id:r,preserveAspectRatio:"xMinYMin slice"};o.width||(k.width=S),o.width&&o.height||(k.viewBox="0 0 ".concat(S," ").concat(j));var A,E=p.select(t),N=p.behavior.zoom().scaleExtent([.1,3]).scale(a),O=E.append("svg").attr(k).style(Tu({cursor:"-webkit-grab"},o)).call(N.on("zoom",(function(){var t=p.event,n=t.translate,e=t.scale;O.attr("transform","translate(".concat(n.toString(),")scale(").concat(e,")"))}))).append("g").attr({transform:"translate(".concat(c.left+o.node.radius,", ").concat(c.top,") scale(").concat(a,")")}),C=p.layout.tree().size([_,w]);f&&C.sort((function(t,n){return n.name.toLowerCase()<t.name.toLowerCase()?1:-1}));var z={root:{id:"root",parentId:null,x:w/2,y:0}};function T(t,n,e){for(var r=t[n];r;){if(!(r=t[r.parentId]))return null;if(!e||e(r))return r}}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b||d;A=b?t:iu(t,{key:y,pushMethod:m}),!gt(A)&&A.name||(A={name:"error",message:"Please provide a state map or a tree structure"});var n=0,e=0;function r(){var t=p.svg.diagonal().projection((function(t){return[t.y,t.x]})),i=Math.max.apply(Math,l(Mu(A))),u=(C=C.size([25*i*h,_])).nodes(A),a=C.links(u);u.forEach((function(t){return t.y=t.depth*(7*e*s)}));var c=u.map((function(t){return{parentId:t.parent&&t.parent.id,id:t.id,x:t.x,y:t.y}})),f={};c.forEach((function(t){return f[t.id]=t}));var d=O.selectAll("g.node").property("__oldData__",(function(t){return t})).data(u,(function(t){return t.id||(t.id=++n)})),y=d.enter().append("g").attr({class:"node",transform:function(t){var n=T(f,t.id,(function(t){return!!z[t.id]})),e=n&&z[n.id]||z.root;return"translate(".concat(e.y,",").concat(e.x,")")}}).style({fill:o.text.colors.default,cursor:"pointer"}).on("mouseover",(function(){p.select(this).style({fill:o.text.colors.hover})})).on("mouseout",(function(){p.select(this).style({fill:o.text.colors.default})}));x.disabled||y.call(Cu(p,"tooltip",Tu(Tu({},x),{},{root:E})).text((function(t,n){return _u(t,0,x)})).style(x.style));var m=y.append("g");m.append("circle").attr({class:"nodeCircle",r:0}).on("click",(function(t){p.event.defaultPrevented||(bu(t),r())})),m.append("text").attr({class:"nodeText","text-anchor":"middle",transform:"translate(0,0)",dy:".35em"}).style({"fill-opacity":0}).text((function(t){return t.name})).on("click",M),d.select("text").text((function(t){return t.name})),d.select("circle").style({stroke:"black","stroke-width":"1.5px",fill:function(t){return t._children?o.node.colors.collapsed:t.children?o.node.colors.parent:o.node.colors.default}});var b=d.transition().duration(g).attr({transform:function(t){return"translate(".concat(t.y,",").concat(t.x,")")}});b.select("circle").attr("r",o.node.radius),b.select("text").style("fill-opacity",1).attr({transform:function(t){var n=(t.children||t._children?-1:1)*(this.getBBox().width/2+o.node.radius+5);return"translate(".concat(n,",0)")}}),d.filter((function(t){return this.__oldData__&&t.value!==this.__oldData__.value})).select("g").style("opacity","0.3").transition().duration(v).style("opacity","1");var w=d.exit().transition().duration(g).attr({transform:function(t){var n=T(z,t.id,(function(t){return!!f[t.id]})),e=n&&f[n.id]||f.root;return"translate(".concat(e.y,",").concat(e.x,")")}}).remove();w.select("circle").attr("r",0),w.select("text").style("fill-opacity",0);var S=O.selectAll("path.link").data(a,(function(t){return t.target.id}));S.enter().insert("path","g").attr({class:"link",d:function(n){var e=T(f,n.target.id,(function(t){return!!z[t.id]})),r=e&&z[e.id]||z.root;return t({source:r,target:r})}}).style(o.link),S.transition().duration(g).attr({d:t}),S.exit().transition().duration(g).attr({d:function(n){var e=T(z,n.target.id,(function(t){return!!f[t.id]})),r=e&&f[e.id]||f.root;return t({source:r,target:r})}}).remove(),d.property("__oldData__",null),z=f}xu(A,(function(t){e=Math.max(t.name.length,e),t.id=t.id||"root"}),(function(t){return t.children&&t.children.length>0?t.children.map((function(n){return n.id="".concat(t.id||"","|").concat(n.name),n})):null})),r()}},Object.defineProperty(t,"__esModule",{value:!0})}));
